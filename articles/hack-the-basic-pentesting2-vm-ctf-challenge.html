<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/vulnhub/" rel="category tag">VulnHub</a></span>            </div>
            <h1 class="post-title entry-title">Hack the Basic Pentesting:2 VM (CTF Challenge)</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/hack-the-basic-pentesting2-vm-ctf-challenge/" rel="bookmark"><time class="entry-date published" datetime="2018-07-14T11:11:23+00:00">July 14, 2018</time><time class="updated" datetime="2025-06-10T20:29:47+00:00">June 10, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Basic pentesting 2 is a boot2root VM and is a continuation of the Basic pentesting series by Josiah Pierce. This series is designed to help newcomers to penetration testing develop pentesting skills and have fun to explore part of the offensive side of security.</span></p>
<p><span style="color: #000000;">VirtualBox is the recommended platform for this challenge (though it <em>should</em> also work with VMware — however, I haven’t tested that).</span></p>
<p><span style="color: #000000;">This VM is a moderate step up in difficulty from the first entry in this series. If you’ve solved the first entry and have tried a few other beginner-oriented challenges, this VM should be a good next step. Once again, this challenge contains multiple initial exploitation vectors and privilege escalation vulnerabilities.</span></p>
<p><span style="color: #000000;">Your goal is to remotely attack the VM, gain root privileges, and read the flag located at /root/flag.txt.</span></p>
<p><span style="color: #000000;">You can download it from <span style="color: #0000ff;"><a style="color: #0000ff;" href="https://www.vulnhub.com/entry/basic-pentesting-2,241/">here</a></span>.</span></p>
<h3><span style="color: #800000;"><strong>Penetrating Methodologies</strong></span></h3>
<ul>
<li><span style="color: #000000;">Port scanning</span></li>
<li><span style="color: #000000;">Used enum4linux to enumerate all the users</span></li>
<li><span style="color: #000000;">SSH brute force for the user jan</span></li>
<li><span style="color: #000000;">Attained SSH .pub file for user kay</span></li>
<li><span style="color: #000000;">Used ssh2john to convert that pub key into a crackable format</span></li>
<li><span style="color: #000000;">Used John the ripper to crack key and attained a passphrase</span></li>
<li><span style="color: #000000;">Logged into user kay using the passphrase</span></li>
<li><span style="color: #000000;">Attained the file pass.bak</span></li>
<li><span style="color: #000000;">Got root access to the lab using the password in pass.bak</span></li>
<li><span style="color: #000000;">Captured the flag</span></li>
</ul>
<p><span style="color: #000000;"><strong>Let’s start!</strong></span></p>
<p><span style="color: #000000;">So, let’s begin by first scanning the ports open by using the most popular scanning tool called nmap.</span></p>
<pre class="lang:default decode:true">nmap -A 192.168.1.139</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-qgezq1IZQPk/W0nZa5RQagI/AAAAAAAAYDA/U7Kmlu7v81UJIfv7BS2wWJSzNmRiEc6fgCLcBGAs/s1600/1.png"/></span></p>
<p><span style="color: #000000;">Here, we can see that port 22 is open. But we don’t have any users currently. Let’s use <strong>enum4linux </strong>and try to find the users available.</span></p>
<pre class="lang:default decode:true">enum4linux 192.168.139</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-GaS62C_VviA/W0nZa3tsHQI/AAAAAAAAYC8/Qpo0mE48_K4_ZlK3jgYpOQ5Ss2dM8YF-wCLcBGAs/s1600/2.png"/></span></p>
<p><span style="color: #000000;">Here, we have found 2 users <strong>jan </strong>and <strong>kay</strong> with us.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-_YeyQr8ww2s/W0nZbXNFBgI/AAAAAAAAYDE/ynZlH3KKlw0NU33ov5T4kBpix3W0Cm3RwCLcBGAs/s1600/3.png"/></span></p>
<p><span style="color: #000000;">Let’s try brute-force for the user jan using hydra tool which comes pre-installed in kali. We will be using the dictionary “<strong>rockyou.txt</strong>” to brute force the login of jan</span></p>
<pre class="lang:default decode:true">hydra -l jan -P /usr/share/wordlists/rockyou.txt 192.168.1.139 ssh</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-OSU39SKcrRk/W0nZbgKSgjI/AAAAAAAAYDI/5tuOkAkKq_opfotXr8awnJYeJM1r19G6wCLcBGAs/s1600/4.png"/></span></p>
<p><span style="color: #000000;">Amazing! We have found the login details of jan!</span></p>
<pre class="lang:default decode:true">Username: jan
Password: armando</pre>
<p><span style="color: #000000;">Now, let’s try and ssh login using the details we just cracked.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-9TP476q04rc/W0nZbpBpjyI/AAAAAAAAYDM/nuYoMua4Us0feNgIoakX-Oy_Q3U-2E7xQCLcBGAs/s1600/5.png"/></span></p>
<p><span style="color: #000000;">Wow! We have successfully gained a shell here. But jan don’t have sudo rights. Let’s check for any other users and the files and folders in it.</span></p>
<pre class="lang:default decode:true">cd /home
ls</pre>
<p><span style="color: #000000;">We found another folder called <strong>kay.</strong> Let’s go inside it and run <strong>ls -la </strong>command.</span></p>
<pre class="lang:default decode:true ">cd kay
ls -la
cd .ssh
ls -al</pre>
<p><span style="color: #000000;"><strong> <img decoding="async" src="https://2.bp.blogspot.com/-KhMw9abE3TY/W0nZbm5knFI/AAAAAAAAYDQ/RaFSl_aFFDg-qfY_UuE8t0pXcQmTw-RGgCLcBGAs/s1600/6.png"/></strong></span></p>
<p><span style="color: #000000;">Hmmm… this <strong>id_rssa</strong> file looks fishy. Let’s read it using<strong>: cat id_rsa </strong>and copy paste it in the text file.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-pTWt7zfz9_0/W0nZcDBZizI/AAAAAAAAYDU/PFLcBpS3zVgPjWRq6fiaGJkT7LmoChVRQCLcBGAs/s1600/7.png"/></span></p>
<p><span style="color: #000000;">Now, we are going to use <strong>ssh2john </strong>to convert this SSH key into a crackable file for John the ripper.</span></p>
<pre class="lang:default decode:true">python ssh2john key &gt; ssh_login
john ssh_login</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-xWEMClI9jaU/W0nZcOWumQI/AAAAAAAAYDY/vgc5NTpReKMydMa0V0WMwA_Iah6CpG9wQCLcBGAs/s1600/8.png"/></span></p>
<p><span style="color: #000000;">Here, we found the phrase “<strong>beeswax</strong>.” This could either be a password or any other phrase to unlock something as we move further.</span></p>
<p><span style="color: #000000;">Let’s try and login to user <strong>kay </strong>using that key.</span></p>
<pre class="lang:default decode:true">ssh -i key kay@192.168.1.139</pre>
<p><span style="color: #000000;">It is asking for a passphrase now. Let’s try and enter “beeswax”</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-NifMcMHCZmI/W0nZcXvVEpI/AAAAAAAAYDc/Usz4LJLy7g4vlIuNwLU48GSJ20UHyTI1gCLcBGAs/s1600/9.png"/></span></p>
<p><span style="color: #000000;"><em>Voila</em>!! We have successfully gained access to kay. Now let’s try and read that <strong>pass.bak</strong> file. It looks like it could have something valuable!</span></p>
<p><span style="color: #000000;"><strong>cat pass.bak</strong></span></p>
<p><span style="color: #000000;">It gives us the phrase “<em>heresareallystrongpasswordthatfollowsthepasswordpolicy$$</em>”</span></p>
<p><span style="color: #000000;">Now Let’s check sudo rights for him and write <strong>sudo -l</strong></span></p>
<p><span style="color: #000000;">It surely asks for a root password. Let us type what we just got in pass.bak file. And you can observe kay has ALL permissions.</span></p>
<p><span style="color: #000000;"><strong>sudo su</strong></span></p>
<p><span style="color: #000000;">Voila! It gives us root access. Let’s check the <strong>/root</strong> directory by:</span></p>
<pre class="lang:default decode:true">cd /root
ls</pre>
<p><span style="color: #000000;">And we got a flag!<br/>
</span></p>
<p><span style="color: #000000;">Hence, we were able to attain the flag in this challenge. Happy hacking!</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-3WCP3snKmeo/W0nZa9vLRiI/AAAAAAAAYC4/gj5wEx87o3wRk8GFKqIGn6Lfh9exC6lbQCLcBGAs/s1600/10.png"/></span></p>
<p><span style="color: #000000;"><strong>Author: </strong>Harshit Rajpal is an InfoSec researcher and a left and right brain thinker.<strong> Contact <a style="color: #000000;" href="https://in.linkedin.com/in/harshit-rajpal-79bb43103">here</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
