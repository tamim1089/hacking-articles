<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/red-teaming/" rel="category tag">Red Teaming</a></span>            </div>
            <h1 class="post-title entry-title">A Detailed Guide on Kerbrute</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/a-detailed-guide-on-kerbrute/" rel="bookmark"><time class="entry-date published" datetime="2023-01-08T18:03:09+00:00">January 8, 2023</time><time class="updated" datetime="2025-05-16T19:36:01+00:00">May 16, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Kerbrute is a tool used to enumerate valid Active directory user accounts that use Kerberos pre-authentication. Also, this tool can be used for password attacks such as password bruteforce, username enumeration, password spray etc. This tool is being used for many years by penetration testers during internal penetration testing engagements. This tool is originally written by Ronnie Flathers (ropnop) with contributor Alex Flores.</span></p>
<h3><span style="color: #800000;">Table of Content</span></h3>
<ul>
<li><strong><span style="color: #000000;">Introduction to Kerberos Authentication</span></strong></li>
<li><strong><span style="color: #000000;">Download Kerbrute</span></strong></li>
<li><strong><span style="color: #000000;">Kerbrute help – List available features</span></strong></li>
<li><strong><span style="color: #000000;">Find valid users / User enumeration</span></strong></li>
<li><strong><span style="color: #000000;">Kerbrute Password Spray</span></strong></li>
<li><strong><span style="color: #000000;">Password Bruteforce</span></strong></li>
<li><strong><span style="color: #000000;">Bruteforce username:password combos</span></strong></li>
<li><strong><span style="color: #000000;">Saving Output</span></strong></li>
<li><strong><span style="color: #000000;">Verbose mode</span></strong></li>
<li><strong><span style="color: #000000;">Mitigation</span></strong></li>
<li><strong><span style="color: #000000;">Conclusion</span></strong></li>
</ul>
<h3><span style="color: #800000;">Introduction to Kerberos Authentication</span></h3>
<p><span style="color: #000000;">The Kerberos service runs on its default port which is 88 in a domain controller system. This service comes in windows and the Linux system as well where it is used to implement authentication processes more securely in an Active Directory environment. For more information about Kerberos authentication process and service principal name (SPN) please consider visiting the below link:</span></p>
<p><strong><span style="color: #0000ff;"><a style="color: #0000ff;" href="https://www.hackingarticles.in/deep-dive-into-kerberoasting-attack/">https://www.hackingarticles.in/deep-dive-into-kerberoasting-attack/</a></span></strong></p>
<h3><span style="color: #000000;"><span style="color: #800000;">Download Kerbrute</span> </span></h3>
<p><span style="color: #000000;">Kerbrute can be downloaded from its official github repository release page. It was last modified in December 2019. The source code of the tool is also available, and it is also available for windows systems and other Linux architecture. For simplicity, we will download compiled <strong>kerbrute_linux_amd64</strong> for the kali Linux which will be going to be an attacking system for the demonstration. The tool can be downloaded from the link given below.</span></p>
<p><span style="color: #000000;">Download link:</span></p>
<p><strong><span style="color: #0000ff;"><a style="color: #0000ff;" href="https://github.com/ropnop/kerbrute/releases/tag/v1.0.3">https://github.com/ropnop/kerbrute/releases/tag/v1.0.3</a></span></strong></p>
<h3><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiJoZSkfpQlra-lfqgS6RUnYLAhKZircXoSmKuNNcxI4K9aOo4TEbLjDLY5IJ69qSOLPFQVgZQuCgmFD0rDj0x7EsHXuv8QBRrSXcFcSXNqmO6lLTyfD_-XYSWL_86hnW0z_Sing_YI9k3rpCXqjCJVZZ0GJa8ofEAGKhaf_J87pOIaahWvzgDnpb_naQ/s16000/1.png"/></span></h3>
<h3><span style="color: #000000;"><span style="color: #800000;">Kerbrute help – List available features</span> </span></h3>
<p><span style="color: #000000;">Once we download the tool in the kali machine, we can list the available options and features by executing the following command:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">./kerbrute_linux_amd64</pre>
<p><span style="color: #000000;">In the picture below, we can see that tools can perform various tasks such as bruteforce, bruteuser, password spray, userenum and version detection. Moreover, there are some flags available too which can be very handy during penetration testing.  During the internal assessment, many times we encounter security features and the password policy so increasing and decreasing threads can help us to make password attacks stealthier. We highly recommend using all available flags come with kerbrute to get practical experience and analyse the results.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgor0nJy66lHYOaBBmIDHhssfVxQ9IJtdE5t78k0RDouL1UCtUIe5bJzAjrghuBqnr6EHl5hCwNnGvUdkrWRS1KcCLo6COnh9jtaq8_BkSX-6a4fKQPC5Uk_IMSyO1cHzJCD1BH3Xwf1b2OJmiFAUs3X9G-H15_1ZAZEPaalz08zGDMq8Zspg9H72pQTw/s16000/2.png"/></span></p>
<h3><span style="color: #800000;">Find valid users / User enumeration</span></h3>
<p><span style="color: #000000;">During the internal penetration testing engagements especially in the Active Directory environment, our initial goal is to find valid users. Once we find potential users from the company website or any other sort of misconfiguration then we can verify those users if they have valid accounts or not using kerbrute.  To do that, we will make a list of potential users that we obtained from OSINT or any other way. For the demonstration, we have created a user’s list and saved it as users.txt.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh2xONhKJhsjlnKrrdpe9uSkgvaqDGpgqhSnqLxJr7JgIJsmm5RqqSmvA2QfOp4WSiaTmrlHEL-Ce56Acxhc-biMRjHjh4UWQTqMZtZBjJ6_Iidc53OhWWDJjTXC5KuqZCYDn-hZ1vlNKq97QB-7b27-h2Wzi3wyhamASP1ETBlVIHbZc0YLLqQ9hxbZA/s16000/3.png"/></span></p>
<p><span style="color: #000000;">Then we provided users list and selected the userenum option. Next, we provided the domain controller IP address and domain name which is <strong>ignite.local</strong> in our case. The tool will test against each user account and verify if those users exist in the domain and using Kerberos pre-authentication.  In the picture below we can see that kapil, aarti, shreya, raj and pawan appeared as valid users using Kerberos authentication. Here we in the position where we can think about various Kerberos attack such as SPN and Kerberos bruteforce etc. To reproduce the proof of concept, feel free to use the below command.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">./kerbrute_linux_amd64 userenum --dc 192.168.1.19 -d ignite.local users.txt</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiWIeARP6j9o46YNN1siF9A_lpyfcw1RTrNp2tiVBlxgPM68QpWa1wag2eQkAuUBZ7HjWwptspLbeMaRJ7vwkygwU4sAYRv8NPXovgQMOhuoXOcnByVrSUp85uM2k_a4YZSgE-xn_q8KtXOPRL7jGrZ6ZVSsGEzkobKFLYf3X9ey0cu43ceeHLAoRlMVg/s16000/4.png"/></span></p>
<h3><span style="color: #800000;">Kerbrute Password Spray</span></h3>
<p><span style="color: #000000;">Suppose we have obtained a password (<strong>Password@1</strong>) during the enumeration phase that can be anything such as OSNIT leaked password, service misconfiguration, smb share, ftp etc but we do not know the real owner of the obtained password. In the username enumeration phase, we found five valid users now we can test obtained passwords with their accounts. Password spray is like password bruteforce where we test each password against single users but in the password spray, we use a single password and test it against all valid accounts.  </span></p>
<p><span style="color: #000000;">To do that, we created a new users list and saved it as users.txt. Then we used <strong>passwordspray</strong> option this time and provided the domain controller IP address and domain name along with a valid users list and obtained the password. In the picture below, we can see that three users’ accounts matched the obtained password. Now we can try log in via RDP, winrm and smb service. To reproduce the proof of concept, please consider following the below command.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">./kerbrute_linux_amd64 passwordspray --dc 192.168.1.19 -d ignite.local users.txt Password@1</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgPZQAXXmzmgkQq6FqSe26ml7eo8uLVW-YexOzELbOVNg7N-_Zuuq10qVrTeSxyhHhDG_bTzZygOL8ghZpDuQfM8wl91QIRJhOK0xK2NOiRi35k7wUiyRnNPOjdD7oedzcFZpOYFYwdV_qlDTAGfJPyd4fKZ3foZxGd7XY6AIJwExBBAkGSL1k1pHwYLw/s16000/5.png"/></span></p>
<h3><span style="color: #800000;">Password Bruteforce</span></h3>
<p><span style="color: #000000;">Next, we will try password bruteforce using potential passwords against a single user. In password bruteforce, we test all potential passwords against a single user. Here we are using a common password list where you can try with different password lists to get the expected result. Password mutation or custom wordlist can be fruitful whenever we come across internal penetration testing. We highly recommend visiting our article to get familiar yourself with password mutation using crunch utility by visiting the below link.</span></p>
<p><strong><span style="color: #0000ff;"><a style="color: #0000ff;" href="https://www.hackingarticles.in/a-detailed-guide-on-crunch/">https://www.hackingarticles.in/a-detailed-guide-on-crunch/</a></span></strong></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhENuw1gREpOUnPZlE3bdNQq4hn3J5rmQS47CYc1zuwijzEQtMpkGqH9Z99PvkTkLHtFkww-8mSGaqAwb-d3JOEvDEHGBx1_4xuzzj-A6-B9G1ZJQRa3-Z5icMiTNhM077rdHXA9-VF71ITU3sC4o3dfKnjheY9X3wJYO0zMTHnRdWsPIrMMrGs20U4hw/s16000/6.png"/></span></p>
<p><span style="color: #000000;">Firstly, we will create a potential password to perform a bruteforce attack against the domain.</span></p>
<p><span style="color: #000000;">We created a password list and saved it as pass.txt Then we used the <strong>bruteuser</strong> option this time and provided the domain controller IP address, domain name and potential password list and username ( aarti).  The tool will show <strong>+</strong> sign when it triggers with the valid password. If you are in a real-world engagement, then be careful about the <strong>account lockout policy</strong> because it may affect our client’s business. </span></p>
<p><span style="color: #000000;">It is very common to experience this problem during penetration testing and you might need to wait for 30 minutes to one hour to perform the attack again or sometime the system administrator needs to unlock it manually. Usually, it locks out the account after <strong>5 attempts,</strong> but a few companies set it at <strong>3 attempts</strong> as well. In the picture, we can see that user aarti’s password matched one password from the password list we provided. Now, we can use valid credentials to log in via RDP, psexec and evil-winrm. To reproduce the proof of concept then follow the below command.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">./kerbrute_linux_amd64 bruteuser --dc 192.168.1.19 -d ignite.local pass.txt aarti</pre>
<p><span style="color: #000000;"><strong> <img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEghKcmSpqf_NLiTPucBXNkJ-FV0vcswpS2UeNB0N5jc3WN-OAuTexD5NWuyIma1EAdNrLpD5aTTKBe4P6lHyBxEGqOuXdIlgu7pCnWh_zg8dka4GmhmR4BhxjLNHvMlN3ZkgBZFq-zvoAkpJ171DHOjI_JlfSyBGPy3Q2eckRjC1G80khnlNtHyXFk6HA/s16000/9.png"/></strong></span></p>
<h3><span style="color: #800000;">Bruteforce username: password combos</span></h3>
<p><span style="color: #000000;">In this example, we will create a combined username and password list and attempt to verify if they matched. To do that, we created a username and password list and saved it as userpass.txt and attempt to verify using pipe <strong>(|)</strong> along with the <strong>( – )</strong> flag. Here we have provided userpass list, domain controller IP address and the domain name as we did in the earlier attacks. Execution of the command verified two user accounts. To reproduce the proof of concept then feel free to repeat the process with the below command.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj7XkOO4g3hBSMd9wu3IxHzHp5p0IOrM0UmqpqpChiMteIDVUn3Tc3UgQQVUVgHY_3r2lAvXbubRPtsqYrYXn54pTluwSQQaz3x8Q-QvWNxtlIiQ3K2dkjKNcVRYmOhIn70N5nzPWIU1NR969x7RiNhU7h3th2BhwVYCxMNdJnU3u-Ov-nuoLgsCBv2tg/s16000/10.png"/></span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">cat userpass.txt | ./kerbrute_linux_amd64 --dc 192.168.1.19 -d ignite.local bruteforce -</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjvMzUTPXUWyucloFIC4yStqV2ajzotDMlPhd_HQdxFkvKQEIoDdxhw5x1d7spCeyoXp0MiaFPwityy_WP4NsLUX7aM1Sx_RZU2UxBMo_APr4GZOEKj5Jzf5TFxgh1-W_ONRjGX6UeGkJI4scs-40RIuKNiFVcjw_4PnnA--H4lTgzaLq-9ut4p-qb18w/s16000/11.png"/></span></p>
<h3><span style="color: #800000;">Saving Output</span></h3>
<p><span style="color: #000000;">Saving output is always healthy whether we are solving CTF or in real-world engagements. If we save the output, then we do not have to run the command again and again to check the results. Also, it is beneficial, especially in a real-world project where we have to provide output to our clients in the penetration testing reports. We can save the output of our findings using the <strong>-o flag</strong> providing the output file name. In this example, we have saved the output as result.txt. To reproduce the proof of concept, follow the below command where we append the -o flag in the previously used command.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic"> ./kerbrute_linux_amd64 userenum --dc 192.168.1.19 -d ignite.local users.txt -o result.txt</pre>
<p><span style="color: #000000;"><strong> <img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj_zmGuTvFbs_v2n_w-_xHP3HgB-J9nDOdUvSjqALHm80CYNZF5wd69rsXvFDvuHhAB5z21WfsZziBugvq3tzAaiiUNrCa-P7TL7sEMc_pdT96fhOFbp9l1Hb83QUmd3Mf6gUdISJPuwtZa3qDK8PMcJAfq__D7KWXgC26voTUfYwIFD8boUFiInZC7gw/s16000/12.png"/></strong></span></p>
<h3><span style="color: #000000;"><span style="color: #800000;">Verbose mode</span> </span></h3>
<p><span style="color: #000000;">We can also use verbose mode using the <strong>-v flag </strong>in our command. Verbose features give us insight into the tool with each user account. Here in the below example, we can see that when kerbrute is unable to verify the Kerberos account, it is showing user does not exist. In this example, we are trying to perform username enumeration by using the same command we used during the username enumeration phase by appending <strong>-v</strong> flag to get a verbose result. To reproduce the proof of concept, feel free to test the below command.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">./kerbrute_linux_amd64 userenum --dc 192.168.1.19 -d ignite.local users.txt -v</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgkQA3rOhKWO7zX7DrSZPtW_3RUFZPGBkRna3CWuWWgB7RbSxZXbiCflytQKkfTdcCQp_UJmhzkUIV2vO8tnssF9XUcPNkgevcYOTi9Hj8V3D10fEKEXvcSc3KFfR8Fv65Z7qEsoVrhSOovqArE5PMJZ4dTj0cX7aX79b2Q9gKJIZdteVyLnxK-ZhFKXQ/s16000/13.png"/></span></p>
<h3><span style="color: #000000;"><span style="color: #800000;">Mitigation</span> </span></h3>
<p><span style="color: #000000;">There are multiple factors and ways which can help to harden the system.</span></p>
<ol>
<li><span style="color: #000000;">Hacking article recommends following a strong password policy and recommends avoiding using common passwords.</span></li>
<li><span style="color: #000000;">Hacking article recommends applying an account lockout policy to mitigate brute-force attacks.</span></li>
<li><span style="color: #000000;">Hacking article recommends using two-factor authentication: 2FA should be used for all user accounts.</span></li>
<li><span style="color: #000000;">Hacking article also recommends to organisations educate employees about the potential threat and attacks by providing monthly awareness programs.</span></li>
<li><span style="color: #000000;">Hacking article also recommends conducting penetration testing assessments twice a year.</span></li>
</ol>
<h3><span style="color: #800000;">Conclusion</span></h3>
<p><span style="color: #000000;">We have explored the kerbrute tool briefly and its special features which can allow an attacker to gain access to the internal network. We have explored multiple techniques to exploit the internal network using the kerbrute tool where we performed password spray, password bruteforce and userenum etc. Lastly, we also provided the steps to mitigate these attacks. I hope you have learned something new today. Happy hacking!</span></p>
<p><span style="color: #000000;"><strong>Author: </strong>Subhash Paudel is a Penetration Tester and a CTF player who has a keen interest in various technologies and loves to explore more and more. Additionally, he is a technical writer at Hacking articles. Contact here</span><strong>: <span style="color: #0000ff;"><a style="color: #0000ff;" href="https://au.linkedin.com/in/subhash-paudel-a021ab207">Linkedin</a></span> </strong>and <span style="color: #0000ff;"><strong><a style="color: #0000ff;" href="https://twitter.com/subhashpaudel94">Twitter</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
<!-- YARPP Thumbnails -->
<h3>Related posts:</h3>
<div class="yarpp-thumbnails-horizontal">
<a class="yarpp-thumbnail" rel="norewrite" href="https://www.hackingarticles.in/a-detailed-guide-on-amsi-bypass/" title="A Detailed Guide on AMSI Bypass">
<span class="yarpp-thumbnail-default"><img src="https://www.hackingarticles.in/wp-content/plugins/yet-another-related-posts-plugin/images/default.png" alt="Default Thumbnail" data-pin-nopin="true"/></span><span class="yarpp-thumbnail-title">A Detailed Guide on AMSI Bypass</span></a>
<a class="yarpp-thumbnail" rel="norewrite" href="https://www.hackingarticles.in/a-detailed-guide-on-rubeus/" title="A Detailed Guide on Rubeus">
<span class="yarpp-thumbnail-default"><img src="https://www.hackingarticles.in/wp-content/plugins/yet-another-related-posts-plugin/images/default.png" alt="Default Thumbnail" data-pin-nopin="true"/></span><span class="yarpp-thumbnail-title">A Detailed Guide on Rubeus</span></a>
</div>
</div>
            </div><!-- .entry-content -->
            <footer class="post-footer entry-footer">
                                                
            </footer><!-- .entry-footer -->
            
	<nav class="navigation post-navigation" aria-label="Posts">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="https://www.hackingarticles.in/antique-hackthebox-walkthrough/" rel="prev">Antique HackTheBox Walkthrough</a></div><div class="nav-next"><a href="https://www.hackingarticles.in/a-detailed-guide-on-evil-winrm/" rel="next">A Detailed Guide on Evil-Winrm</a></div></div>
	</nav>        </div>
