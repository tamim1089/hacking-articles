<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/penetration-testing/" rel="category tag">Penetration Testing</a>, <a href="https://www.hackingarticles.in/category/website-hacking/" rel="category tag">Website Hacking</a></span>            </div>
            <h1 class="post-title entry-title">Beginner Guide to Understand Cookies and Session Management</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/beginner-guide-understand-cookies-session-management/" rel="bookmark"><time class="entry-date published" datetime="2017-07-06T18:13:29+00:00">July 6, 2017</time><time class="updated" datetime="2025-05-27T11:31:12+00:00">May 27, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">In today’s web applications, maintaining user state and ensuring secure interactions are paramount. This article delves into the fundamentals of <strong data-start="322" data-end="356">cookies and session management</strong>, exploring how cookies store user data and how sessions track user activities. Understanding these mechanisms is crucial for developers and security professionals aiming to protect user data and prevent unauthorized access.</span></p>
<p><span style="color: #000000;">From Wikipedia and w3schools</span></p>
<h3><span style="color: #800000;">Cookies</span></h3>
<p><span style="color: #000000;">A server sends a cookie, a small piece of data, to a browser and the user’s computer stores it while the user is browsing. The browser and the server produce and share cookies using the HTTP Header.</span></p>
<p><span style="color: #000000;">The server stores and retrieves data from the client. The client stores it in a file, and any web browser limits the maximum size of cookies that can be stored to 4K. Cookies have a short time period because they expire as soon as the browser closes.</span></p>
<p><span style="color: #000000;"><strong>Example- </strong>When you visit YouTube and search for Bollywood songs, your browsing history notes this, and the next time you open YouTube on your browser, the cookies read your browsing history and show you Bollywood songs on your YouTube homepage.</span></p>
<p><span style="color: #000000;"><strong>Creating cookie </strong></span></p>
<p><span style="color: #000000;">The <strong>setcookie()</strong> function is used for the cookie to be sent along with the rest of the HTTP headers.</span></p>
<p><span style="color: #000000;">When a developer creates a cookie, with the function <strong>setcookie</strong>, he must specify at least three arguments. These arguments are setcookie (<strong>name</strong>, <strong>value</strong>, <strong>expiration</strong>);</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-mTfU5sFf30A/WV56428QxHI/AAAAAAAAQZY/N7CJ-38-TekcIx_THmirBrzY5dQa0htIgCLcBGAs/s1600/0.jpg"/></span></p>
<p><span style="color: #000000;">Image Source: Google</span></p>
<h4><span style="color: #000000;">Cookie Attributes</span></h4>
<ol>
<li><span style="color: #000000;"><strong>Name:</strong> Specifies the name of the cookie</span></li>
<li><span style="color: #000000;"><strong>Value:</strong> Specifies the value of the cookie</span></li>
<li><span style="color: #000000;"><strong>Secure:</strong> Specifies whether or not the cookie should only be transmitted over a secure HTTPS connection. TRUE indicates that the cookie will only be set if a secure connection exists. Default is FALSE</span></li>
<li><span style="color: #000000;"><strong>Domain:</strong> Specifies the domain name of the cookie. To make the cookie available on all subdomains of example.com, set the domain to “example.com”. Setting it to www.example.com will make the cookie only available in the www subdomain</span></li>
<li><span style="color: #000000;"><strong>Path:</strong> Specifies the server path of the cookie. If set to “/”, the cookie will be available within the entire domain. If set to “/php/”, the cookie will only be available within the php directory and all sub-directories of php. The default value is the current directory that the cookie is being set in</span></li>
<li><span style="color: #000000;"><strong>HTTPOnly:</strong> If set to TRUE the cookie will be accessible only through the HTTP protocol (the cookie will not be accessible by scripting languages). This setting can help to reduce identity theft through XSS attacks. Default is FALSE</span></li>
<li><span style="color: #000000;"><strong>Expires:</strong> Specifies when the cookie expires. The value: time ()+86400*30, will set the cookie to expire in 30 days. If this parameter is omitted or set to 0, the cookie will expire at the end of the session (when the browser closes). Default is 0</span></li>
</ol>
<h3><span style="color: #800000;">Necessity of Cookies</span></h3>
<p><span style="color: #000000;">Cookies can be used for various purposes –</span></p>
<ul>
<li><span style="color: #000000;">Identifying Unique Visitors.</span></li>
<li><span style="color: #000000;">Http is a stateless protocol; cookies permit us to track the state of the application using small files stored on the user’s computer.</span></li>
<li><span style="color: #000000;">Recording the time each user spends on a website.</span></li>
</ul>
<h3><span style="color: #800000;">Type of cookies</span></h3>
<h4><span style="color: #800000;">Session Cookie</span></h4>
<p><span style="color: #000000;">This type of cookie dies when the user closes the browser because the browser stores it in its memory. E-commerce websites use them so the user can continue browsing without losing what he put in his cart. If the user visits the website again after closing the browser these cookies will not be available. It is safer because no developer other than the browser can access them.</span></p>
<h4><span style="color: #800000;">Persistent Cookie</span></h4>
<p><span style="color: #000000;">These cookies do not depend on the browser session because a file on the browser’s computer stores them. If the user closes the browser and then access the website again then these cookies will still be available. The lifetime of these cookies are specified in cookies itself (as expiration time). They are less secure.</span></p>
<h4><span style="color: #800000;">Third Party Cookie</span></h4>
<p><span style="color: #000000;">A domain name sets a cookie that is not the domain name appearing in the browser address bar; these cookies mainly track user browsing patterns and/or find advertisement recommendations for the user.</span></p>
<h4><span style="color: #800000;">Secure Cookie</span></h4>
<p><span style="color: #000000;">You can only transmit a secure cookie over an encrypted connection. You make a cookie secure by adding the secure flag to the cookie. Browsers which support the secure flag will only send cookies with the secure flag when the request is going to an HTTPS page.</span></p>
<h4><span style="color: #800000;">HTTP Only Cookie</span></h4>
<p><span style="color: #000000;">The server informs the browser that it should only access this particular cookie. It strictly prohibits any attempt to access the cookie from the client script. This is important security protection for session cookies.</span></p>
<h4><span style="color: #800000;">Zombies Cookie</span></h4>
<p><span style="color: #000000;">A zombie cookie is an HTTP cookie that someone recreates after deletion. Backups stored outside the web browser’s dedicated cookie storage recreate the cookies.</span></p>
<h3><span style="color: #800000;">Sessions</span></h3>
<p><span style="color: #000000;"><strong>PHP session: </strong>when any user made any changes in a web application like the sign in or out, the server does not know who that person on the system is. To shoot this problem PHP session introduce which store user information to be used across several web pages.</span></p>
<p><span style="color: #000000;">Session variables hold information about one single user and are exist to all pages in one application.</span></p>
<p><span style="color: #000000;">Example: login ID user name and password.</span></p>
<h3><span style="color: #800000;">Session ID</span></h3>
<p><span style="color: #000000;">PHP code generates a unique identification in the form of hash for that specific session which is a random string of 32 hexadecimal numbers such as 5f7dok65iif989fwrmn88er47gk834 is known as <strong>PHPsessionID</strong>.</span></p>
<p><span style="color: #000000;">A <strong>session ID</strong> <strong>or token</strong> is a unique number which is used to identify a user that has logged into a website. The session ID is stored inside the server, it is assigned to a specific user for the duration of that user’s visit (<strong>session</strong>). The <strong>session ID</strong> can be stored as a cookie, form field, or URL.</span></p>
<p><span style="color: #000000;"><strong>Explanation: </strong></span></p>
<p><span style="color: #000000;">Now let’s have a look over this picture and see what this picture says:</span></p>
<p><span style="color: #000000;">In the given picture we can clearly see there are three components inside it: <strong>HTTP Client</strong>, <strong>HTTP server</strong> and <strong>Database</strong> (holding session ID).</span></p>
<p><span style="color: #000000;"><strong>Step1:</strong> the client sends a request to the server via POST or GET.</span></p>
<p><span style="color: #000000;"><strong>Step2:</strong> session Id created on the web server. Server saves session ID into the database and using set-cookie function send session ID to the client browser as a response.</span></p>
<p><span style="color: #000000;"><strong>Step3: </strong>a cookie with session ID stored on client browser is sent back to the server where server matches it from the database and sends a response as HTTP 200 OK.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-FnbFMxnKkV4/WV565AN7ifI/AAAAAAAAQZg/5_p-m1oxBqUx2CCqyqS3Y9JAUwmGO34nQCLcBGAs/s1600/1.png"/></span></p>
<p>Image Source: http://nikolaisammut.blogspot.com/2012/04/php-sessions-cookies.html</p>
<h3><span style="color: #800000;">Session hijacking</span></h3>
<p><span style="color: #000000;">As we know different users have unique session ID when an attacker sniff the session via man-in-middle attack or via XSS and steal session ID or session token this is called session hijacking. When an attacker sends the stealing session ID to the web server, server match that ID from database stored session ID. If they both matched to each other then the server reply with <strong>HTTP 200 OK</strong> and attacker get successfully access without submitting proper Identification.</span></p>
<h5><span style="color: #000000;"><strong>Example 1:</strong> <strong>Using the session cookies issued to the user by the server.</strong></span></h5>
<p><span style="color: #000000;">For example, on any website an official user logged-in, and the server has generated a session cookie SESSION-TOKEN for that user. If the SESSION-TOKEN is the cookie which recognized the session of that user, the attacker can steal the SESSION-TOKEN cookie value to login as the legitimate user. The attacker can perform a cross-site scripting or other technique to steal the cookie from the victim’s browser.</span></p>
<p><span style="color: #000000;">Let’s suppose the attacker steals the cookie PHPSESSID=user-raj-logged-in-2341785645. Now, he can use the cookie with the following request to post a status (HACKED!!!!!!) in the victim’s home page:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">POST /home/post_status.php HTTP/1.1
Host: www.facebook.com
Cookie: PHPSESSID=user-raj-logged-in-2341785645
Content-Length:38
Content-Type:application/x-www-form-urlencoded
Status= HACKED!!!!!&amp;Submit=submit</pre>
<p><span style="color: #000000;">The attacker uses the cookie subjected to the authorized user, and gains control on the user’s session.</span></p>
<h5><span style="color: #000000;"><strong>Example 2:</strong> <strong>Guessing the cookie values of users if a complicated algorithm is not used for the cookie generation.</strong></span></h5>
<p><span style="color: #000000;">For example, consider a website uses an algorithm to generate cookies for the users. If the user name is <strong>“raj”,</strong> then the cookie generated for the user could be “LOGINID=<strong>-772017- qszbik</strong>”. In this case, the algorithm used to generate the cookie can be as follows:</span></p>
<p><span style="color: #000000;"><strong>The first part</strong> of the cookie is the <strong>date</strong> i.e. 7/7/2017 and <strong>the second part</strong> is the arrangement of the <strong>previous and next alphabet letter</strong> for each letter of the username “John” (i.e., the previous letter for r is “q” and the following letter is “s”). If the attacker is able to break the algorithm, he might estimate the cookie of users and hack their session.</span></p>
<p><span style="color: #000000;"><strong>  r=qs</strong></span></p>
<p><span style="color: #000000;"><strong>  a=zb</strong></span></p>
<p><span style="color: #000000;"><strong>  j=ik</strong></span></p>
<p><span style="color: #000000;">If the attacker decides to hack the session of <strong>admin,</strong> he can make a cookie as LOGINID =<strong>772017- zbcelnhjmo</strong>, login to raj’s session and post a status on his account.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">Host: www.facebook.com
Cookie:LOGINID =772017- zbcelnhjmo
Content-Length:45
Content-Type:application/x-www-form-urlencoded
Todays_status=I am hacked!!!!!!&amp;Submit=submit
Session hijacking tutorial</pre>
<p><span style="color: #000000;">For this tutorial, I have targeted DVWA, here cookie name is dvwa Session.</span></p>
<h5><span style="color: #000000;"><strong>Note:</strong> </span></h5>
<p><span style="color: #000000;">Session ID for this page will change every time when we will close the browser.</span></p>
<p><span style="color: #000000;">Now capture the browser request using <strong>burp suite</strong>.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-qwGpGNPkZ2I/WV564yRRbaI/AAAAAAAAQZc/_0roohU8o2IvepUlDdmbRlEtoCt6Oz_zQCEwYBhgL/s1600/2.png"/></span></p>
<p><span style="color: #000000;">From the given image we can see the cookie holds <strong>PHPSESSID P38kq30vi6arr0b321p2uv86k0</strong>; now <strong>send</strong> this intercepted data into <strong>a repeater</strong> to observe its response.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-JAmlbj7oSeY/WV565si_oII/AAAAAAAAQZk/UqEgzsAiFzgCwY3qRVdY0dUFVfxI029pwCEwYBhgL/s1600/3.png"/></span></p>
<p><span style="color: #000000;">In response you can see the highlighted data show set-cookie<strong>: dvwaSession =1 </strong>more over HTTP 200 OK response from server-side.</span></p>
<p><span style="color: #000000;">According to the developer each time a new sessionID will generate by server each time, but attacker sniff this session <strong>ID P38kq30vi6arr0b321p2uv86k0</strong> for unauthorized login.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-H3zXFspyPjg/WV5656c7oeI/AAAAAAAAQZo/2B493Uj_uU8VXxmHFd6j9BxMqLLSAWKlACEwYBhgL/s1600/4.png"/></span></p>
<p><span style="color: #000000;">Next time, when we intercept data through Burp Suite and receive another session ID, i.e. <strong>PHPSESSID=gutnu601knp4qsrgfdb4ad0te3</strong>, again send this intercepted data into a repeater to observe its response.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-ZILP7rL_jOg/WV565yMVxLI/AAAAAAAAQZs/Atj7X0VjhPc8_SRz-fgrKJ0zIC4IDAzrQCEwYBhgL/s1600/5.png"/></span></p>
<p><span style="color: #000000;">But before we perceive its response, <strong>replace new PHPSESSID from old PHPSESSID</strong>.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-88Cz5WlbmDo/WV566p3QnjI/AAAAAAAAQZw/vPCvoDrWfwsul64nfDo_QTxwifLYqqmZwCEwYBhgL/s1600/6.png"/></span></p>
<p><span style="color: #000000;">From the given image you can observe we have replaced the SESSION ID and then generate its response in which set-cookie<strong>: dvwaSession =6 </strong>and HTTP 200 OK response from server-side. <strong> </strong></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-THFCKpww_Kc/WV566sMLJlI/AAAAAAAAQZ4/aLSnAYp4R3k3W0Pp6_t0dCNyE-JDEuimACEwYBhgL/s1600/7.png"/></span></p>
<p><span style="color: #000000;">Now change the value inside intercepted data and then forward this request to the server.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-CvZaJ2JoYF0/WV566oGsNRI/AAAAAAAAQZ0/Z8eVuI-x-_oFHUbwsAc0cG7JdA8zPwT8QCEwYBhgL/s1600/8.png"/></span></p>
<h3><span style="color: #800000;">Session Vs cookies</span></h3>
<table width="701">
<tbody>
<tr>
<td width="360"><span style="color: #000000;"><strong>Session</strong></span></td>
<td width="342"><span style="color: #000000;"><strong>Cookies</strong></span></td>
</tr>
<tr>
<td width="360"><span style="color: #000000;">Data are stored on Server</span></td>
<td width="342"><span style="color: #000000;">Data are stored in Client’s Browser</span></td>
</tr>
<tr>
<td width="360"><span style="color: #000000;">Sessions Data are more secure because they never travel on every HTTPRequest</span></td>
<td width="342"><span style="color: #000000;">Travel with each and Every HTTP request</span></td>
</tr>
<tr>
<td width="360"><span style="color: #000000;">You can store Objects (Store Large Amount of Data)</span></td>
<td width="342"><span style="color: #000000;">You can store strings type (Max File Size 4 kb)</span></td>
</tr>
<tr>
<td width="360"><span style="color: #000000;">Session Cannot be used for Future Reference</span></td>
<td width="342"><span style="color: #000000;">Cookies are mostly used for future reference</span></td>
</tr>
</tbody>
</table>
<p><span style="color: #000000;">To learn more about Website Hacking. Follow this</span> <a href="https://www.hackingarticles.in/category/website-hacking/"><strong>Link.</strong></a></p>
<p><strong>Author</strong>: Aarti Singh is a Researcher and Technical Writer at Hacking Articles an Information Security Consultant Social Media Lover and Gadgets. Contact<a href="https://www.linkedin.com/in/aarti--singh/"><strong> here</strong></a></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
