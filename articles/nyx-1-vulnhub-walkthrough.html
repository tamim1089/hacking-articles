<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/vulnhub/" rel="category tag">VulnHub</a></span>            </div>
            <h1 class="post-title entry-title">Nyx: 1: Vulnhub Walkthrough</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/nyx-1-vulnhub-walkthrough/" rel="bookmark"><time class="entry-date published" datetime="2020-09-22T15:17:56+00:00">September 22, 2020</time><time class="updated" datetime="2025-07-10T17:35:50+00:00">July 10, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p class="MsoNormal"><span lang="EN-IN" style="color: #000000;">Today we are going to crack this vulnerable machine called Nyx: 1. It is created by 0xatom. You could contact him on Discord. This is a Capture the Flag type of challenge. It contains two flags. A user flag that is available from a limited level shell and a root flag that you have guessed it available from root-level access. Overall it was an Easy machine to crack.</span></p>
<p class="MsoNormal"><span lang="EN-IN" style="color: #000000;">Download Lab from <span style="color: #0000ff;"><strong><span class="MsoHyperlink"><a style="color: #0000ff;" href="https://www.vulnhub.com/entry/nyx-1,535/">here</a></span></strong></span>. </span></p>
<h3 class="MsoNormal"><span style="color: #800000;"><span lang="EN-IN" style="font-size: 12pt; line-height: 107%;">Penetration Testing Methodology</span></span></h3>
<p><strong><span style="color: #000000;">Network Scanning</span></strong></p>
<ul>
<li><span style="color: #000000;">Netdiscover</span></li>
<li><span style="color: #000000;">Nmap</span></li>
</ul>
<p><strong><span style="color: #000000;">Enumeration</span></strong></p>
<ul>
<li><span style="color: #000000;">Browsing HTTP Service</span></li>
<li><span style="color: #000000;">Enumerating Source Code</span></li>
<li><span style="color: #000000;">Directory Bruteforce</span></li>
<li><span style="color: #000000;">Nmap Script Enumeration Scan</span></li>
</ul>
<p><strong><span style="color: #000000;">Exploitation</span></strong></p>
<ul>
<li><span style="color: #000000;">Connect SSH using key</span></li>
<li><span style="color: #000000;">Post-Exploitation</span></li>
<li><span style="color: #000000;">Reading User Flag</span></li>
<li><span style="color: #000000;">Enumerating for Sudo Permissions</span></li>
</ul>
<p><strong><span style="color: #000000;">Privilege Escalation</span></strong></p>
<ul>
<li><span style="color: #000000;">Exploiting Sudo permissions on gcc</span></li>
<li><span style="color: #000000;">Getting the Root Flag</span></li>
</ul>
<h3 class="MsoNormal"><span style="color: #000000;"><span lang="EN-IN" style="font-size: 12.0pt; line-height: 107%;">Walkthrough</span></span></h3>
<h3 class="MsoNormal"><span style="color: #800000;"><span lang="EN-IN" style="font-size: 12pt; line-height: 107%;">Network Scanning</span></span></h3>
<p class="MsoNormal"><span lang="EN-IN" style="color: #000000;">Firstly, to attack any machine, we need to find the IP Address of the machine. This can be done using the netdiscover command. To find the IP Address, we need to co-relate the MAC Address of the machine that can be obtained from the Virtual Machine Configuration Setting. The IP Address of the machine was found to be 192.168.0.113. Following the netdiscover scan, we need a Nmap scan to get the information about the services running on the virtual machine. A version Nmap scan reveals that 2 services: SSH (22), HTTP (80) are running on the application.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nmap -sV 192.168.0.113</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-KZ8rEc2eScw/X2oTm8Jk0bI/AAAAAAAAo0A/g8YDW4Mz7hAhbw3vYxEvKQUY6Phoi23RwCLcBGAsYHQ/s16000/1.png"/></span></p>
<h3 class="MsoNormal"><span style="color: #800000;"><span lang="EN-IN" style="font-size: 12pt; line-height: 107%;">Enumeration</span></span></h3>
<p class="MsoNormal"><span lang="EN-IN" style="color: #000000;">Since we have the HTTP Service running on the virtual machine, let’s take a look at the webpage hosted:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">http://192.168.0.113</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-gj9VmFf_iQw/X2oTsqExEiI/AAAAAAAAo0E/whSaQZHXW9U3jGABlJECzYkKAZzlfuqGACLcBGAsYHQ/s16000/2.png"/></span></p>
<p class="MsoNormal"><span lang="EN-IN" style="color: #000000;">The webpage was a simple HTML page with the visual as shown in the image above. As a part of enumeration, we right-clicked on the browser and choose to see the source code of the webpage. It contained a small message for us that we shouldn’t waste time looking into source code. But looking into source code has never harmed anyone. It also tells us to focus on the real stuff. But what is the real stuff?</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-BI6l8KYDmfg/X2oTxq9B6xI/AAAAAAAAo0I/4Se7GUZcCfcPpLXDdm1RuMxw-tbtKkXNACLcBGAsYHQ/s16000/3.png"/></span></p>
<h4><span style="color: #000000;">Directory Bruteforce</span></h4>
<p class="MsoNormal"><span lang="EN-IN" style="color: #000000;">Next on our enumeration task is Directory Bruteforce. We used the dirb scan here. We tried some different variants. The one with the extension .php and wordlist common.txt gave us the key.php file. </span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">dirb http://192.168.0.113/ -X .php</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-DEL7SZdUi6U/X2oT2et5uJI/AAAAAAAAo0Q/9BeRe99MZaMY5tdhhx7ZQ-S4UsgFHgW1ACLcBGAsYHQ/s16000/4.png"/></span></p>
<p class="MsoNormal"><span lang="EN-IN" style="color: #000000;">Browsing the URL gives us a form where we need to enter the key to move forward. Now, all we got to do is find the key. That shouldn’t be too hard.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">http://192.168.0.113/key.php</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-rtnRVW2vbXo/X2oT9KZRjaI/AAAAAAAAo0c/Jqqg5VGqYPwS48fAgwUXTStIyUd6lVOKACLcBGAsYHQ/s16000/5.png"/></span></p>
<p class="MsoNormal"><span lang="EN-IN" style="color: #000000;">After the initial Nmap scan, we kept a bunch of Nmap script scans running just so that it can enumerate something we might miss. It is usually overkill but this time it yielded promising results. It gave us a PHP file with the label Seagate BlackArmour NAS. Therefore, the Nmap scripts scans are always important while enumeration. Never omit them while the initial enumeration of a Virtual Machine. </span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nmap -sC -sV -p 80 --script=http-enum 192.168.0.113=--</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-uBatwf95afc/X2oUCaQTfQI/AAAAAAAAo0k/7EB4ZxNhKq81Yrk1xGFboVo8xdNYxYDZACLcBGAsYHQ/s16000/6.png"/></span></p>
<p class="MsoNormal"><span lang="EN-IN" style="color: #000000;">Upon exploration of the Browser, we see that it is an OpenSSH key. It is easy to miss that the author had kept in the title tag of the page. “mpampis key”. As the PHP file renders, it will send the mpampis to the top of the tab in the browser where it is not noticeable but enumerating the source code has paid us. This might be the username that we needed to login to the SSH service.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/--OmiRqmVyz4/X2oUHnenoVI/AAAAAAAAo0s/118t9kzhCaoD13OWP_JgRVrhCjx_FTSpwCLcBGAsYHQ/s16000/7.png"/></span></p>
<h3 class="MsoNormal"><span style="color: #800000;"><span lang="EN-IN" style="font-size: 12pt; line-height: 107%;">Exploitation</span></span></h3>
<p class="MsoNormal"><span lang="EN-IN" style="color: #000000;">We copied the key from the browser and pasted it into a file and named it <b>key. </b>But it is not ready yet. The SSH key requires a specific set of permissions. The key must have the read and write permissions on the User or Owner. That means we need to set 600 permission on the key in order to use it. We used the chmod command for setting the proper permissions. Now, it’s time to log in to the virtual machine. And as you can see in the image below, the username and the key worked. We are inside the machine.</span></p>
<h3 class="MsoNormal"><span style="color: #000000;"><span lang="EN-IN" style="font-size: 12pt; line-height: 107%;">Post-Exploitation</span></span></h3>
<p class="MsoNormal"><span lang="EN-IN" style="color: #000000;">Now that we have the session, we can start to look for the user flag. First place we looked was inside the user mpampis home directory. We found the user flag. </span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">chmod 600 key
ssh -i key mpampis@192.168.0.113
cd /home
ls
cd mpampis/
ls
cat user.txt</pre>
<p class="MsoNormal"><span lang="EN-IN" style="color: #000000;"><span style="mso-spacerun: yes;"> <img decoding="async" src="https://1.bp.blogspot.com/-IXWWSM0ocEg/X2oUNpzMP5I/AAAAAAAAo0w/KMCUD8pcdigSKRBPlg0cxJ06o1hYUkHLgCLcBGAsYHQ/s16000/8.png"/></span></span></p>
<p class="MsoNormal"><span lang="EN-IN" style="color: #000000;">Now time to do more enumeration. We tried to look for the binaries which can be executed using the sudo. We found one “gcc”. </span></p>
<h3 class="MsoNormal"><span style="color: #800000;"><span lang="EN-IN" style="font-size: 12pt; line-height: 107%;">Privilege Escalation</span></span></h3>
<p class="MsoNormal"><span lang="EN-IN" style="color: #000000;">Firstly, to elevate the shell to root, we can use the gcc command with sudo. We went on to the <span style="color: #0000ff;"><strong><span class="MsoHyperlink"><a style="color: #0000ff;" href="https://gtfobins.github.io/gtfobins/gcc/#shell">GTFOBINs</a></span> </strong></span>and searched for gcc and found this simple script to elevate privileges. In a matter of seconds, we got ourselves the root shell. All that’s left to do was reading the root flag.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">sudo -l
sudo gcc -wrapper /bin/sh,-s .
id
ls
cat root.txt</pre>
<p class="MsoNormal"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-mw6KRWrl6y0/X2oUTkthBeI/AAAAAAAAo00/wNiaAsBMhQsN0JwS8h1OTUNsjys7mz-SACLcBGAsYHQ/s16000/9.png"/></span></p>
<p><span style="color: #000000;">Thank you for giving your precious time to read this walkthrough. If you want to read more VulnHub Write-ups. Follow this</span> <strong><a href="https://www.hackingarticles.in/category/ctf-challenges/vulnhub/">Link.</a></strong> <span style="color: #000000;">Happy Hacking!</span></p>
<p><span style="color: #000000;"><strong>Author: Pavandeep Singh</strong> is a Technical Writer, Researcher, and Penetration Tester. Contact on <strong>Twitter</strong> and <strong><a style="color: #000000;" href="https://www.linkedin.com/in/pavan2318/">LinkedIn</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
