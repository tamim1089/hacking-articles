<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/hackthebox/" rel="category tag">HackTheBox</a></span>            </div>
            <h1 class="post-title entry-title">Hack the Box Challenge Lazy Walkthrough</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/hack-the-box-challenge-lazy-walkthrough/" rel="bookmark"><time class="entry-date published" datetime="2018-04-18T16:17:29+00:00">April 18, 2018</time><time class="updated" datetime="2025-07-05T18:37:44+00:00">July 5, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Hello Friends!! Today we are going to solve a CTF Challenge “Lazy”. It is a lab that is developed by Hack the Box. They have an amazing collection of Online Labs, on which you can practice your penetration testing skills. They have labs which are designed for beginners to the Expert penetration testers. Lazy is a Retired Lab.</span></p>
<h5><span style="color: #000000;">Level: Medium</span></h5>
<p><span style="color: #000000;"><strong>Task:</strong> Find the user.txt and root.txt in the vulnerable Lab.</span></p>
<p><span style="color: #000000;">Let’s Begin!</span></p>
<p><span style="color: #000000;">As these labs are only available online, therefore, they have a static IP. Lazy Lab has IP: 10.10.10.18.</span></p>
<p><span style="color: #000000;">Now, as always let’s begin our hacking with the port enumeration.</span></p>
<pre class="lang:default decode:true">nmap -A 10.10.10.18</pre>
<p><span style="color: #000000;">As you can see in the given screenshot that we have two services running on our Target Machine, ssh and HTTP on ports 22 and 80 respectively.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-N6AtWlHgQ8g/WtdpqsaASqI/AAAAAAAAWYE/YP4ai05ZOwsQH9D5EjhWjd9plYjCyhKswCLcBGAs/s1600/1.png"/></span></p>
<p><span style="color: #000000;">Port 80 is open, so let’s enter the IP in our browser to check if a website is hosted on the IP. After we opened the IP in the browser, a simple page with Register and Login links greeted us. Clicking on the <strong>Register</strong> opens up a form.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-y6L2dc74MD8/WtdprdbUu3I/AAAAAAAAWYQ/uKakjMWVoug0gJcXRv-mtgSq1dAPElbewCLcBGAs/s1600/2.1.png"/></span></p>
<p><span style="color: #000000;">Then I decided to register as <strong>admin: 123</strong> for username and password respectively. </span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-OWRni7AhS8I/WtdpruHjhFI/AAAAAAAAWYU/GHDlo4rrNKQC8HnLPZrYrcZpSm-TSRh3gCLcBGAs/s1600/2.2.png"/></span></p>
<p><span style="color: #000000;">But I got an alert “Duplicate entry ‘admin’ for key PRIMARY”, also received error “can’t create the user: user exists” when I registered as admin. Hence, someone has already registered the username “admin”; now we thought about cracking the password for login, but that was quite tough to crack.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-6ySuuNag5pk/Wtdprh-bwRI/AAAAAAAAWYY/ok874wdn0cgHJf6dAdqEvv2akT5svpqFQCLcBGAs/s1600/2.3.png"/></span></p>
<p><span style="color: #000000;">At last, I decided to use the burp suite for capturing browser request. Here I simply register with aadmin as username and password 123.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-IVaitdalrxA/WtdpryEtZ2I/AAAAAAAAWYc/RzpBGPphyDQ8HaWXdQQvVGR5G24qbBvKgCLcBGAs/s1600/3.1.png"/></span></p>
<p><span style="color: #000000;">And got intercepted request, here I saw auth cookie. Then I send the intercept request to the repeater for analyses its response. It gave a hint “invalid padding” which means there could be padding oracle vulnerability. To know more about what is padding oracle vulnerability read our previous article from <a style="color: #000000;" href="http://www.hackingarticles.in/hack-padding-oracle-lab/"><span style="color: #0000ff;">here</span></a>. Since I had already faced such a situation in my past experience, therefore, I know what to do next.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-G4Z0anYd8v8/WtdpsO94LJI/AAAAAAAAWYg/qABrOsJlf70KkPHzX_IzQMupx7K74ClhwCLcBGAs/s1600/3.2.png"/></span></p>
<p><span style="color: #000000;">Next, open the terminal to run the command shown in the given image which contains target URL and above-copied auth cookie</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-lAGFA1Uwv-M/WtdpsbP0zAI/AAAAAAAAWYk/n3o-Gef4OKw9iaQi4IIpZG-msjY_yoTNwCLcBGAs/s1600/3.3.png"/></span></p>
<h5><span style="color: #000000;">Further <strong>type 2</strong> where it asked ID recommended</span></h5>
<p><span style="color: #000000;">Last part of screenshot has captured three decrypt values in base64, HEX, and ASCII. The cookie of auth is a combination of username with its password from padbuster we came to know what is the encrypted value of username for admin.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-rpuGcxDvpdQ/WtdpsXJr5YI/AAAAAAAAWYo/BNf9Q7sbiGY4w1gvLD4wBmrAb3DhfSD4wCLcBGAs/s1600/3.4.png"/></span></p>
<p><span style="color: #000000;">We are very near to our goal just encrypt this auth cookie with the user as <strong>admin</strong> once again. Here we have our plaintext as admin and let’s encode it using padbuster.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-h2nDwU0jhD8/Wtdps5F1NOI/AAAAAAAAWYs/U_3fRHmH9AsigF4eETU4Fw-so-9YyO49wCLcBGAs/s1600/3.5.png"/></span></p>
<p><span style="color: #000000;">Further <strong>type 2</strong> where it asked ID recommended. Here the highlighted part is our encrypted value for admin. Copy It “<strong>BAit——–AAAA</strong>”.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-VREuzM8lG9g/Wtdpsxbtp9I/AAAAAAAAWY0/VqoR7OJ1V-QeaMIlt7tDLb-5JmlNeR1PwCLcBGAs/s1600/3.6.png"/></span></p>
<p><span style="color: #000000;">Now replace the original auth cookie from the encrypted value which you have copied above and forwarded the intercepted request.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-HnwjOMrn67k/Wtdps-2WQfI/AAAAAAAAWYw/7w7M8WR2oUkYZ1t7PWJmttueUeAsVDUfgCLcBGAs/s1600/3.7.png"/></span></p>
<p><span style="color: #000000;">When Burp Suite sends a request, you will automatically get logged in as an admin account on the web server. After that when you will access the admin page you will get a URL “<strong>my key</strong>” that offers us with a username <strong>mitsos </strong>and an ssh key. </span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-z-im20YWEAg/WtdptWNWVxI/AAAAAAAAWY4/Yng_dH8QV5AKxdLeibN3KqxYbEvH6JQIgCLcBGAs/s1600/4.png"/></span></p>
<p><span style="color: #000000;">So as you can observe that we had opened the ssh key let’s save it into a text file as “key” on the desktop and if you notice the URL can read ssh login username mitsos.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-bUu3ovC-XMQ/Wtdpt-SUJII/AAAAAAAAWZA/qupjN3_kANoKHBQ-mKfQAt4Eh13yAnPQACLcBGAs/s1600/5.png"/></span></p>
<p><span style="color: #000000;">First, let’s download the key and then give appropriate permission using the chmod. Now that we have the ssh username and key let’s get an ssh session.</span></p>
<pre class="lang:default decode:true">ssh -i key mitsos@10.10.10.18</pre>
<p><span style="color: #000000;">After successfully accessing the PTY shell of a victim system, we will see a simple ‘ls’ command that shows we have the user.txt. Congrats we got our user flag.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-Y3DsWna-hrE/Wtdpt-0NbVI/AAAAAAAAWY8/_Q4jxm9UQfggJiEZq1qg4yJTAI7R6wThQCLcBGAs/s1600/7.png"/></span></p>
<h5><span style="color: #000000;">Now, let’s work on the root flag.</span></h5>
<p><span style="color: #000000;">As we saw in the screenshot above that we the <strong>peda</strong> and <strong>backup </strong>folder too. We have tried working around it but nothing useful seems to come up. On running the executable backup we saw that it prints the shadow file with user hashes. So we ran the strings command and found that it does contain command “<strong>cat /etc/shadow</strong>” </span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-P0vdhBwAbKA/WtdpuFGXmeI/AAAAAAAAWZE/5rMcfDYnRv8VUgGJMEZzC9KvT1L1cIEEQCLcBGAs/s1600/8.png"/></span></p>
<p><span style="color: #000000;">Now, we just need to create a personalized executable cat file, which we can do as shown in the below image. Here we are reprogramming cat to give us the shell, on execution.</span></p>
<pre class="lang:default decode:true ">cd /tmp
echo "/bin/sh" &gt; cat
chmod 777 cat
export PATH=/tmp:$PATH
cd
ls
./backup</pre>
<p>When you will execute the backup to see if we have got the shell. Great! We have the root shell.</p>
<p><img decoding="async" src="https://2.bp.blogspot.com/-jM3mILYFGtM/WxFfSUK7O9I/AAAAAAAAXJM/67EwFd3kiosL3v-4-dKfaVM3pGdLfZQEgCLcBGAs/s1600/5.png"/></p>
<p><span style="color: #000000;">Now all which is left is to get to the root directory and get the flag. But remember we have the $PATH changed; so to run the cat command we will have to specify the location.</span></p>
<pre class="lang:default decode:true ">/bin/cat root.txt</pre>
<p><span style="color: #000000;"><strong>Great!!</strong> We got our root flag successfully</span></p>
<p><span style="color: #000000;">And this way, we successfully solved our challenge. YAY!</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-KwZ7QJKgB78/WtdprEumypI/AAAAAAAAWYM/sTdECmTguAQNhGy1pe4biUb2QLTSKWclwCLcBGAs/s1600/12.png"/></span></p>
<p><span style="color: #000000;">Thank you for giving your precious time to read this walkthrough. If you want to read more HTB Write-ups. Follow this</span> <strong><a href="https://www.hackingarticles.in/category/ctf-challenges/hackthebox/">Link.</a></strong> <span style="color: #000000;">Happy Hacking!</span></p>
<p><span style="color: #000000;"><strong>Author: </strong>AArti Singh is a Researcher and Technical Writer at Hacking Articles an Information Security Consultant Social Media Lover and Gadgets. Contact<strong><a style="color: #000000;" href="https://www.linkedin.com/in/aarti--singh/"> here</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
