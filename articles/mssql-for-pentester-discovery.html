<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ms-sql-penetration-testing/" rel="category tag">MS-SQL Penetration Testing</a></span>            </div>
            <h1 class="post-title entry-title">MSSQL for Pentester: Discovery</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/mssql-for-pentester-discovery/" rel="bookmark"><time class="entry-date published" datetime="2021-08-24T19:02:10+00:00">August 24, 2021</time><time class="updated" datetime="2025-05-10T18:16:22+00:00">May 10, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;"><strong data-start="73" data-end="99">MSSQL Server Discovery</strong> is a crucial process for identifying Microsoft SQL Servers in a network. Microsoft SQL Server (MS-SQL) is a relational database manager created by Microsoft. Such management systems are used to engage databases with the user. Multiple databases are used in a large enterprise or organization, leading to the problem of SQL Sprawl. There are various methods to identify these servers from both a pentesting perspective and to simply discover MS-SQL servers. In this article, we will explore various methods for <strong data-start="610" data-end="636">MSSQL Server Discovery</strong></span></p>
<h3><span style="color: #800000;"><strong>Table of Content</strong></span></h3>
<ul>
<li><span style="color: #000000;">Metasploit</span></li>
<li><span style="color: #000000;">Nmap</span></li>
<li><span style="color: #000000;">SQLPing</span></li>
<li><span style="color: #000000;">Nessus</span></li>
<li><span style="color: #000000;">PowerUpSQL</span></li>
<li><span style="color: #000000;">Command-line</span></li>
</ul>
<h3><span style="color: #800000;"><strong>Metasploit</strong></span></h3>
<p><span style="color: #000000;">Using Metasploit to determine the MS-SQL servers in the network is one of the best remote methods one can apply. Metasploit being a remarkable framework has an exploit to determine whether there are MS-SQL servers in your network or not.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">use auxiliary/scanner/mssql/mssql_ping
set rhosts 192.168.1.0/24
exploit</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-0YD3_v0lIks/YSUT7v2Jq_I/AAAAAAAAySE/i2lsBvuo0WwMfzD_xpQcsCE7j3NeCU9kwCLcBGAsYHQ/s16000/1.png"/></span></p>
<p><span style="color: #000000;">As you can observe in the above image the Metasploit exploit has the result for you and doesn’t fail to inform you about the MS-SQL server and its port in the network.</span></p>
<h3><span style="color: #800000;"><strong>Nmap</strong></span></h3>
<p><span style="color: #000000;">Our next method to identify the MS-SQL servers in the network is by using Nmap; the amazing network pentesting tool. This method is a remote method as well. To imply this method, just open your console in kali and type in the following command:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nmap -p 1433 –script ms-sql-info 192.168.1.1/24</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-p1ClFoV-wy8/YSUT_5xRnLI/AAAAAAAAySI/uorQ3WhFlWgDL1nEA4fc4aiezUqFQs1igCLcBGAsYHQ/s16000/2.png"/></span></p>
<p><span style="color: #000000;">As Nmap is one of the best tools for NSPT, it can never fail to meet our needs. Such is proven in the image above; where you can see that the result of the command shows us the MS-SQL servers present in the network along with its details.</span></p>
<h3><span style="color: #800000;"><strong>SQLPing</strong></span></h3>
<p><span style="color: #000000;">SQLPing is a tool for Windows that helps us to discover the MS-SQL server in the network. This tool is helpful for those who prefer testing through the windows operating system. It can be downloaded from <span style="color: #0000ff;"><strong><a style="color: #0000ff;" href="https://www.sqlsecurity.com/downloads">here</a></strong></span>. Once the tool is downloaded, open the tool. In the left panel of the tool give the IP range of the network as shown in the image below. Also, this tool helps to brute force the username and password of the server through a dictionary. So, you can give the path of dictionaries at the bottom of the left panel as shown in the image below:</span></p>
<p><span style="color: #000000;">As you can see below the image, you can find the MS-SQL server in the network through the SQLPing tool. </span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-qjwREiM00TI/YSUUD2RhRlI/AAAAAAAAySM/dCcWFYBq31oHPRt3PYL8mNtdhErVh9gMwCLcBGAsYHQ/s16000/3.png"/></span></p>
<h3><span style="color: #800000;"><strong>Nessus</strong></span></h3>
<p><span style="color: #000000;">Nessus was developed by Renaud Deraison in 1998 in order to provide the security community with a free remote scanner. And so, this tool succeeded in its aim and made our lives easier. When you are specifically looking for MS-SQL servers in the network then start your Nessus scan, once the scan is complete; you can go to the vulnerabilities tab and put a filter for port 1433 as this is a default port for the Ms-SQL server.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-Xu_HyVlAsxI/YSUUHe5FSLI/AAAAAAAAySQ/fKi8yPJw6volvPRf470Tplrq2ox1c3wjwCLcBGAsYHQ/s16000/4.png"/></span></p>
<p><span style="color: #000000;">And as you can see in the image above, it will show you all the said servers.</span></p>
<h3><span style="color: #800000;"><strong>PowerUpSQL</strong></span></h3>
<p><span style="color: #000000;">Now, using PowerUpsql is a local method as this tool shows accurate results when it is well present in the network. To use this tool open Windows PowerShell and import the script of the tool and then type in the commands to identify the server. To do so, type the following set of commands:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">cd .\Desktop\
powershell -ep bypass
Import-Module .\PowerUpSQL.ps1
Get-SQL-InstanceLocal -verbose</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-B8k-kc_moqg/YSUULFByI2I/AAAAAAAAySU/EpIuB1m21yozVj7ErhO19NOEgDQKUEUtQCLcBGAsYHQ/s16000/10.png"/></span></p>
<p><span style="color: #000000;">And so, as you can see in the image above that following there above commands will produce the desired result.</span></p>
<h3><span style="color: #800000;">Command Line</span></h3>
<p><span style="color: #000000;">Using the command line is also a local method but it is quite useful.  This is the easiest method to follow when you want to identify the MS-SQL servers in your network. One of the commands for the said is:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">sqlcmd -L</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-_sYDdd_fQQQ/YSUUOjBB4hI/AAAAAAAAySc/dZ2V2X3fQ4cswvtDV0q2ghQuWfMgVquNQCLcBGAsYHQ/s16000/11.png"/></span></p>
<p><span style="color: #000000;">And the other command for the same is the following:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">osql -L</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-Ge95zwc42RM/YSUUR_RVJjI/AAAAAAAAySk/-mpRnGp2Q-YjBTQGO69T5O4JkmqQPRXugCLcBGAsYHQ/s16000/12.png"/></span></p>
<p><span style="color: #000000;">As you can observe from both of the images above, you have your desired result. </span><span style="color: #000000;">These are the most effective ways to find out the MS-SQL database servers in the network both remotely and locally. Such methods go a long way in proving our testing to be effective.</span></p>
<p><span style="color: #000000;"><strong>Author: </strong>Yashika Dhir is a Cyber Security Researcher, Penetration Tester, Red Teamer, Purple Team enthusiast. Contact her on <span style="color: #0000ff;"><strong><a style="color: #0000ff;" href="https://www.linkedin.com/in/yashika-dhir/">Linkedin</a> </strong></span>and <span style="color: #0000ff;"><strong>Twitter</strong></span></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
